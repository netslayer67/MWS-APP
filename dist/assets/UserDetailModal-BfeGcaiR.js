import{c as he,r as l,aJ as $,b as fe,aU as ge,j as t,U as ve,X as ye,Q as be,a0 as B,T as je}from"./index-D_E2vwAx.js";import{T as V}from"./EmotionalCheckinDashboard-PCcjj1yq.js";import{c as M,l as J,bh as Q,bi as H,bj as Ne,bk as Pe,bu as we,ar as z,w as Z,aQ as ee,y as Ae,b8 as Se,C as Ce,b9 as Ie,G as Le,u as te,aK as Ee,au as De,A as ke,U as R,bv as ae,L as se,j as re,bw as G,am as X,D as Te,J as Oe,F as L,N as We,be as Me,X as Re,x as _e,a as Ke,R as Fe}from"./CategoricalChart-DvBpKlV4.js";import{u as Ue,G as Be,C as Ve,a as ze,X as Ge,Y as Xe,T as qe}from"./CartesianChart-Dram2fxr.js";import{A as Ye,D as $e}from"./ActivePoints-DAK62Kra.js";import{S as Je}from"./ErrorBarContext-DFHBb1NA.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],He=he("external-link",Qe);var ne=(e,a,r,s)=>Q(e,"xAxis",a,s),ie=(e,a,r,s)=>H(e,"xAxis",a,s),le=(e,a,r,s)=>Q(e,"yAxis",r,s),oe=(e,a,r,s)=>H(e,"yAxis",r,s),Ze=M([J,ne,le,ie,oe],(e,a,r,s,i)=>we(e,"xAxis")?z(a,s,!1):z(r,i,!1)),et=(e,a,r,s,i)=>i;function tt(e){return e.type==="line"}var at=M([Pe,et],(e,a)=>e.filter(tt).find(r=>r.id===a)),st=M([J,ne,le,ie,oe,at,Ze,Ne],(e,a,r,s,i,o,c,x)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:h}=x;if(!(o==null||a==null||r==null||s==null||i==null||s.length===0||i.length===0||c==null)){var{dataKey:u,data:g}=o,f;if(g!=null&&g.length>0?f=g:f=m?.slice(p,h+1),f!=null)return At({layout:e,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:i,dataKey:u,bandSize:c,displayedData:f})}}),rt=["id"],nt=["type","layout","connectNulls","needClip"],it=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function q(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,s)}return r}function j(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?q(Object(r),!0).forEach(function(s){lt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function lt(e,a,r){return(a=ot(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ot(e){var a=dt(e,"string");return typeof a=="symbol"?a:a+""}function dt(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function _(e,a){if(e==null)return{};var r,s,i=ct(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ct(e,a){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},S.apply(null,arguments)}var mt=e=>{var{dataKey:a,name:r,stroke:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:a,type:i,color:s,value:te(r,a),payload:e}]};function ut(e){var{dataKey:a,data:r,stroke:s,strokeWidth:i,fill:o,name:c,hide:x,unit:m}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:i,fill:o,dataKey:a,nameKey:void 0,name:te(c,a),hide:x,type:e.tooltipType,color:e.stroke,unit:m}}}var de=(e,a)=>"".concat(a,"px ").concat(e-a,"px");function xt(e,a){for(var r=e.length%2!==0?[...e,0]:e,s=[],i=0;i<a;++i)s=[...s,...r];return s}var pt=(e,a,r)=>{var s=r.reduce((u,g)=>u+g);if(!s)return de(a,e);for(var i=Math.floor(e/s),o=e%s,c=a-e,x=[],m=0,p=0;m<r.length;p+=r[m],++m)if(p+r[m]>o){x=[...r.slice(0,m),o-p];break}var h=x.length%2===0?[0,c]:[c];return[...xt(r,i),...x,...h].map(u=>"".concat(u,"px")).join(", ")};function ht(e,a){var r;if(l.isValidElement(e))r=l.cloneElement(e,a);else if(typeof e=="function")r=e(a);else{var s=$("recharts-line-dot",typeof e!="boolean"?e.className:"");r=l.createElement($e,S({},a,{className:s}))}return r}function ft(e,a){return e==null?!1:a?!0:e.length===1}function gt(e){var{clipPathId:a,points:r,props:s}=e,{dot:i,dataKey:o,needClip:c}=s;if(!ft(r,i))return null;var{id:x}=s,m=_(s,rt),p=ae(i),h=_e(m),u=R(i,!0),g=r.map((v,n)=>{var d=j(j(j({key:"dot-".concat(n),r:3},h),u),{},{index:n,cx:v.x,cy:v.y,dataKey:o,value:v.value,payload:v.payload,points:r});return ht(i,d)}),f={clipPath:c?"url(#clipPath-".concat(p?"":"dots-").concat(a,")"):void 0};return l.createElement(se,S({className:"recharts-line-dots",key:"dots"},f),g)}function vt(e){var{showLabels:a,children:r,points:s}=e,i=l.useMemo(()=>s?.map(o=>{var c={x:o.x,y:o.y,width:0,height:0};return j(j({},c),{},{value:o.value,payload:o.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[s]);return l.createElement(Me,{value:a?i:null},r)}function Y(e){var{clipPathId:a,pathRef:r,points:s,strokeDasharray:i,props:o}=e,{type:c,layout:x,connectNulls:m,needClip:p}=o,h=_(o,nt),u=j(j({},R(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(a,")"):void 0,points:s,type:c,layout:x,connectNulls:m,strokeDasharray:i??o.strokeDasharray});return l.createElement(l.Fragment,null,s?.length>1&&l.createElement(Re,S({},u,{pathRef:r})),l.createElement(gt,{points:s,clipPathId:a,props:o}))}function yt(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function bt(e){var{clipPathId:a,props:r,pathRef:s,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:c,strokeDasharray:x,isAnimationActive:m,animationBegin:p,animationDuration:h,animationEasing:u,animateNewValues:g,width:f,height:v,onAnimationEnd:n,onAnimationStart:d}=r,P=i.current,y=Te(r,"recharts-line-"),[b,C]=l.useState(!1),E=!b,k=l.useCallback(()=>{typeof n=="function"&&n(),C(!1)},[n]),T=l.useCallback(()=>{typeof d=="function"&&d(),C(!0)},[d]),A=yt(s.current),D=o.current;return l.createElement(vt,{points:c,showLabels:E},r.children,l.createElement(Oe,{animationId:y,begin:p,duration:h,isActive:m,easing:u,onAnimationEnd:k,onAnimationStart:T,key:y},w=>{var me=L(D,A+D,w),O=Math.min(me,A),I;if(m)if(x){var ue="".concat(x).split(/[,\s]+/gim).map(N=>parseFloat(N));I=pt(O,A,ue)}else I=de(A,O);else I=x==null?void 0:String(x);if(P){var xe=P.length/c.length,K=w===1?c:c.map((N,pe)=>{var F=Math.floor(pe*xe);if(P[F]){var U=P[F];return j(j({},N),{},{x:L(U.x,N.x,w),y:L(U.y,N.y,w)})}return g?j(j({},N),{},{x:L(f*2,N.x,w),y:L(v/2,N.y,w)}):j(j({},N),{},{x:N.x,y:N.y})});return i.current=K,l.createElement(Y,{props:r,points:K,clipPathId:a,pathRef:s,strokeDasharray:I})}return w>0&&A>0&&(i.current=c,o.current=O),l.createElement(Y,{props:r,points:c,clipPathId:a,pathRef:s,strokeDasharray:I})}),l.createElement(We,{label:r.label}))}function jt(e){var{clipPathId:a,props:r}=e,s=l.useRef(null),i=l.useRef(0),o=l.useRef(null);return l.createElement(bt,{props:r,clipPathId:a,previousPointsRef:s,longestAnimatedLengthRef:i,pathRef:o})}var Nt=(e,a)=>({x:e.x,y:e.y,value:e.value,errorVal:re(e.payload,a)});class Pt extends l.Component{render(){var a,{hide:r,dot:s,points:i,className:o,xAxisId:c,yAxisId:x,top:m,left:p,width:h,height:u,id:g,needClip:f}=this.props;if(r)return null;var v=$("recharts-line",o),n=g,{r:d=3,strokeWidth:P=2}=(a=R(s,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},y=ae(s),b=d*2+P;return l.createElement(l.Fragment,null,l.createElement(se,{className:v},f&&l.createElement("defs",null,l.createElement(Be,{clipPathId:n,xAxisId:c,yAxisId:x}),!y&&l.createElement("clipPath",{id:"clipPath-dots-".concat(n)},l.createElement("rect",{x:p-b/2,y:m-b/2,width:h+b,height:u+b}))),l.createElement(Je,{xAxisId:c,yAxisId:x,data:i,dataPointFormatter:Nt,errorBarOffset:0},l.createElement(jt,{props:this.props,clipPathId:n}))),l.createElement(Ye,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ce={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Le.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function wt(e){var a=Z(e,ce),{activeDot:r,animateNewValues:s,animationBegin:i,animationDuration:o,animationEasing:c,connectNulls:x,dot:m,hide:p,isAnimationActive:h,label:u,legendType:g,xAxisId:f,yAxisId:v,id:n}=a,d=_(a,it),{needClip:P}=Ue(f,v),y=Ee(),b=De(),C=ee(),E=ke(w=>st(w,f,v,C,n));if(b!=="horizontal"&&b!=="vertical"||E==null||y==null)return null;var{height:k,width:T,x:A,y:D}=y;return l.createElement(Pt,S({},d,{id:n,connectNulls:x,dot:m,activeDot:r,animateNewValues:s,animationBegin:i,animationDuration:o,animationEasing:c,isAnimationActive:h,hide:p,label:u,legendType:g,xAxisId:f,yAxisId:v,points:E,layout:b,height:k,width:T,left:A,top:D,needClip:P}))}function At(e){var{layout:a,xAxis:r,yAxis:s,xAxisTicks:i,yAxisTicks:o,dataKey:c,bandSize:x,displayedData:m}=e;return m.map((p,h)=>{var u=re(p,c);if(a==="horizontal"){var g=G({axis:r,ticks:i,bandSize:x,entry:p,index:h}),f=X(u)?null:s.scale(u);return{x:g,y:f,value:u,payload:p}}var v=X(u)?null:r.scale(u),n=G({axis:s,ticks:o,bandSize:x,entry:p,index:h});return v==null||n==null?null:{x:v,y:n,value:u,payload:p}}).filter(Boolean)}function St(e){var a=Z(e,ce),r=ee();return l.createElement(Ae,{id:a.id,type:"line"},s=>l.createElement(l.Fragment,null,l.createElement(Se,{legendPayload:mt(a)}),l.createElement(Ce,{fn:ut,args:a}),l.createElement(Ie,{type:"line",id:s,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),l.createElement(wt,S({},a,{id:s}))))}var W=l.memo(St);W.displayName="Line";var Ct=["axis"],It=l.forwardRef((e,a)=>l.createElement(Ve,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ct,tooltipPayloadSearcher:Ke,categoricalChartProps:e,ref:a}));const Lt=l.memo(({user:e,isOpen:a,onClose:r})=>{const s=fe(),[i,o]=l.useState(null),[c,x]=l.useState(!1),[m,p]=l.useState("month");l.useEffect(()=>{a&&e?.id&&h()},[a,e,m]);const h=async()=>{if(e?.id){x(!0);try{console.log("Fetching trends for user:",e.id,"period:",m);const n=await ge(e.id,m);console.log("User trends response:",n.data),o(n.data?.data||n.data)}catch(n){console.error("Error fetching user trends:",n),o(null)}finally{x(!1)}}},u=l.useMemo(()=>{if(i?.summary)return i.summary;if(e?.periodSummary){const n=e.periodSummary.submissions||0,d=e.periodSummary.needsSupportDays||0;return{averagePresence:e.periodSummary.avgPresence||0,averageCapacity:e.periodSummary.avgCapacity||0,supportNeededCount:d,emotionalStability:n?Math.max(0,1-d/n):null}}return null},[i?.summary,e?.periodSummary]);if(!a||!e)return null;const g=[e.role,e.department||e.unit].filter(Boolean).join(" â€¢ "),f=({active:n,payload:d,label:P})=>{if(n&&d&&d.length){const y=d[0]?.payload;return t.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 shadow-lg max-w-xs",children:[t.jsx("p",{className:"font-medium text-foreground mb-2",children:new Date(P).toLocaleDateString()}),d.map((b,C)=>t.jsxs("p",{className:"text-sm",style:{color:b.color},children:[b.name,": ",b.value,"/10"]},C)),y&&t.jsxs("div",{className:"mt-2 pt-2 border-t border-border/50",children:[y.selectedMoods&&y.selectedMoods.length>0&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Moods: ",y.selectedMoods.join(", ")]}),y.weatherType&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Weather: ",y.weatherType]}),y.needsSupport&&t.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Support requested"})]})]})}return null},v=[{id:"week",label:"Week"},{id:"month",label:"Month"},{id:"semester",label:"Semester"}];return t.jsx("div",{className:"fixed inset-0 bg-foreground/70 dark:bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-card rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center",children:t.jsx(ve,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:g||"Team member"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>s(`/emotional-wellness/${e.id}`),className:"flex items-center gap-2 px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm",title:"View full individual report",children:[t.jsx(He,{className:"w-4 h-4"}),"Full Report"]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-muted rounded-lg transition-colors",title:"Close modal",children:t.jsx(ye,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx(be,{className:"w-4 h-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Period:"}),t.jsx("div",{className:"flex gap-1",children:v.map(n=>t.jsx("button",{onClick:()=>p(n.id),className:`px-3 py-1 text-xs rounded-full transition-colors ${m===n.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:n.label},n.id))})]}),u&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"glass glass-card p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(B,{className:"w-4 h-4 text-emerald-500"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Avg Presence"})]}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Number(u.averagePresence||0).toFixed(1),"/10"]})]}),t.jsxs("div",{className:"glass glass-card p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(je,{className:"w-4 h-4 text-blue-500"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Avg Capacity"})]}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Number(u.averageCapacity||0).toFixed(1),"/10"]})]}),t.jsxs("div",{className:"glass glass-card p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(V,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Support Needed"})]}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[u.supportNeededCount||0," times"]})]}),t.jsxs("div",{className:"glass glass-card p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(B,{className:"w-4 h-4 text-purple-500"}),t.jsx("span",{className:"text-sm font-medium text-foreground",children:"Emotional Stability"})]}),t.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[u.emotionalStability?(u.emotionalStability*100).toFixed(0):0,"%"]})]})]}),i&&i.summary&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"glass glass-card p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-foreground mb-3",children:"Mood Patterns"}),i.summary.moodPatterns&&Object.keys(i.summary.moodPatterns).length>0?t.jsx("div",{className:"space-y-2",children:Object.entries(i.summary.moodPatterns).sort(([,n],[,d])=>d-n).slice(0,5).map(([n,d])=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm capitalize",children:n}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16 bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${d/Math.max(...Object.values(i.summary.moodPatterns))*100}%`}})}),t.jsx("span",{className:"text-xs text-muted-foreground w-6 text-right",children:d})]})]},n))}):t.jsx("p",{className:"text-sm text-muted-foreground",children:"No mood data available"})]}),t.jsxs("div",{className:"glass glass-card p-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-foreground mb-3",children:"Weather Patterns"}),i.summary.weatherPatterns&&Object.keys(i.summary.weatherPatterns).length>0?t.jsx("div",{className:"space-y-2",children:Object.entries(i.summary.weatherPatterns).sort(([,n],[,d])=>d-n).slice(0,5).map(([n,d])=>t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm capitalize",children:n.replace("-"," ")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16 bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${d/Math.max(...Object.values(i.summary.weatherPatterns))*100}%`}})}),t.jsx("span",{className:"text-xs text-muted-foreground w-6 text-right",children:d})]})]},n))}):t.jsx("p",{className:"text-sm text-muted-foreground",children:"No weather data available"})]})]}),i&&i.summary&&i.summary.insights&&i.summary.insights.length>0&&t.jsxs("div",{className:"glass glass-card p-4 mb-6",children:[t.jsx("h4",{className:"text-lg font-semibold text-foreground mb-3",children:"AI Insights"}),t.jsx("div",{className:"space-y-2",children:i.summary.insights.map((n,d)=>t.jsxs("div",{className:"flex items-start gap-2 p-2 bg-muted/20 rounded-lg",children:[t.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-foreground",children:n})]},d))})]}),t.jsxs("div",{className:"glass glass-card p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Emotional Trends"}),c?t.jsx("div",{className:"h-64 flex items-center justify-center",children:t.jsx("div",{className:"text-muted-foreground",children:"Loading trends..."})}):i?.trends&&i.trends.length>0?t.jsx("div",{className:"h-64",children:t.jsx(Fe,{width:"100%",height:"100%",children:t.jsxs(It,{data:i.trends,children:[t.jsx(ze,{strokeDasharray:"3 3",className:"opacity-30"}),t.jsx(Ge,{dataKey:"date",className:"text-xs",tick:{fill:"currentColor"},tickFormatter:n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx(Xe,{domain:[0,10],className:"text-xs",tick:{fill:"currentColor"}}),t.jsx(qe,{content:t.jsx(f,{})}),t.jsx(W,{type:"monotone",dataKey:"presenceLevel",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2},name:"Presence"}),t.jsx(W,{type:"monotone",dataKey:"capacityLevel",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2},name:"Capacity"})]})})}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-40 flex items-center justify-center text-sm text-muted-foreground bg-muted/20 rounded-lg",children:"No trend data available for this period."}),e.lastCheckin?t.jsxs("div",{className:"rounded-lg border border-border/60 p-4 bg-card/40",children:[t.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:"Latest check-in"}),t.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:new Date(e.lastCheckin.date).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Presence: ",e.lastCheckin.presenceLevel,"/10"]}),t.jsxs("span",{children:["Capacity: ",e.lastCheckin.capacityLevel,"/10"]}),e.lastCheckin.weatherType&&t.jsx("span",{children:e.lastCheckin.weatherType}),e.lastCheckin.moods?.length>0&&t.jsxs("span",{children:["Moods: ",e.lastCheckin.moods.slice(0,3).join(", ")]})]})]}):t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"This team member has not submitted any check-ins in the selected period."})]})]}),i?.weeklyAverages&&i.weeklyAverages.length>0&&t.jsxs("div",{className:"glass glass-card p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Weekly Emotional Trends"}),t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.weeklyAverages.map((n,d)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-card/40 rounded-lg border border-border/40",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-lg",children:n.dominantWeather==="sunny"?"â˜€ï¸":n.dominantWeather==="cloudy"?"â˜ï¸":n.dominantWeather==="rain"?"ðŸŒ§ï¸":n.dominantWeather==="storm"?"â›ˆï¸":n.dominantWeather==="tornado"?"ðŸŒªï¸":"â„ï¸"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-foreground",children:["Week of ",n.week]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.dominantMoods?.join(", ")," â€¢ ",n.checkinCount," check-ins"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium text-foreground",children:["P: ",n.avgPresence,"/10"]}),t.jsxs("p",{className:"text-sm font-medium text-foreground",children:["C: ",n.avgCapacity,"/10"]})]})]},d))})]}),i?.trends&&i.trends.length>0&&t.jsxs("div",{className:"glass glass-card p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Check-ins"}),t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.trends.slice(-10).reverse().map((n,d)=>t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-card/40 rounded-lg border border-border/40",children:[t.jsx("div",{className:"text-lg flex-shrink-0",children:n.weatherType==="sunny"?"â˜€ï¸":n.weatherType==="cloudy"?"â˜ï¸":n.weatherType==="rain"?"ðŸŒ§ï¸":n.weatherType==="storm"?"â›ˆï¸":n.weatherType==="tornado"?"ðŸŒªï¸":"â„ï¸"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"font-medium text-foreground",children:new Date(n.date).toLocaleDateString()}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium text-foreground",children:["P: ",n.presenceLevel,"/10"]}),t.jsxs("p",{className:"text-sm font-medium text-foreground",children:["C: ",n.capacityLevel,"/10"]})]})]}),n.selectedMoods&&n.selectedMoods.length>0&&t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Moods: ",n.selectedMoods.join(", ")]}),n.details&&t.jsxs("p",{className:"text-sm text-foreground italic",children:['"',n.details.length>100?n.details.substring(0,100)+"...":n.details,'"']}),n.needsSupport&&t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-100 text-red-800",children:[t.jsx(V,{className:"w-3 h-3 mr-1"}),"Support requested"]})})]})]},d))})]})]})]})})});Lt.displayName="UserDetailModal";export{Lt as U};
