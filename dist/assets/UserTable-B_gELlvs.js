import{c as ce,r as a,j as n,n as C,a2 as be,aI as Te,aJ as ve,a3 as D,aK as g,aL as $,aM as Ae,aN as Ce,aO as ie,aP as Ht,aQ as Yt,aR as Xt,aS as Wt,aT as qt,aU as Jt,aV as Qt,aW as Zt,aX as ke,R as T,x as Oe,m as en,A as tn,I as xe}from"./index-D2rZlo4J.js";import{u as Fe,c as Le,R as nn,A as on,C as rn,a as an}from"./index-DHjP8vSb.js";import{C as sn}from"./check-sNcRIkgw.js";import{B as Ge}from"./badge-BdnsTBaM.js";import{E as cn}from"./eye-_f8Do5l9.js";import{C as dn}from"./chevron-left-DmZs9iV3.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ln=ce("circle",un);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],pn=ce("ellipsis",fn);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xn=ce("square-pen",mn);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vn=ce("trash-2",hn),Ke=a.forwardRef(({className:e,...o},t)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:t,className:C("w-full caption-bottom text-sm",e),...o})}));Ke.displayName="Table";const Ue=a.forwardRef(({className:e,...o},t)=>n.jsx("thead",{ref:t,className:C("[&_tr]:border-b",e),...o}));Ue.displayName="TableHeader";const $e=a.forwardRef(({className:e,...o},t)=>n.jsx("tbody",{ref:t,className:C("[&_tr:last-child]:border-0",e),...o}));$e.displayName="TableBody";const gn=a.forwardRef(({className:e,...o},t)=>n.jsx("tfoot",{ref:t,className:C("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...o}));gn.displayName="TableFooter";const ge=a.forwardRef(({className:e,...o},t)=>n.jsx("tr",{ref:t,className:C("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...o}));ge.displayName="TableRow";const E=a.forwardRef(({className:e,...o},t)=>n.jsx("th",{ref:t,className:C("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...o}));E.displayName="TableHead";const P=a.forwardRef(({className:e,...o},t)=>n.jsx("td",{ref:t,className:C("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...o}));P.displayName="TableCell";const wn=a.forwardRef(({className:e,...o},t)=>n.jsx("caption",{ref:t,className:C("mt-4 text-sm text-muted-foreground",e),...o}));wn.displayName="TableCaption";var he="rovingFocusGroup.onEntryFocus",Mn={bubbles:!1,cancelable:!0},Q="RovingFocusGroup",[we,Be,bn]=Te(Q),[Cn,Ve]=be(Q,[bn]),[yn,_n]=Cn(Q),ze=a.forwardRef((e,o)=>n.jsx(we.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(we.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Rn,{...e,ref:o})})}));ze.displayName=Q;var Rn=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:u=!1,...d}=e,x=a.useRef(null),b=$(o,x),i=Fe(c),[M,v]=Ae({prop:f,defaultProp:l??null,onChange:h,caller:Q}),[w,B]=a.useState(!1),R=Ce(p),I=Be(t),V=a.useRef(!1),[te,A]=a.useState(0);return a.useEffect(()=>{const y=x.current;if(y)return y.addEventListener(he,R),()=>y.removeEventListener(he,R)},[R]),n.jsx(yn,{scope:t,orientation:r,dir:i,loop:s,currentTabStopId:M,onItemFocus:a.useCallback(y=>v(y),[v]),onItemShiftTab:a.useCallback(()=>B(!0),[]),onFocusableItemAdd:a.useCallback(()=>A(y=>y+1),[]),onFocusableItemRemove:a.useCallback(()=>A(y=>y-1),[]),children:n.jsx(D.div,{tabIndex:w||te===0?-1:0,"data-orientation":r,...d,ref:b,style:{outline:"none",...e.style},onMouseDown:g(e.onMouseDown,()=>{V.current=!0}),onFocus:g(e.onFocus,y=>{const G=!V.current;if(y.target===y.currentTarget&&G&&!w){const k=new CustomEvent(he,Mn);if(y.currentTarget.dispatchEvent(k),!k.defaultPrevented){const z=I().filter(S=>S.focusable),H=z.find(S=>S.active),ne=z.find(S=>S.id===M),fe=[H,ne,...z].filter(Boolean).map(S=>S.ref.current);Xe(fe,u)}}V.current=!1}),onBlur:g(e.onBlur,()=>B(!1))})})}),He="RovingFocusGroupItem",Ye=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:c,children:f,...l}=e,h=ve(),p=c||h,u=_n(He,t),d=u.currentTabStopId===p,x=Be(t),{onFocusableItemAdd:b,onFocusableItemRemove:i,currentTabStopId:M}=u;return a.useEffect(()=>{if(r)return b(),()=>i()},[r,b,i]),n.jsx(we.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:n.jsx(D.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...l,ref:o,onMouseDown:g(e.onMouseDown,v=>{r?u.onItemFocus(p):v.preventDefault()}),onFocus:g(e.onFocus,()=>u.onItemFocus(p)),onKeyDown:g(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=In(v,u.orientation,u.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let R=x().filter(I=>I.focusable).map(I=>I.ref.current);if(w==="last")R.reverse();else if(w==="prev"||w==="next"){w==="prev"&&R.reverse();const I=R.indexOf(v.currentTarget);R=u.loop?Sn(R,I+1):R.slice(I+1)}setTimeout(()=>Xe(R))}}),children:typeof f=="function"?f({isCurrentTabStop:d,hasTabStop:M!=null}):f})})});Ye.displayName=He;var Nn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jn(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function In(e,o,t){const r=jn(e.key,t);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Nn[r]}function Xe(e,o=!1){const t=document.activeElement;for(const r of e)if(r===t||(r.focus({preventScroll:o}),document.activeElement!==t))return}function Sn(e,o){return e.map((t,r)=>e[(o+r)%e.length])}var En=ze,Pn=Ye,Me=["Enter"," "],Dn=["ArrowDown","PageUp","Home"],We=["ArrowUp","PageDown","End"],Tn=[...Dn,...We],An={ltr:[...Me,"ArrowRight"],rtl:[...Me,"ArrowLeft"]},kn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Z="Menu",[q,On,Fn]=Te(Z),[F,qe]=be(Z,[Fn,Le,Ve]),de=Le(),Je=Ve(),[Ln,L]=F(Z),[Gn,ee]=F(Z),Qe=e=>{const{__scopeMenu:o,open:t=!1,children:r,dir:s,onOpenChange:c,modal:f=!0}=e,l=de(o),[h,p]=a.useState(null),u=a.useRef(!1),d=Ce(c),x=Fe(s);return a.useEffect(()=>{const b=()=>{u.current=!0,document.addEventListener("pointerdown",i,{capture:!0,once:!0}),document.addEventListener("pointermove",i,{capture:!0,once:!0})},i=()=>u.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",i,{capture:!0}),document.removeEventListener("pointermove",i,{capture:!0})}},[]),n.jsx(nn,{...l,children:n.jsx(Ln,{scope:o,open:t,onOpenChange:d,content:h,onContentChange:p,children:n.jsx(Gn,{scope:o,onClose:a.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:x,modal:f,children:r})})})};Qe.displayName=Z;var Kn="MenuAnchor",ye=a.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e,s=de(t);return n.jsx(on,{...s,...r,ref:o})});ye.displayName=Kn;var _e="MenuPortal",[Un,Ze]=F(_e,{forceMount:void 0}),et=e=>{const{__scopeMenu:o,forceMount:t,children:r,container:s}=e,c=L(_e,o);return n.jsx(Un,{scope:o,forceMount:t,children:n.jsx(ie,{present:t||c.open,children:n.jsx(Ht,{asChild:!0,container:s,children:r})})})};et.displayName=_e;var j="MenuContent",[$n,Re]=F(j),tt=a.forwardRef((e,o)=>{const t=Ze(j,e.__scopeMenu),{forceMount:r=t.forceMount,...s}=e,c=L(j,e.__scopeMenu),f=ee(j,e.__scopeMenu);return n.jsx(q.Provider,{scope:e.__scopeMenu,children:n.jsx(ie,{present:r||c.open,children:n.jsx(q.Slot,{scope:e.__scopeMenu,children:f.modal?n.jsx(Bn,{...s,ref:o}):n.jsx(Vn,{...s,ref:o})})})})}),Bn=a.forwardRef((e,o)=>{const t=L(j,e.__scopeMenu),r=a.useRef(null),s=$(o,r);return a.useEffect(()=>{const c=r.current;if(c)return Yt(c)},[]),n.jsx(Ne,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:g(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Vn=a.forwardRef((e,o)=>{const t=L(j,e.__scopeMenu);return n.jsx(Ne,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),zn=Jt("MenuContent.ScrollLock"),Ne=a.forwardRef((e,o)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:f,disableOutsidePointerEvents:l,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:x,onDismiss:b,disableOutsideScroll:i,...M}=e,v=L(j,t),w=ee(j,t),B=de(t),R=Je(t),I=On(t),[V,te]=a.useState(null),A=a.useRef(null),y=$(o,A,v.onContentChange),G=a.useRef(0),k=a.useRef(""),z=a.useRef(0),H=a.useRef(null),ne=a.useRef("right"),oe=a.useRef(0),fe=i?qt:a.Fragment,S=i?{as:zn,allowPinchZoom:!0}:void 0,zt=m=>{const U=k.current+m,O=I().filter(N=>!N.disabled),Y=document.activeElement,pe=O.find(N=>N.ref.current===Y)?.textValue,me=O.map(N=>N.textValue),Ee=oo(me,U,pe),X=O.find(N=>N.textValue===Ee)?.ref.current;(function N(Pe){k.current=Pe,window.clearTimeout(G.current),Pe!==""&&(G.current=window.setTimeout(()=>N(""),1e3))})(U),X&&setTimeout(()=>X.focus())};a.useEffect(()=>()=>window.clearTimeout(G.current),[]),Wt();const K=a.useCallback(m=>ne.current===H.current?.side&&ao(m,H.current?.area),[]);return n.jsx($n,{scope:t,searchRef:k,onItemEnter:a.useCallback(m=>{K(m)&&m.preventDefault()},[K]),onItemLeave:a.useCallback(m=>{K(m)||(A.current?.focus(),te(null))},[K]),onTriggerLeave:a.useCallback(m=>{K(m)&&m.preventDefault()},[K]),pointerGraceTimerRef:z,onPointerGraceIntentChange:a.useCallback(m=>{H.current=m},[]),children:n.jsx(fe,{...S,children:n.jsx(Qt,{asChild:!0,trapped:s,onMountAutoFocus:g(c,m=>{m.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:f,children:n.jsx(Zt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:x,onDismiss:b,children:n.jsx(En,{asChild:!0,...R,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:V,onCurrentTabStopIdChange:te,onEntryFocus:g(h,m=>{w.isUsingKeyboardRef.current||m.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(rn,{role:"menu","aria-orientation":"vertical","data-state":vt(v.open),"data-radix-menu-content":"",dir:w.dir,...B,...M,ref:y,style:{outline:"none",...M.style},onKeyDown:g(M.onKeyDown,m=>{const O=m.target.closest("[data-radix-menu-content]")===m.currentTarget,Y=m.ctrlKey||m.altKey||m.metaKey,pe=m.key.length===1;O&&(m.key==="Tab"&&m.preventDefault(),!Y&&pe&&zt(m.key));const me=A.current;if(m.target!==me||!Tn.includes(m.key))return;m.preventDefault();const X=I().filter(N=>!N.disabled).map(N=>N.ref.current);We.includes(m.key)&&X.reverse(),to(X)}),onBlur:g(e.onBlur,m=>{m.currentTarget.contains(m.target)||(window.clearTimeout(G.current),k.current="")}),onPointerMove:g(e.onPointerMove,J(m=>{const U=m.target,O=oe.current!==m.clientX;if(m.currentTarget.contains(U)&&O){const Y=m.clientX>oe.current?"right":"left";ne.current=Y,oe.current=m.clientX}}))})})})})})})});tt.displayName=j;var Hn="MenuGroup",je=a.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e;return n.jsx(D.div,{role:"group",...r,ref:o})});je.displayName=Hn;var Yn="MenuLabel",nt=a.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e;return n.jsx(D.div,{...r,ref:o})});nt.displayName=Yn;var ae="MenuItem",De="menu.itemSelect",ue=a.forwardRef((e,o)=>{const{disabled:t=!1,onSelect:r,...s}=e,c=a.useRef(null),f=ee(ae,e.__scopeMenu),l=Re(ae,e.__scopeMenu),h=$(o,c),p=a.useRef(!1),u=()=>{const d=c.current;if(!t&&d){const x=new CustomEvent(De,{bubbles:!0,cancelable:!0});d.addEventListener(De,b=>r?.(b),{once:!0}),Xt(d,x),x.defaultPrevented?p.current=!1:f.onClose()}};return n.jsx(ot,{...s,ref:h,disabled:t,onClick:g(e.onClick,u),onPointerDown:d=>{e.onPointerDown?.(d),p.current=!0},onPointerUp:g(e.onPointerUp,d=>{p.current||d.currentTarget?.click()}),onKeyDown:g(e.onKeyDown,d=>{const x=l.searchRef.current!=="";t||x&&d.key===" "||Me.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ue.displayName=ae;var ot=a.forwardRef((e,o)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...c}=e,f=Re(ae,t),l=Je(t),h=a.useRef(null),p=$(o,h),[u,d]=a.useState(!1),[x,b]=a.useState("");return a.useEffect(()=>{const i=h.current;i&&b((i.textContent??"").trim())},[c.children]),n.jsx(q.ItemSlot,{scope:t,disabled:r,textValue:s??x,children:n.jsx(Pn,{asChild:!0,...l,focusable:!r,children:n.jsx(D.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:p,onPointerMove:g(e.onPointerMove,J(i=>{r?f.onItemLeave(i):(f.onItemEnter(i),i.defaultPrevented||i.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:g(e.onPointerLeave,J(i=>f.onItemLeave(i))),onFocus:g(e.onFocus,()=>d(!0)),onBlur:g(e.onBlur,()=>d(!1))})})})}),Xn="MenuCheckboxItem",rt=a.forwardRef((e,o)=>{const{checked:t=!1,onCheckedChange:r,...s}=e;return n.jsx(dt,{scope:e.__scopeMenu,checked:t,children:n.jsx(ue,{role:"menuitemcheckbox","aria-checked":se(t)?"mixed":t,...s,ref:o,"data-state":Se(t),onSelect:g(s.onSelect,()=>r?.(se(t)?!0:!t),{checkForDefaultPrevented:!1})})})});rt.displayName=Xn;var at="MenuRadioGroup",[Wn,qn]=F(at,{value:void 0,onValueChange:()=>{}}),st=a.forwardRef((e,o)=>{const{value:t,onValueChange:r,...s}=e,c=Ce(r);return n.jsx(Wn,{scope:e.__scopeMenu,value:t,onValueChange:c,children:n.jsx(je,{...s,ref:o})})});st.displayName=at;var ct="MenuRadioItem",it=a.forwardRef((e,o)=>{const{value:t,...r}=e,s=qn(ct,e.__scopeMenu),c=t===s.value;return n.jsx(dt,{scope:e.__scopeMenu,checked:c,children:n.jsx(ue,{role:"menuitemradio","aria-checked":c,...r,ref:o,"data-state":Se(c),onSelect:g(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});it.displayName=ct;var Ie="MenuItemIndicator",[dt,Jn]=F(Ie,{checked:!1}),ut=a.forwardRef((e,o)=>{const{__scopeMenu:t,forceMount:r,...s}=e,c=Jn(Ie,t);return n.jsx(ie,{present:r||se(c.checked)||c.checked===!0,children:n.jsx(D.span,{...s,ref:o,"data-state":Se(c.checked)})})});ut.displayName=Ie;var Qn="MenuSeparator",lt=a.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e;return n.jsx(D.div,{role:"separator","aria-orientation":"horizontal",...r,ref:o})});lt.displayName=Qn;var Zn="MenuArrow",ft=a.forwardRef((e,o)=>{const{__scopeMenu:t,...r}=e,s=de(t);return n.jsx(an,{...s,...r,ref:o})});ft.displayName=Zn;var eo="MenuSub",[or,pt]=F(eo),W="MenuSubTrigger",mt=a.forwardRef((e,o)=>{const t=L(W,e.__scopeMenu),r=ee(W,e.__scopeMenu),s=pt(W,e.__scopeMenu),c=Re(W,e.__scopeMenu),f=a.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:h}=c,p={__scopeMenu:e.__scopeMenu},u=a.useCallback(()=>{f.current&&window.clearTimeout(f.current),f.current=null},[]);return a.useEffect(()=>u,[u]),a.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),h(null)}},[l,h]),n.jsx(ye,{asChild:!0,...p,children:n.jsx(ot,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":vt(t.open),...e,ref:ke(o,s.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:g(e.onPointerMove,J(d=>{c.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!t.open&&!f.current&&(c.onPointerGraceIntentChange(null),f.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:g(e.onPointerLeave,J(d=>{u();const x=t.content?.getBoundingClientRect();if(x){const b=t.content?.dataset.side,i=b==="right",M=i?-5:5,v=x[i?"left":"right"],w=x[i?"right":"left"];c.onPointerGraceIntentChange({area:[{x:d.clientX+M,y:d.clientY},{x:v,y:x.top},{x:w,y:x.top},{x:w,y:x.bottom},{x:v,y:x.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(d),d.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:g(e.onKeyDown,d=>{const x=c.searchRef.current!=="";e.disabled||x&&d.key===" "||An[r.dir].includes(d.key)&&(t.onOpenChange(!0),t.content?.focus(),d.preventDefault())})})})});mt.displayName=W;var xt="MenuSubContent",ht=a.forwardRef((e,o)=>{const t=Ze(j,e.__scopeMenu),{forceMount:r=t.forceMount,...s}=e,c=L(j,e.__scopeMenu),f=ee(j,e.__scopeMenu),l=pt(xt,e.__scopeMenu),h=a.useRef(null),p=$(o,h);return n.jsx(q.Provider,{scope:e.__scopeMenu,children:n.jsx(ie,{present:r||c.open,children:n.jsx(q.Slot,{scope:e.__scopeMenu,children:n.jsx(Ne,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:p,align:"start",side:f.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{f.isUsingKeyboardRef.current&&h.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:g(e.onFocusOutside,u=>{u.target!==l.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:g(e.onEscapeKeyDown,u=>{f.onClose(),u.preventDefault()}),onKeyDown:g(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),x=kn[f.dir].includes(u.key);d&&x&&(c.onOpenChange(!1),l.trigger?.focus(),u.preventDefault())})})})})})});ht.displayName=xt;function vt(e){return e?"open":"closed"}function se(e){return e==="indeterminate"}function Se(e){return se(e)?"indeterminate":e?"checked":"unchecked"}function to(e){const o=document.activeElement;for(const t of e)if(t===o||(t.focus(),document.activeElement!==o))return}function no(e,o){return e.map((t,r)=>e[(o+r)%e.length])}function oo(e,o,t){const s=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,c=t?e.indexOf(t):-1;let f=no(e,Math.max(c,0));s.length===1&&(f=f.filter(p=>p!==t));const h=f.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return h!==t?h:void 0}function ro(e,o){const{x:t,y:r}=e;let s=!1;for(let c=0,f=o.length-1;c<o.length;f=c++){const l=o[c],h=o[f],p=l.x,u=l.y,d=h.x,x=h.y;u>r!=x>r&&t<(d-p)*(r-u)/(x-u)+p&&(s=!s)}return s}function ao(e,o){if(!o)return!1;const t={x:e.clientX,y:e.clientY};return ro(t,o)}function J(e){return o=>o.pointerType==="mouse"?e(o):void 0}var so=Qe,co=ye,io=et,uo=tt,lo=je,fo=nt,po=ue,mo=rt,xo=st,ho=it,vo=ut,go=lt,wo=ft,Mo=mt,bo=ht,le="DropdownMenu",[Co]=be(le,[qe]),_=qe(),[yo,gt]=Co(le),wt=e=>{const{__scopeDropdownMenu:o,children:t,dir:r,open:s,defaultOpen:c,onOpenChange:f,modal:l=!0}=e,h=_(o),p=a.useRef(null),[u,d]=Ae({prop:s,defaultProp:c??!1,onChange:f,caller:le});return n.jsx(yo,{scope:o,triggerId:ve(),triggerRef:p,contentId:ve(),open:u,onOpenChange:d,onOpenToggle:a.useCallback(()=>d(x=>!x),[d]),modal:l,children:n.jsx(so,{...h,open:u,onOpenChange:d,dir:r,modal:l,children:t})})};wt.displayName=le;var Mt="DropdownMenuTrigger",bt=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=e,c=gt(Mt,t),f=_(t);return n.jsx(co,{asChild:!0,...f,children:n.jsx(D.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ke(o,c.triggerRef),onPointerDown:g(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(c.onOpenToggle(),c.open||l.preventDefault())}),onKeyDown:g(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&c.onOpenToggle(),l.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bt.displayName=Mt;var _o="DropdownMenuPortal",Ct=e=>{const{__scopeDropdownMenu:o,...t}=e,r=_(o);return n.jsx(io,{...r,...t})};Ct.displayName=_o;var yt="DropdownMenuContent",_t=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=gt(yt,t),c=_(t),f=a.useRef(!1);return n.jsx(uo,{id:s.contentId,"aria-labelledby":s.triggerId,...c,...r,ref:o,onCloseAutoFocus:g(e.onCloseAutoFocus,l=>{f.current||s.triggerRef.current?.focus(),f.current=!1,l.preventDefault()}),onInteractOutside:g(e.onInteractOutside,l=>{const h=l.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,u=h.button===2||p;(!s.modal||u)&&(f.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_t.displayName=yt;var Ro="DropdownMenuGroup",No=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(lo,{...s,...r,ref:o})});No.displayName=Ro;var jo="DropdownMenuLabel",Rt=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(fo,{...s,...r,ref:o})});Rt.displayName=jo;var Io="DropdownMenuItem",Nt=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(po,{...s,...r,ref:o})});Nt.displayName=Io;var So="DropdownMenuCheckboxItem",jt=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(mo,{...s,...r,ref:o})});jt.displayName=So;var Eo="DropdownMenuRadioGroup",Po=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(xo,{...s,...r,ref:o})});Po.displayName=Eo;var Do="DropdownMenuRadioItem",It=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(ho,{...s,...r,ref:o})});It.displayName=Do;var To="DropdownMenuItemIndicator",St=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(vo,{...s,...r,ref:o})});St.displayName=To;var Ao="DropdownMenuSeparator",Et=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(go,{...s,...r,ref:o})});Et.displayName=Ao;var ko="DropdownMenuArrow",Oo=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(wo,{...s,...r,ref:o})});Oo.displayName=ko;var Fo="DropdownMenuSubTrigger",Pt=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(Mo,{...s,...r,ref:o})});Pt.displayName=Fo;var Lo="DropdownMenuSubContent",Dt=a.forwardRef((e,o)=>{const{__scopeDropdownMenu:t,...r}=e,s=_(t);return n.jsx(bo,{...s,...r,ref:o,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dt.displayName=Lo;var Go=wt,Ko=bt,Uo=Ct,Tt=_t,At=Rt,kt=Nt,Ot=jt,Ft=It,Lt=St,Gt=Et,Kt=Pt,Ut=Dt;const $o=Go,Bo=Ko,Vo=T.forwardRef(({className:e,inset:o,children:t,...r},s)=>n.jsxs(Kt,{ref:s,className:C("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors text-muted-foreground focus:bg-accent/15 focus:text-foreground data-[state=open]:bg-accent/20 data-[state=open]:text-foreground",o&&"pl-8",e),...r,children:[t,n.jsx(Oe,{className:"ml-auto h-4 w-4"})]}));Vo.displayName=Kt.displayName;const zo=T.forwardRef(({className:e,...o},t)=>n.jsx(Ut,{ref:t,className:C("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border/60 bg-card/95 p-1 text-foreground shadow-glass-sm backdrop-blur-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o}));zo.displayName=Ut.displayName;const $t=T.forwardRef(({className:e,sideOffset:o=4,...t},r)=>n.jsx(Uo,{children:n.jsx(Tt,{ref:r,sideOffset:o,className:C("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border/60 bg-card/95 p-1 text-foreground shadow-glass-sm backdrop-blur-xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));$t.displayName=Tt.displayName;const re=T.forwardRef(({className:e,inset:o,...t},r)=>n.jsx(kt,{ref:r,className:C("relative flex cursor-default select-none items-center rounded-lg px-2 py-1.5 text-sm outline-none transition-colors text-muted-foreground","focus:bg-accent/15 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o&&"pl-8",e),...t}));re.displayName=kt.displayName;const Ho=T.forwardRef(({className:e,children:o,checked:t,...r},s)=>n.jsxs(Ot,{ref:s,className:C("relative flex cursor-default select-none items-center rounded-lg py-1.5 pl-8 pr-2 text-sm outline-none transition-colors text-muted-foreground","focus:bg-accent/15 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Lt,{children:n.jsx(sn,{className:"h-4 w-4"})})}),o]}));Ho.displayName=Ot.displayName;const Yo=T.forwardRef(({className:e,children:o,...t},r)=>n.jsxs(Ft,{ref:r,className:C("relative flex cursor-default select-none items-center rounded-lg py-1.5 pl-8 pr-2 text-sm outline-none transition-colors text-muted-foreground","focus:bg-accent/15 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Lt,{children:n.jsx(ln,{className:"h-2 w-2 fill-current"})})}),o]}));Yo.displayName=Ft.displayName;const Xo=T.forwardRef(({className:e,inset:o,...t},r)=>n.jsx(At,{ref:r,className:C("px-2 py-1.5 text-xs font-semibold uppercase tracking-wide text-muted-foreground",o&&"pl-8",e),...t}));Xo.displayName=At.displayName;const Wo=T.forwardRef(({className:e,...o},t)=>n.jsx(Gt,{ref:t,className:C("-mx-1 my-1 h-px bg-border/60",e),...o}));Wo.displayName=Gt.displayName;const Bt=a.memo(({status:e,employmentStatus:o})=>{const t=(r,s)=>{if(!r)return"secondary";if(!r)return"destructive";switch(s){case"Permanent":return"default";case"Contract":return"secondary";case"Probation":return"outline";default:return"secondary"}};return n.jsx(Ge,{variant:t(e,o),className:"text-xs",children:o||"Unknown"})});Bt.displayName="StatusBadge";const Vt=a.memo(({role:e})=>{const o=r=>{switch(r){case"directorate":return"gold";case"head_unit":return"purple";case"teacher":case"se_teacher":return"blue";case"staff":return"green";case"support_staff":return"orange";case"student":return"gray";default:return"secondary"}},t=r=>{switch(r){case"directorate":return"Directorate";case"head_unit":return"Head Unit";case"teacher":return"Teacher";case"se_teacher":return"SE Teacher";case"support_staff":return"Support Staff";case"student":return"Student";default:return r?.charAt(0).toUpperCase()+r?.slice(1)}};return n.jsx(Ge,{variant:o(e),className:"text-xs",children:t(e)})});Vt.displayName="RoleBadge";const qo=a.memo(({users:e,loading:o,pagination:t,onPageChange:r,onEditUser:s,onDeleteUser:c,onViewUser:f})=>{const[l,h]=a.useState("name"),[p,u]=a.useState("asc"),d=a.useMemo(()=>e?[...e].sort((i,M)=>{let v=i[l],w=M[l];return l==="department"&&(v=i.unit||i.department,w=M.unit||M.department),typeof v=="string"&&(v=v.toLowerCase()),typeof w=="string"&&(w=w.toLowerCase()),v<w?p==="asc"?-1:1:v>w?p==="asc"?1:-1:0}):[],[e,l,p]),x=i=>{l===i?u(p==="asc"?"desc":"asc"):(h(i),u("asc"))},b=i=>{if(!i)return"N/A";const{years:M,months:v,days:w}=i;return`${M}y ${v}m ${w}d`};return o?n.jsx("div",{className:"glass glass-card p-6",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((i,M)=>n.jsx("div",{className:"h-12 bg-muted/20 rounded"},M))})}):n.jsx(en.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass glass-card overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Users (",t.totalUsers,")"]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",t.currentPage," of ",t.totalPages]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ke,{children:[n.jsx(Ue,{children:n.jsxs(ge,{children:[n.jsxs(E,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>x("name"),children:["Name ",l==="name"&&(p==="asc"?"↑":"↓")]}),n.jsxs(E,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>x("email"),children:["Email ",l==="email"&&(p==="asc"?"↑":"↓")]}),n.jsxs(E,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>x("department"),children:["Department ",l==="department"&&(p==="asc"?"↑":"↓")]}),n.jsx(E,{children:"Role"}),n.jsx(E,{children:"Status"}),n.jsx(E,{children:"Working Period"}),n.jsx(E,{className:"w-12"})]})}),n.jsx($e,{children:n.jsx(tn,{children:d.map((i,M)=>n.jsxs(ge,{className:"hover:bg-muted/30",children:[n.jsx(P,{className:"font-medium",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:i.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:i.username&&`@${i.username}`})]})}),n.jsx(P,{className:"text-sm",children:i.email}),n.jsx(P,{children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",children:i.unit||i.department}),n.jsx("div",{className:"text-xs text-muted-foreground",children:i.jobPosition}),i.subordinates&&i.subordinates.length>0&&n.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Manages ",i.subordinates.length," staff"]}),i.classes&&i.classes.length>0&&n.jsxs("div",{className:"text-xs text-green-600 font-medium",children:[i.classes.length," class",i.classes.length>1?"es":""]})]})}),n.jsx(P,{children:n.jsx(Vt,{role:i.role})}),n.jsx(P,{children:n.jsx(Bt,{status:i.isActive,employmentStatus:i.employmentStatus})}),n.jsx(P,{className:"text-sm",children:b(i.workingPeriod)}),n.jsx(P,{children:n.jsxs($o,{children:[n.jsx(Bo,{asChild:!0,children:n.jsx(xe,{variant:"ghost",size:"sm",children:n.jsx(pn,{className:"w-4 h-4"})})}),n.jsxs($t,{align:"end",children:[n.jsxs(re,{onClick:()=>f(i),children:[n.jsx(cn,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(re,{onClick:()=>s(i),children:[n.jsx(xn,{className:"w-4 h-4 mr-2"}),"Edit User"]}),n.jsxs(re,{onClick:()=>c(i._id||i.id),className:"text-destructive",children:[n.jsx(vn,{className:"w-4 h-4 mr-2"}),"Deactivate"]})]})]})})]},i._id||i.id))})})]})}),t.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",d.length," of ",t.totalUsers," users"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>r(t.currentPage-1),disabled:!t.hasPrev,children:[n.jsx(dn,{className:"w-4 h-4"}),"Previous"]}),n.jsxs("span",{className:"text-sm",children:["Page ",t.currentPage," of ",t.totalPages]}),n.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>r(t.currentPage+1),disabled:!t.hasNext,children:["Next",n.jsx(Oe,{className:"w-4 h-4"})]})]})]})]})})});qo.displayName="UserTable";export{qo as default};
