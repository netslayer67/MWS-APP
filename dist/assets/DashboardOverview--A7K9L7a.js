import{c as N,r as h,j as e,$,x as L,w as A,a4 as T}from"./index-D2rZlo4J.js";import{S as G}from"./StudentsTable-DiXVOlmk.js";import{C as D}from"./chevron-down-BTfdqjhj.js";import{C as R}from"./circle-check-DcTRw1UX.js";import{R as V}from"./CategoricalChart-Cf9d4Gs_.js";import{L as I}from"./LineChart-Bfpkf45V.js";import{C as W,X as z,Y as B,T as O}from"./CartesianChart-kmLnIqT1.js";import{L as _}from"./Line-35KelT03.js";import{C as q}from"./chevron-left-DmZs9iV3.js";import"./interventionSelection-Vcld4Os_.js";import"./ActivePoints-DclT1874.js";import"./ErrorBarContext-C__XMjeI.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F=N("clock-4",E);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M12 6v6l-4 2",key:"imc3wl"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U=N("clock-8",K);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],H=N("layers",Y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],Q=N("message-square-text",X);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],Z=N("user-round",J),C=[{gradient:"from-[#6366f1] via-[#818cf8] to-[#a78bfa]",iconBg:"bg-white/20",glow:"shadow-[0_16px_40px_rgba(99,102,241,0.3)]",darkGlow:"dark:shadow-[0_16px_40px_rgba(99,102,241,0.2)]"},{gradient:"from-[#f59e0b] via-[#f97316] to-[#ef4444]",iconBg:"bg-white/20",glow:"shadow-[0_16px_40px_rgba(249,115,22,0.3)]",darkGlow:"dark:shadow-[0_16px_40px_rgba(249,115,22,0.2)]"},{gradient:"from-[#10b981] via-[#14b8a6] to-[#06b6d4]",iconBg:"bg-white/20",glow:"shadow-[0_16px_40px_rgba(20,184,166,0.3)]",darkGlow:"dark:shadow-[0_16px_40px_rgba(20,184,166,0.2)]"}],P=({statCards:t})=>e.jsx("section",{className:"grid grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:t.map((s,o)=>{const l=C[o%C.length],x=s.icon;return e.jsxs("div",{className:`relative overflow-hidden rounded-2xl sm:rounded-3xl bg-gradient-to-br ${l.gradient} p-3.5 sm:p-5 lg:p-6 ${l.glow} ${l.darkGlow} transition-transform duration-200 hover:-translate-y-0.5 hover:scale-[1.01]`,"data-aos":"fade-up","data-aos-delay":50+o*40,"data-aos-duration":"500",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-white/10 blur-xl"}),e.jsx("div",{className:"absolute -bottom-6 -left-6 w-20 h-20 sm:w-28 sm:h-28 rounded-full bg-white/5 blur-lg"})]}),e.jsxs("div",{className:"relative flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] lg:text-[11px] font-bold uppercase tracking-[0.25em] sm:tracking-[0.35em] text-white/80 truncate",children:s.label}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-white mt-1 sm:mt-2 drop-shadow-sm",children:s.value}),e.jsx("p",{className:"hidden sm:block text-xs lg:text-sm text-white/75 mt-0.5 lg:mt-1",children:s.sub})]}),e.jsx("span",{className:`${l.iconBg} flex-shrink-0 w-9 h-9 sm:w-11 sm:h-11 lg:w-[3.25rem] lg:h-[3.25rem] rounded-xl sm:rounded-2xl inline-flex items-center justify-center text-white`,children:e.jsx(x,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]},s.label)})}),ee=h.memo(P),y=10,te=({students:t,TierPill:s,ProgressBadge:o,onView:l,onUpdate:x})=>{const[c,p]=h.useState(y);h.useEffect(()=>{p(y)},[t.length]);const n=h.useMemo(()=>(t||[]).slice(0,Math.min(c,t.length)),[t,c]),r=n.length<t.length,m=t.length?Math.round(n.length/t.length*100):0;return e.jsxs("section",{className:"relative rounded-[28px] sm:rounded-[32px] overflow-hidden border border-white/40 dark:border-slate-700/60 bg-white/80 dark:bg-slate-900/70 backdrop-blur-xl shadow-[0_20px_60px_rgba(15,23,42,0.12)] dark:shadow-[0_20px_60px_rgba(0,0,0,0.4)]",children:[e.jsxs("div",{className:"relative px-5 py-5 sm:px-7 sm:py-6 border-b border-slate-100 dark:border-slate-800/80",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:e.jsx("div",{className:"absolute -top-12 -right-12 w-40 h-40 bg-gradient-to-bl from-[#818cf8]/10 to-transparent blur-[60px]"})}),e.jsxs("div",{className:"relative flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsx("p",{className:"text-[10px] sm:text-[11px] font-bold uppercase tracking-[0.3em] text-emerald-600 dark:text-emerald-400",children:"Live Roster"})]}),e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-slate-800 dark:text-white mt-1",children:"Kids on your radar today"})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:e.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200/50 dark:border-indigo-500/20 text-xs font-semibold text-indigo-600 dark:text-indigo-300",children:[t.length," students"]})})]})]}),e.jsx("div",{className:"px-3 py-4 sm:px-5 sm:py-5 lg:px-7","data-aos":"fade-up","data-aos-delay":"120",children:e.jsx(G,{students:n,TierPill:s,ProgressBadge:o,dense:!0,showActions:!0,onView:l,onUpdate:x})}),e.jsx("div",{className:"px-5 pb-5 sm:px-7 sm:pb-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("div",{className:"w-full max-w-xs",children:[e.jsx("div",{className:"h-1.5 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500 ease-out",style:{width:`${m}%`}})}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-center text-slate-400 dark:text-slate-500 mt-1.5",children:[n.length," of ",t.length," shown"]})]}),r?e.jsxs("button",{type:"button",onClick:()=>p(g=>Math.min(t.length,g+y)),className:"group inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white text-sm font-semibold shadow-[0_8px_25px_rgba(99,102,241,0.3)] hover:shadow-[0_12px_35px_rgba(99,102,241,0.4)] hover:-translate-y-0.5 transition-all duration-200",children:[e.jsx("span",{children:"Show more"}),e.jsx(D,{className:"w-4 h-4 transition-transform group-hover:translate-y-0.5"})]}):t.length>0?e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-300 border border-emerald-200/60 dark:border-emerald-500/20 text-sm font-medium",children:[e.jsx(R,{className:"w-3.5 h-3.5"}),"All students loaded"]}):null]})})]})},se=({spotlightStudent:t,spotlightProfile:s,progressUnit:o,spotlightStatus:l,weekLabel:x,history:c,TierPill:p})=>{const n=i=>{const f=Number(i);return Number.isFinite(f)?f:null},r=n(s?.baseline),m=n(s?.current),g=n(s?.target),u=r??s?.baseline??"-",w=m??s?.current??"-",j=g??s?.target??"-",a=g!=null&&m!=null?Math.max(0,g-m):"-",d=Math.min(100,Math.max(0,l||0)),b=i=>i==="-"||i===null||i===void 0?"-":`${i} ${o}`,v=t?.className||t?.class||"-",k=c?.[0]?.date||"No recent updates";return e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4","data-aos":"fade-up","data-aos-delay":"80",children:[e.jsxs("div",{className:"rounded-2xl border border-sky-200/60 dark:border-sky-800/40 bg-gradient-to-br from-sky-50/90 via-white/80 to-white/70 dark:from-sky-950/40 dark:via-slate-900/40 dark:to-slate-900/30 p-4 space-y-3 shadow-inner",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-[11px] uppercase tracking-[0.35em] text-slate-500 dark:text-white/60",children:[e.jsx(Z,{className:"w-4 h-4 text-sky-500"}),"Student"]}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/90 dark:bg-white/10 border border-white/50 text-[11px] font-semibold text-foreground dark:text-white",children:[e.jsx(U,{className:"w-3.5 h-3.5"}),x]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Grade"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:t?.grade??"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Class"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:v})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Teacher"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:s.teacher??"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Mentor"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:s.mentor??"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Tier"}),t?.tier?e.jsx(p,{tier:t.tier}):e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:"-"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-violet-200/60 dark:border-violet-800/40 bg-gradient-to-br from-violet-50/80 via-white/80 to-white/70 dark:from-violet-950/40 dark:via-slate-900/40 dark:to-slate-900/30 p-4 space-y-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-[11px] uppercase tracking-[0.35em] text-slate-500 dark:text-white/60",children:[e.jsx(H,{className:"w-4 h-4 text-violet-500"}),"Intervention"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-foreground dark:text-white",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Type:"})," ",s.type??"-"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strategy:"})," ",s.strategy??"-"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Started:"})," ",s.started??"-"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Duration:"})," ",s.duration??"-"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-semibold",children:[e.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-violet-100 text-violet-700 dark:bg-violet-900/40 dark:text-violet-200",children:["Focus: ",s.type??"-"]}),e.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-slate-100 text-slate-600 dark:bg-slate-800/50 dark:text-slate-300",children:["Last update: ",k]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-emerald-200/60 dark:border-emerald-800/40 bg-gradient-to-br from-emerald-50/80 via-white/80 to-white/70 dark:from-emerald-950/40 dark:via-slate-900/40 dark:to-slate-900/30 p-4 space-y-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-[11px] uppercase tracking-[0.35em] text-slate-500 dark:text-white/60",children:[e.jsx($,{className:"w-4 h-4 text-emerald-500"}),"Progress"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-foreground dark:text-white",children:[e.jsxs("div",{className:"rounded-xl bg-white/70 dark:bg-white/5 border border-white/40 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-muted-foreground",children:"Baseline"}),e.jsx("p",{className:"text-base font-bold",children:b(u)})]}),e.jsxs("div",{className:"rounded-xl bg-white/70 dark:bg-white/5 border border-white/40 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-muted-foreground",children:"Current"}),e.jsx("p",{className:"text-base font-bold",children:b(w)})]}),e.jsxs("div",{className:"rounded-xl bg-white/70 dark:bg-white/5 border border-white/40 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-muted-foreground",children:"Target"}),e.jsx("p",{className:"text-base font-bold",children:b(j)})]}),e.jsxs("div",{className:"rounded-xl bg-white/70 dark:bg-white/5 border border-white/40 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-muted-foreground",children:"Gap"}),e.jsx("p",{className:"text-base font-bold",children:a==="-"?"-":`${a} ${o}`})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-muted-foreground",children:[e.jsx("span",{children:"Status"}),e.jsxs("span",{className:"text-emerald-600 dark:text-emerald-300",children:[d,"% to target"]})]}),e.jsx("div",{className:"h-2.5 rounded-full bg-emerald-100/80 dark:bg-emerald-900/40 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 transition-all duration-500",style:{width:`${d}%`}})})]})]}),e.jsxs("div",{className:"rounded-2xl border border-amber-200/60 dark:border-amber-800/40 bg-gradient-to-br from-amber-50/80 via-white/80 to-white/70 dark:from-amber-950/40 dark:via-slate-900/40 dark:to-slate-900/30 p-4 space-y-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-[11px] uppercase tracking-[0.35em] text-slate-500 dark:text-white/60",children:[e.jsx(Q,{className:"w-4 h-4 text-amber-500"}),"Recent Notes"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:c?.length?c.map((i,f)=>e.jsxs("div",{className:"rounded-xl bg-white/80 dark:bg-white/5 border border-white/40 px-3 py-2 text-xs text-foreground dark:text-white",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-semibold",children:i.date||"Recent"}),e.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-muted-foreground",children:[e.jsx(F,{className:"w-3 h-3"}),i.score||i.value||""]})]}),e.jsx("p",{className:"mt-1 text-[12px] text-muted-foreground",children:i.notes||i.summary||i.description||"Check-in recorded"})]},`${i.date||f}-${f}`)):e.jsx("p",{className:"text-xs text-muted-foreground",children:"No recent notes."})})]})]})},ae=({chartSeries:t=[]})=>{const{latest:s,goal:o,delta:l,average:x,gap:c}=h.useMemo(()=>{const r=Array.isArray(t)?t:[];if(!r.length)return{latest:0,goal:100,delta:0,average:0,gap:100};const m=r[r.length-1],g=r[r.length-2],u=Number(m?.reading??0)||0,w=Number(m?.goal??100)||100,j=Number(g?.reading??u)||0,a=Math.round(r.reduce((d,b)=>d+(Number(b?.reading??0)||0),0)/r.length);return{latest:u,goal:w,delta:Math.round(u-j),average:a,gap:Math.max(0,w-u)}},[t]),p=l>=0?"text-emerald-600 dark:text-emerald-300":"text-rose-600 dark:text-rose-300",n=l>=0?"+":"";return e.jsxs("div",{className:"mtss-rainbow-shell rounded-3xl p-4 border border-white/40 dark:border-white/10 bg-gradient-to-br from-white/85 via-white/70 to-white/60 dark:from-white/10 dark:via-white/5 dark:to-white/5","data-aos":"fade-up","data-aos-delay":"140",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.4em] text-muted-foreground",children:"Trend"}),e.jsx("p",{className:"text-sm font-semibold text-foreground dark:text-white",children:"Progress vs Goal"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Latest: ",e.jsxs("span",{className:"font-semibold text-foreground dark:text-white",children:[s,"%"]})," Â· Gap: ",e.jsxs("span",{className:"font-semibold text-foreground dark:text-white",children:[c,"%"]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] font-semibold text-muted-foreground",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-emerald-50/80 text-emerald-600 dark:bg-emerald-900/40 dark:text-emerald-200 border border-emerald-200/50",children:["Latest ",s,"%"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-slate-100/80 text-slate-600 dark:bg-slate-800/50 dark:text-slate-200 border border-white/40",children:["Avg ",x,"%"]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-white/80 dark:bg-white/10 border border-white/40 ${p}`,children:[n,l,"%"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-amber-50/80 text-amber-600 dark:bg-amber-900/40 dark:text-amber-200 border border-amber-200/50",children:["Goal ",o,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-[11px] font-semibold text-muted-foreground mb-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),"Actual"]}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-gold"}),"Goal"]})]}),e.jsx(V,{width:"100%",height:260,children:e.jsxs(I,{data:t,children:[e.jsx(W,{strokeDasharray:"3 3",stroke:"rgba(148,163,184,0.3)"}),e.jsx(z,{dataKey:"date",stroke:"rgba(209,213,219,0.85)",tick:{fill:"rgba(148,163,184,0.85)",fontSize:11}}),e.jsx(B,{width:32,tickLine:!1,axisLine:!1,tick:{fill:"rgba(148,163,184,0.85)",fontSize:11},domain:[0,100],tickFormatter:r=>`${r}%`}),e.jsx(O,{cursor:{stroke:"rgba(99,102,241,0.4)",strokeWidth:2},formatter:(r,m)=>[`${r}%`,m==="reading"?"Actual":"Goal"],contentStyle:{borderRadius:16,border:"1px solid rgba(148,163,184,0.3)",backgroundColor:"rgba(15,23,42,0.9)",color:"#f8fafc"}}),e.jsx(_,{type:"monotone",dataKey:"reading",stroke:"hsl(var(--primary))",strokeWidth:2.6,dot:!1,activeDot:{r:4,strokeWidth:2,fill:"#fff"}}),e.jsx(_,{type:"monotone",dataKey:"goal",stroke:"hsl(var(--gold))",strokeDasharray:"4 4",strokeWidth:1.8,dot:!1})]})})]})},re=({students:t,progressData:s,TierPill:o})=>{const[l,x]=h.useState(0);h.useEffect(()=>{x(0)},[t.length]);const c=h.useCallback(()=>{x(a=>t.length?(a+1)%t.length:0)},[t.length]),p=h.useCallback(()=>{x(a=>t.length?(a-1+t.length)%t.length:0)},[t.length]),{spotlightStudent:n,spotlightProfile:r,progressUnit:m,spotlightStatus:g,weekLabel:u,chartSeries:w,history:j}=h.useMemo(()=>{const a=t?.[l]??t?.[0]??null,d=a?.profile||{},b=d.progressUnit||(a?.type==="Behavior"?"pts":a?.type==="Attendance"?"%":"wpm"),v=d.target?Math.round(d.current/d.target*100):0,k=parseInt(d.duration,10),i=d.chart?.length?d.chart:s?.length?s:[{label:"Start",date:"Start",reading:0,goal:100}],f=i.length,M=k&&f?`Week ${Math.min(f,k)} of ${k}`:d.duration||"Weekly check-in",S=d.history||[];return{spotlightStudent:a,spotlightProfile:d,progressUnit:b,spotlightStatus:v,weekLabel:M,chartSeries:i,history:S}},[t,s,l]);return e.jsxs("section",{className:"mtss-liquid mtss-card-surface mtss-rainbow-shell p-6 space-y-6 border border-primary/10",children:[e.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/80 dark:bg-white/10 border border-white/50 text-[11px] font-semibold uppercase tracking-[0.35em] text-slate-600 dark:text-white/80",children:"Student Spotlight"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-indigo-500/15 via-fuchsia-500/10 to-emerald-500/10 text-[11px] font-semibold text-slate-700 dark:text-white/80 border border-white/40",children:u})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-black text-foreground dark:text-white",children:n?.name||"Featured Student"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-xl",children:"Quickly scan assignment context, trends, and recent notes for this student."})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold",children:[e.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-sky-100/80 text-sky-700 dark:bg-sky-900/40 dark:text-sky-200",children:["Grade ",n?.grade??"-"]}),n?.tier?e.jsx(o,{tier:n.tier}):e.jsx("span",{className:"px-3 py-1.5 rounded-full bg-slate-100/80 text-slate-600 dark:bg-slate-800/50 dark:text-slate-300",children:"Tier -"}),e.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-violet-100/80 text-violet-700 dark:bg-violet-900/40 dark:text-violet-200",children:["Focus: ",r.type??"-"]}),e.jsxs("span",{className:"px-3 py-1.5 rounded-full bg-amber-100/80 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:["Mentor: ",r.mentor??"-"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 items-start lg:items-end",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 dark:bg-white/10 border border-white/60 dark:border-white/20 shadow-sm hover:-translate-y-0.5 transition",onClick:p,"aria-label":"Previous student",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("select",{className:"min-w-[220px] px-4 py-2 rounded-full bg-white/90 dark:bg-white/10 border border-white/60 dark:border-white/20 text-sm font-semibold text-foreground dark:text-white shadow-sm",value:n?.id||"",onChange:a=>{const d=t.findIndex(b=>(b.id||b._id)===a.target.value);x(d>=0?d:0)},children:t.map(a=>e.jsx("option",{value:a.id||a._id,children:a.name},a.id||a._id))}),e.jsx("button",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 dark:bg-white/10 border border-white/60 dark:border-white/20 shadow-sm hover:-translate-y-0.5 transition",onClick:c,"aria-label":"Next student",children:e.jsx(L,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/75 dark:bg-white/10 border border-white/50 text-xs font-semibold text-foreground dark:text-white shadow-sm",children:[e.jsx(A,{className:"w-4 h-4 text-primary"}),t.length," in roster"]}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-emerald-400/20 via-emerald-400/10 to-cyan-400/15 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-700 dark:text-emerald-200 border border-emerald-200/60 dark:border-emerald-500/30",children:[e.jsx(T,{className:"w-4 h-4"}),g||0,"% to target"]})]})]})]}),e.jsx(se,{spotlightStudent:n,spotlightProfile:r,progressUnit:m,spotlightStatus:g,weekLabel:u,history:j,TierPill:o}),e.jsx(ae,{chartSeries:w})]})},le=h.memo(({statCards:t,students:s,progressData:o,TierPill:l,ProgressBadge:x,onView:c,onUpdate:p})=>e.jsxs("div",{className:"space-y-8 mtss-theme",children:[e.jsx(ee,{statCards:t}),e.jsx(te,{students:s,TierPill:l,ProgressBadge:x,onView:c,onUpdate:p}),e.jsx(re,{students:s,progressData:o,TierPill:l})]}));le.displayName="DashboardOverview";export{le as default};
