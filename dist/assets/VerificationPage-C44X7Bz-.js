import{c as v,r as a,j as e,m as r,M as $,u as G,a as Z,H as J,A as K}from"./index-ydLFqWnS.js";import{A as V}from"./AnimatedPage-CfeOE04t.js";import{B as p}from"./brain-5Czv1PFC.js";import{S as N,C as Q}from"./shield-CL4H3LE-.js";import{H as w}from"./heart-DdywHyQN.js";import{E as X}from"./eye-CINGRwXp.js";import{Z as k}from"./zap-U3Oaam0g.js";import{U as ee}from"./user-LNNrJ6ud.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ae=v("camera",se);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ie=v("target",te),b=[{id:"genuine_happiness",detectedEmotion:"Genuine Happiness",confidence:89,icon:"ðŸ˜Š",weatherIcon:"â˜€ï¸",internalWeather:"â˜€ï¸ Sunny and Clear",weatherDesc:"Feeling upbeat, calm, and full of clarity",selfreportedEmotions:["Happy","Excited","Hopeful","Calm"],microExpressions:["Crow's feet wrinkles (orbicularis oculi)","Duchenne smile activation","Elevated cheeks symmetrically","Genuine eye crinkling"],aiAnalysis:"Your facial microexpressions reveal authentic joy that cannot be consciously fabricated. The orbicularis oculi engagement confirms genuine happiness.",psychologicalInsight:"This authentic happiness pattern suggests strong psychological well-being and life satisfaction. The Duchenne smile correlates with genuine positive affect.",personalizedRecommendation:"Your elevated mood enhances cognitive performance by ~23% and boosts creative problem-solving. Channel this positive energy into collaborative work or meaningful projects.",presenceCapacity:{estimatedPresence:8,estimatedCapacity:7,reasoning:"High emotional clarity suggests strong present-moment awareness and available cognitive resources"},suggestedActions:["Engage in collaborative tasks","Share positive energy with team","Document happiness triggers"]},{id:"focused_calm",detectedEmotion:"Focused Calm",confidence:86,icon:"ðŸ˜Œ",weatherIcon:"â›…",internalWeather:"â›… Partly Cloudy",weatherDesc:"Doing alright with mild clarity",selfreportedEmotions:["Calm","Hopeful"],microExpressions:["Relaxed facial muscles","Steady focused gaze","Minimal tension indicators","Balanced neutral expression"],aiAnalysis:"Your expression indicates an optimal cognitive-emotional stateâ€”the 'flow state' precursor where focus meets calm.",psychologicalInsight:"You're in a state of relaxed concentration, ideal for deep work and complex problem-solving.",personalizedRecommendation:"You're in an optimal state for deep focused work. Block time for your most important tasks while in this productive state.",presenceCapacity:{estimatedPresence:9,estimatedCapacity:8,reasoning:"Optimal emotional state indicates high presence and strong capacity for complex tasks"},suggestedActions:["Block calendar for deep work","Tackle complex tasks","Minimize notifications"]},{id:"concealed_stress",detectedEmotion:"Concealed Stress",confidence:82,icon:"ðŸ˜°",weatherIcon:"ðŸŒ§ï¸",internalWeather:"ðŸŒ§ï¸ Light Rain / Thunderstorms",weatherDesc:"Emotionally heavy with underlying tension",selfreportedEmotions:["Anxious","Overwhelmed","Tired","Scattered"],microExpressions:["Jaw tension","Forced smile asymmetry","Lip compression","Micro-frown suppression"],aiAnalysis:"Despite conscious attempts to appear calm, your microexpressions reveal underlying stress you're trying to mask.",psychologicalInsight:"Emotional suppression detected. The incongruence between felt emotions and displayed expressions can lead to emotional exhaustion.",personalizedRecommendation:"Acknowledge these feelings rather than suppressing themâ€”emotional authenticity prevents burnout.",presenceCapacity:{estimatedPresence:4,estimatedCapacity:3,reasoning:"High stress reduces present-moment awareness and significantly limits available cognitive capacity"},suggestedActions:["Schedule mindfulness break","Identify top stressors","Connect with trusted colleague"]},{id:"suppressed_sadness",detectedEmotion:"Suppressed Sadness",confidence:76,icon:"ðŸ˜”",weatherIcon:"ðŸŒ«ï¸",internalWeather:"ðŸŒ«ï¸ Foggy / Light Rain",weatherDesc:"Mentally unclear with emotional heaviness",selfreportedEmotions:["Sad","Lonely","Tired","Bored"],microExpressions:["Downturned mouth corners","Reduced facial animation","Flattened affect range","Lowered brow positioning"],aiAnalysis:"Your facial expression shows subtle sadness indicators you may be minimizing.",psychologicalInsight:"Emotional suppression of sadness detected. While experiencing difficult emotions is natural, prolonged suppression impacts both mental and physical health.",personalizedRecommendation:"It's healthy and courageous to acknowledge difficult feelings. Consider reaching out to a trusted confidant.",presenceCapacity:{estimatedPresence:5,estimatedCapacity:4,reasoning:"Emotional withdrawal reduces engagement and limits capacity for demanding tasks"},suggestedActions:["Schedule time with confidant","Engage in self-care","Consider journaling"]},{id:"concealed_anxiety",detectedEmotion:"Concealed Anxiety",confidence:79,icon:"ðŸ˜¬",weatherIcon:"ðŸŒªï¸",internalWeather:"ðŸŒªï¸ Tornado Watch / Windy",weatherDesc:"Everything feels chaotic and restless",selfreportedEmotions:["Anxious","Fear","Overwhelmed","Scattered"],microExpressions:["Rapid blink frequency","Eyebrow micro-elevations","Lip tension","Facial asymmetry"],aiAnalysis:"Your microexpressions reveal significant anxiety you're attempting to control.",psychologicalInsight:"High anxiety with attempted emotional regulation. The gap between internal state and external presentation causes additional cognitive strain.",personalizedRecommendation:"Your body is in heightened alert mode. Try grounding techniques and consider reaching out for support.",presenceCapacity:{estimatedPresence:3,estimatedCapacity:2,reasoning:"Severe anxiety drastically reduces presence and depletes cognitive capacity"},suggestedActions:["Practice grounding exercise","Reduce stimulants","Contact support resources"]}],re=[{name:"Face detected",delay:100},{name:"43 facial landmarks mapped",delay:300},{name:"Eye region analyzed",delay:500},{name:"Mouth microexpressions captured",delay:700},{name:"Autonomic responses tracked",delay:900},{name:"Psychological markers analyzed",delay:1100}],C=a.memo(({onStartScan:s})=>e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center space-y-6",children:[e.jsx(r.div,{className:"w-16 h-16 mx-auto rounded-2xl bg-primary flex items-center justify-center shadow-lg shadow-primary/20",animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},children:e.jsx(p,{className:"w-8 h-8 text-primary-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AI Emotional Analysis"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentic emotional insights through micro-expression detection"})]}),e.jsx(r.button,{onClick:s,className:"w-full py-4 rounded-xl bg-primary text-primary-foreground font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/35 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Start Scan"]})}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1.5",children:[e.jsx(N,{className:"w-3 h-3"}),"Processed locally â€¢ No data stored"]})]},"intro"));C.displayName="IntroSection";const ne=a.memo(()=>e.jsxs(r.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(r.div,{className:"absolute left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-primary to-transparent shadow-[0_0_6px_rgba(139,28,47,0.3)]",animate:{top:["0%","100%"]},transition:{duration:2.5,repeat:1/0,ease:"linear"}}),e.jsx(r.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 border border-primary/40 rounded-full",animate:{scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:2.5,repeat:1/0}})]})),S=a.memo(({videoRef:s,scanProgress:i,detectedFeatures:t})=>e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Scanning Face"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing micro-expressions..."})]}),e.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden border-2 border-primary/50 shadow-xl shadow-primary/10",children:[e.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),e.jsx(ne,{}),t.length>0&&e.jsx("div",{className:"absolute bottom-3 left-3 right-3 space-y-1.5",children:t.slice(-3).map((n,c)=>e.jsxs(r.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},className:"flex items-center gap-2 text-[11px] md:text-xs text-primary-foreground bg-primary/80 backdrop-blur-sm px-2.5 py-1 rounded-lg",children:[e.jsx(Q,{className:"w-3 h-3"}),n]},c))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"text-foreground font-semibold",children:[Math.round(i),"%"]})]}),e.jsx("div",{className:"h-2 rounded-full bg-surface/50 overflow-hidden",children:e.jsx(r.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.3}})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e.jsx(p,{className:"w-4 h-4 animate-pulse text-primary"}),"Processing..."]})]},"scanning"));S.displayName="ScanningSection";const E=a.memo(()=>e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center space-y-6 py-8",children:[e.jsx(r.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 mx-auto",children:e.jsx(p,{className:"w-full h-full text-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Analyzing Emotions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cross-referencing with emotion database"})]})]},"analyzing"));E.displayName="AnalyzingSection";const A=a.memo(({analysis:s})=>e.jsx("div",{className:"bg-surface/50 rounded-lg p-3 border border-border/30",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(w,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide mb-1",children:"Internal Weather Report"}),e.jsx("p",{className:"text-sm font-semibold text-foreground mb-1",children:s.internalWeather}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.weatherDesc})]})]})}));A.displayName="WeatherReport";const I=a.memo(({emotions:s})=>e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(w,{className:"w-3 h-3"}),"Emotions Detected"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map((i,t)=>e.jsx(r.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:t*.05},className:"px-2 py-1 rounded-md bg-primary/5 text-xs font-medium text-foreground border border-primary/20",children:i},t))})]}));I.displayName="EmotionsDetected";const R=a.memo(({expressions:s})=>e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(X,{className:"w-3 h-3"}),"Micro-Expressions"]}),e.jsx("div",{className:"space-y-1.5",children:s.map((i,t)=>e.jsxs(r.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:t*.05},className:"flex items-start gap-2 text-xs",children:[e.jsx(k,{className:"w-3 h-3 text-primary mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-foreground",children:i})]},t))})]}));R.displayName="MicroExpressions";const M=a.memo(({capacity:s})=>e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-surface/50 rounded-lg p-3 border border-border/30 text-center",children:[e.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1 font-bold",children:"Presence"}),e.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[s.estimatedPresence,"/10"]}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Engagement level"})]}),e.jsxs("div",{className:"bg-surface/50 rounded-lg p-3 border border-border/30 text-center",children:[e.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1 font-bold",children:"Capacity"}),e.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[s.estimatedCapacity,"/10"]}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Workload bandwidth"})]})]}));M.displayName="CapacityMetrics";const P=a.memo(({onReflectionChange:s})=>{const[i,t]=a.useState(""),n=a.useCallback(c=>{const d=c.target.value.replace(/<[^>]*>?/gm,"").replace(/javascript:/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").replace(/on\w+\s*=/gi,"").slice(0,500);t(d),s?.(d)},[s]);return e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-r from-primary/5 to-emerald/5 rounded-lg p-4 border border-primary/20",children:[e.jsxs("h4",{className:"text-xs font-bold text-primary uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx($,{className:"w-3.5 h-3.5"}),"Share Your Thoughts"]}),e.jsx("p",{className:"text-sm text-foreground mb-3 leading-relaxed",children:"What triggered this feeling? Share a few details to help us understand your experience better."}),e.jsx("textarea",{value:i,onChange:n,placeholder:"e.g., 'Had a challenging meeting this morning...' or 'Feeling grateful for team support...'",className:"w-full p-3 rounded-lg bg-background border border-border/50 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none resize-none transition-all duration-300",rows:3,maxLength:500}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your reflection helps personalize future insights"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.length,"/500"]})]})]})});P.displayName="UserReflectionInput";const z=a.memo(({analysis:s})=>e.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 border border-primary/20",children:[e.jsxs("h4",{className:"text-xs font-bold text-primary uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(p,{className:"w-3 h-3"}),"AI Analysis"]}),e.jsx("p",{className:"text-sm leading-relaxed text-foreground",children:s.aiAnalysis})]}));z.displayName="AIAnalysis";const T=a.memo(({insight:s})=>e.jsxs("div",{className:"bg-surface/50 rounded-lg p-3 border border-border/30",children:[e.jsxs("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(ie,{className:"w-3 h-3"}),"Insight"]}),e.jsx("p",{className:"text-sm leading-relaxed text-foreground",children:s})]}));T.displayName="PsychologicalInsight";const D=a.memo(({reasoning:s})=>e.jsxs("div",{className:"text-xs text-muted-foreground bg-surface/30 p-2 rounded border border-border/20",children:[e.jsx("strong",{className:"text-foreground",children:"AI Reasoning:"})," ",s]}));D.displayName="AIReasoning";const H=a.memo(({recommendation:s,actions:i})=>e.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg p-3 border-2 border-primary/30",children:[e.jsxs("h4",{className:"text-xs font-bold text-primary uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(k,{className:"w-3 h-3"}),"Recommendation"]}),e.jsx("p",{className:"text-sm leading-relaxed text-foreground mb-3",children:s}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Actions:"}),i.map((t,n)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs text-foreground",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-primary mt-1.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1",children:t})]},n))]})]}));H.displayName="PersonalizedRecommendation";const W=a.memo(({contacts:s,lowPresence:i})=>e.jsxs("div",{className:"bg-surface/50 rounded-lg p-3 border border-border/30",children:[e.jsxs("h4",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide mb-2 flex items-center gap-2",children:[e.jsx(ee,{className:"w-3 h-3"}),"Support Contacts"]}),e.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:s.map((t,n)=>e.jsx(r.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.03},className:`px-2 py-1.5 rounded text-xs font-medium transition-all duration-300 ${n===0?"bg-primary text-primary-foreground shadow-sm":"bg-surface border border-border hover:border-primary/40 text-foreground"}`,children:t},n))}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:i?"Low presence detectedâ€”reaching out is strongly encouraged":"Consider connecting if you need support"})]}));W.displayName="SupportContacts";const _=a.memo(({analysis:s,onReset:i,onComplete:t})=>e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-5xl",children:s.icon}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-lg font-bold text-foreground",children:s.detectedEmotion}),e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 border border-primary/30",children:e.jsxs("span",{className:"text-sm font-semibold text-primary",children:[s.confidence,"% Confidence"]})})]})]}),e.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-1",children:[e.jsx(A,{analysis:s}),e.jsx(I,{emotions:s.selfreportedEmotions}),e.jsx(P,{onReflectionChange:n=>{console.log("User reflection:",n)}}),e.jsx(R,{expressions:s.microExpressions}),e.jsx(z,{analysis:s}),e.jsx(T,{insight:s.psychologicalInsight}),e.jsx(M,{capacity:s.presenceCapacity}),e.jsx(D,{reasoning:s.presenceCapacity.reasoning}),e.jsx(H,{recommendation:s.personalizedRecommendation,actions:s.suggestedActions}),e.jsx(W,{contacts:["Ms. Mahrukh","Ms. Latifah","Ms. Kholida","Mr. Aria"],lowPresence:s.presenceCapacity.estimatedPresence<5})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[e.jsx(r.button,{onClick:i,className:"py-3 rounded-xl border-2 border-border bg-surface text-foreground font-medium hover:bg-surface/80 hover:border-primary/40 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Scan Again"}),e.jsx(r.button,{onClick:t,className:"py-3 rounded-xl bg-primary text-primary-foreground font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/35 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Complete"})]})]},"results"));_.displayName="ResultsSection";const j=a.memo(({className:s,delay:i=0})=>e.jsx(r.div,{className:`absolute rounded-full blur-3xl pointer-events-none ${s}`,initial:{scale:.8,opacity:0},animate:{scale:[1,1.12,1],opacity:[.08,.15,.08]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:i}})),oe=a.memo(()=>e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-[0.015]",children:e.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"mws-grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#mws-grid)",className:"text-foreground"})]})})),ce=a.memo(()=>{const[s,i]=a.useState("intro"),[t,n]=a.useState(null),[c,x]=a.useState(null),[d,g]=a.useState(0),[F,u]=a.useState([]),h=a.useRef(null),y=G(),{toast:m}=Z(),Y=a.useCallback(async()=>{try{const o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});n(o),h.current&&(h.current.srcObject=o),i("scanning"),u([]),re.forEach(f=>{setTimeout(()=>{u(q=>[...q,f.name])},f.delay)});let l=0;const O=setInterval(()=>{l+=Math.random()*15+5,l>=100&&(l=100,clearInterval(O),setTimeout(()=>L(),800)),g(Math.min(l,100))},300)}catch{m({title:"Camera Access Required",description:"Please allow camera access for AI emotional analysis.",variant:"destructive"})}},[m]),L=a.useCallback(()=>{i("analyzing"),setTimeout(()=>{const o=b[Math.floor(Math.random()*b.length)];x(o),i("results"),t&&t.getTracks().forEach(l=>l.stop())},2e3)},[t]),B=a.useCallback(()=>{m({title:"Check-in Complete",description:"Your emotional data has been securely processed."}),y("/dashboard")},[y,m]),U=a.useCallback(()=>{t&&t.getTracks().forEach(o=>o.stop()),i("intro"),x(null),g(0),u([]),n(null)},[t]);return a.useEffect(()=>()=>{t&&t.getTracks().forEach(o=>o.stop())},[t]),e.jsxs(V,{children:[e.jsxs(J,{children:[e.jsx("title",{children:"AI Emotional Check-in â€” Millennia World School"}),e.jsx("meta",{name:"description",content:"Advanced AI psychology analysis for MWS educators and staff wellbeing."})]}),e.jsxs("div",{className:"relative min-h-screen bg-background text-foreground overflow-hidden",children:[e.jsx(j,{className:"top-0 left-0 w-64 h-64 md:w-80 md:h-80 bg-primary/6",delay:0}),e.jsx(j,{className:"bottom-0 right-0 w-56 h-56 md:w-72 md:h-72 bg-primary/4",delay:1.5}),e.jsx(oe,{}),e.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center p-4",children:e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.22,1,.36,1]},className:"w-full max-w-md",children:[e.jsxs("div",{className:"glass glass--frosted glass--deep relative p-6",children:[e.jsx("div",{className:"glass__refract"}),e.jsx("div",{className:"glass__noise"}),e.jsxs(K,{mode:"wait",children:[s==="intro"&&e.jsx(C,{onStartScan:Y}),s==="scanning"&&e.jsx(S,{videoRef:h,scanProgress:d,detectedFeatures:F}),s==="analyzing"&&e.jsx(E,{}),s==="results"&&c&&e.jsx(_,{analysis:c,onReset:U,onComplete:B})]})]}),e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1.5",children:[e.jsx(N,{className:"w-3 h-3"}),"Your wellbeing is our priority â€¢ Confidential analysis"]})})]})})]})]})});ce.displayName="EmotionalCheckinFaceScanPage";export{ce as default};
