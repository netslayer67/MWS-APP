import{r as t,j as e,M as h}from"./index-C84qGWMf.js";import{C as g}from"./circle-alert-CFTccQZr.js";import{C as f}from"./circle-check-BcjTGJ6h.js";const j=s=>s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/\son\w+\s*=/gi,"").replace(/<iframe/gi,"").replace(/<embed/gi,"").replace(/data:text\/html/gi,""),x=t.memo(({value:s,onChange:a,maxLength:r=500,placeholder:i,rows:l=4})=>{const[n,o]=t.useState(!1),u=t.useCallback(m=>{let d=m.target.value;const c=d.length;d=j(d),c>d.length&&c-d.length>5&&(o(!0),setTimeout(()=>o(!1),3e3)),d.length<=r&&a(d)},[a,r]);return e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:s,onChange:u,placeholder:i,className:"w-full px-4 py-3 md:px-5 md:py-4 bg-input/50 backdrop-blur-sm border-2 rounded-lg text-sm md:text-base text-foreground placeholder-muted-foreground focus:outline-none resize-none transition-all duration-300 ease-premium",rows:l,maxLength:r}),n&&e.jsx("div",{className:"absolute top-2 right-2 p-2 rounded-lg bg-primary/5 border border-primary/20 animate-in fade-in slide-in-from-top-2 duration-300",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-3 h-3 text-primary"}),e.jsx("span",{className:"text-xs text-primary",children:"Content filtered"})]})})]})});x.displayName="InputSanitizer";const p=t.memo(({charCount:s,maxChars:a,isFocused:r})=>{const i=s/a*100,l=s>=a*.9,n=s===0;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative h-1.5 bg-muted/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-300",style:{width:`${i}%`,background:i<70?"linear-gradient(90deg, hsl(var(--emerald)) 0%, hsl(var(--gold)) 100%)":i<90?"linear-gradient(90deg, hsl(var(--gold)) 0%, hsl(var(--primary)) 100%)":"hsl(var(--primary))"}})}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{className:"hidden md:inline",children:n?"Start typing to share your thoughts":l?"Almost at character limit":"Your input is secure and private"}),e.jsx("span",{className:"md:hidden",children:n?"Start typing":l?"Near limit":"Secure"})]}),!n&&e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:e.jsxs("span",{className:"font-medium tabular-nums",children:[s," chars"]})})]})]})});p.displayName="ProgressIndicator";const N=t.memo(({isFocused:s})=>e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-foreground tracking-tight",children:"Share Your Thoughts"})]}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Tell us more about what you're experiencing (optional)"})]}),e.jsx("div",{className:`flex-shrink-0 transition-all duration-300 ${s?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald/10 border border-emerald/20",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-emerald",children:"Active"})]})})]})),b=t.memo(({details:s,onDetailsChange:a,charCount:r,maxChars:i,isEmpty:l,isNearLimit:n})=>e.jsxs("div",{className:"relative",children:[e.jsx(x,{value:s,onChange:a,placeholder:"What's on your mind today? Share your feelings, thoughts, or what's affecting you...",rows:4,maxLength:i}),!l&&e.jsx("div",{className:`absolute bottom-3 right-3 md:bottom-4 md:right-4 px-2.5 py-1 rounded-full backdrop-blur-md border transition-all duration-300 ${n?"bg-primary/10 border-primary/20 text-primary":"bg-card/80 border-border/50 text-muted-foreground"}`,children:e.jsxs("span",{className:"text-xs font-medium tabular-nums",children:[r,"/",i]})})]})),v=t.memo(({details:s,isEmpty:a})=>!a&&e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:e.jsxs("span",{className:"font-medium tabular-nums",children:[s.split(/\s+/).filter(r=>r.length>0).length," words"]})})),y=t.memo(()=>e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2",children:[e.jsx(f,{className:"w-3.5 h-3.5 text-emerald"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your responses are confidential and handled with care"})]})),w=t.memo(({details:s,onDetailsChange:a})=>{const[r,i]=t.useState(!1),[l,n]=t.useState(s.length),o=500,u=t.useCallback(c=>{n(c.length),a(c)},[a]);t.useCallback(()=>i(!0),[]),t.useCallback(()=>i(!1),[]);const m=l===0,d=l>=o*.9;return e.jsxs("div",{className:"glass glass-card hover-lift transition-all duration-300",children:[e.jsx("div",{className:"glass__refract"}),e.jsx("div",{className:"glass__refract--soft"}),e.jsx("div",{className:"glass__noise"}),e.jsxs("div",{className:"relative z-10 p-5 md:p-6 space-y-4",children:[e.jsx(N,{isFocused:r}),e.jsx(b,{details:s,onDetailsChange:u,charCount:l,maxChars:o,isEmpty:m,isNearLimit:d}),e.jsx(p,{charCount:l,maxChars:o,isFocused:r}),e.jsx(v,{details:s,isEmpty:m}),e.jsx(y,{})]})]})});w.displayName="DetailsInput";export{w as default};
