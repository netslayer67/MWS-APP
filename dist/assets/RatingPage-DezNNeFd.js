const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeaderSection-C7MSCfb5.js","assets/index-B1azmWwg.js","assets/index-D2nyVmn2.css","assets/wind-B2i_V6Xo.js","assets/droplets-sLQycYyp.js","assets/snowflake-BXB-XJa4.js","assets/zap-BITMhimx.js","assets/cloud-B7ZTAFLN.js","assets/circle-check-lUgokG-M.js","assets/AnimatedPage-DW28idnr.js","assets/textarea-C6erLesj.js","assets/StatusBadge-dxzRTpWZ.js","assets/battery-hbcFkKes.js","assets/circle-alert-Bp3uG40q.js","assets/smile-BlmpM8zB.js","assets/MetricsGrid-CdOczRrI.js","assets/brain-GYIdZXia.js","assets/RecommendationCard-CTlfstMv.js","assets/target-CIbAbRVN.js","assets/PsychologicalInsights-BwFRSsFI.js","assets/MotivationalMessage-B07x8pcg.js","assets/SupportSection-BPYXKdxm.js","assets/BackHomeButton-Bmh2zOhA.js"])))=>i.map(i=>d[i]);
import{D as N,r as s,j as e,m as k,E as L,b as z,F as Y,a as O,d as V,G as B,I as H,P as F,t as U,_ as y}from"./index-B1azmWwg.js";import{A as G}from"./AnimatedPage-DW28idnr.js";import"./textarea-C6erLesj.js";const W={name:"Sarah Anderson",emotions:["Happy","Excited","Hopeful","Tired"],emotionsDetails:"I had a productive morning meeting where my presentation went well, and the team really engaged with my ideas. However, I've been working late this week and it's starting to catch up with me.",weatherReport:"⛅ Partly Cloudy – Doing alright, but there's something lingering in the background",weatherValue:"partly-cloudy",presenceLevel:7,capacityLevel:5,supportPerson:"Pak Faisal"},ne=u=>typeof u!="string"?u:N(u),$=u=>{const{emotions:g=[],presenceLevel:c=5,capacityLevel:w=5,weatherValue:v="partly-cloudy"}=u,h=["Happy","Excited","Hopeful","Calm"],T=["Sad","Anxious","Lonely","Angry","Fear","Overwhelmed"],p=["Tired","Hungry","Bored","Scattered"],b=g.filter(d=>h.includes(d)).length,f=g.filter(d=>T.includes(d)).length,n=g.filter(d=>p.includes(d)).length;let r="balanced";b>f+1?r="positive":f>b+1?r="challenging":n>2&&(r="depleted");let i="moderate";c>=8?i="high":c<=4&&(i="low");let t="moderate";return w>=8?t="high":w<=4&&(t="low"),{emotionalState:r,presenceState:i,capacityState:t,weatherValue:v,needsSupport:f>=2||w<=3||c<=3}},q=(u,g)=>{const c=[];u.emotionalState==="positive"?c.push({icon:"Heart",title:"Amplify Your Momentum",description:"Your positive energy is a powerful resource. Channel it into meaningful projects and share it with your colleagues.",color:"from-emerald/20 to-emerald/10",borderColor:"border-emerald/20",priority:"medium"}):u.emotionalState==="challenging"&&c.push({icon:"Shield",title:"Emotional Support Priority",description:"You're experiencing difficult emotions. Reach out to your wellness team today. Professional support can make a significant difference.",color:"from-accent/20 to-accent/10",borderColor:"border-accent/30",priority:"high"}),u.presenceState==="low"?c.push({icon:"Brain",title:"Grounding Techniques",description:"Your attention is scattered. Try the 5-4-3-2-1 sensory awareness exercise to reconnect with the present moment.",color:"from-primary/20 to-primary/10",borderColor:"border-primary/20",priority:"high"}):u.presenceState==="high"&&c.push({icon:"Target",title:"Optimize Focus Time",description:"You're highly present. This is ideal for tackling complex tasks that require deep concentration.",color:"from-gold/20 to-gold/10",borderColor:"border-gold/20",priority:"medium"}),u.capacityState==="low"?c.push({icon:"Battery",title:"Rest & Recovery",description:"Your capacity is depleted. Schedule breaks, delegate tasks, and prioritize sleep. Recovery isn't optional—it's essential.",color:"from-maroon/20 to-maroon/10",borderColor:"border-maroon/20",priority:"high"}):u.capacityState==="high"&&c.push({icon:"TrendingUp",title:"Strategic Growth",description:"You have capacity for new challenges. Consider taking on a stretch project that aligns with your development goals.",color:"from-emerald/20 to-emerald/10",borderColor:"border-emerald/20",priority:"low"}),c.push({icon:"Sparkles",title:"Daily Mindfulness",description:"Maintain emotional awareness with 5-minute check-ins throughout your day. Small practices create lasting change.",color:"from-primary/20 to-primary/10",borderColor:"border-primary/20",priority:"medium"});const w=[{icon:"Target",title:"One-Task Focus",description:"Pick one small task and complete it end-to-end to rebuild momentum.",color:"from-primary/20 to-primary/10",borderColor:"border-primary/20",priority:"low"},{icon:"Heart",title:"Connect Briefly",description:"Send a quick message to someone you trust. A 60-second connection helps regulate emotions.",color:"from-emerald/20 to-emerald/10",borderColor:"border-emerald/20",priority:"medium"},{icon:"Battery",title:"Micro Break",description:"Stand, stretch shoulders/neck, hydrate. Two minutes can meaningfully restore capacity.",color:"from-emerald/20 to-emerald/10",borderColor:"border-emerald/20",priority:"medium"}],v=new Set(c.map(h=>h.title));for(const h of w){if(c.length>=4)break;v.has(h.title)||(c.push(h),v.add(h.title))}return c.sort((h,T)=>{const p={high:0,medium:1,low:2};return p[h.priority]-p[T.priority]}).slice(0,4)},j=s.memo(()=>e.jsxs(e.Fragment,{children:[e.jsx(k.div,{className:"absolute -top-32 -left-32 w-80 h-80 md:w-96 md:h-96 bg-primary/5 dark:bg-primary/3 rounded-full blur-3xl pointer-events-none",animate:{scale:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut",repeatType:"loop"}}),e.jsx(k.div,{className:"absolute -bottom-32 -right-32 w-72 h-72 md:w-80 md:h-80 bg-accent/6 dark:bg-accent/4 rounded-full blur-3xl pointer-events-none",animate:{scale:[1,1.15,1],opacity:[.4,.6,.4]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1,repeatType:"loop"}}),e.jsx(k.div,{className:"absolute top-1/3 right-1/4 w-64 h-64 md:w-72 md:h-72 bg-gold/5 dark:bg-gold/3 rounded-full blur-3xl pointer-events-none",animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2,repeatType:"loop"}})]})),C=s.memo(()=>e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-[0.015] dark:opacity-[0.025]",children:e.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"luxury-grid-pattern",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#luxury-grid-pattern)",className:"text-foreground"})]})}));j.displayName="DecorativeBlobs";C.displayName="GridPattern";const K=s.lazy(()=>y(()=>import("./HeaderSection-C7MSCfb5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),J=s.lazy(()=>y(()=>import("./StatusBadge-dxzRTpWZ.js"),__vite__mapDeps([11,1,2,12,13,14]))),Q=s.lazy(()=>y(()=>import("./MetricsGrid-CdOczRrI.js"),__vite__mapDeps([15,1,2,3,4,5,6,7,16,12]))),X=s.lazy(()=>y(()=>import("./RecommendationCard-CTlfstMv.js"),__vite__mapDeps([17,1,2,12,18,16]))),Z=s.lazy(()=>y(()=>import("./PsychologicalInsights-BwFRSsFI.js"),__vite__mapDeps([19,1,2,16]))),ee=s.lazy(()=>y(()=>import("./MotivationalMessage-B07x8pcg.js"),__vite__mapDeps([20,1,2]))),te=s.lazy(()=>y(()=>import("./SupportSection-BPYXKdxm.js"),__vite__mapDeps([21,1,2,9,10]))),oe=s.lazy(()=>y(()=>import("./BackHomeButton-Bmh2zOhA.js"),__vite__mapDeps([22,1,2]))),I=s.memo(function(){const[g,c]=s.useState(!0),[w,v]=s.useState(""),[h,T]=s.useState(!1),p=L();z();const{checkinId:b}=Y(),f=O(),{checkinResults:n,currentCheckin:r,todayCheckin:i}=V(o=>o.checkin),t=s.useMemo(()=>{if(n)return{name:n.userId?.name||n.name||"Staff Member",weatherType:n.weatherType,selectedMoods:n.selectedMoods,emotionsDetails:n.details,presenceLevel:n.presenceLevel,capacityLevel:n.capacityLevel,supportPerson:n.supportContact?.name||n.supportContactUserId?.name||"No Need",aiAnalysis:n.aiAnalysis,weatherReport:n.weatherType?`${n.weatherType} – AI analyzed`:"⛅ Partly Cloudy – Doing alright",weatherValue:n.weatherType||"partly-cloudy",emotions:n.selectedMoods||[]};if(i)return console.log("Using todayCheckin data:",i),{name:i.userId?.name||i.name||"Staff Member",weatherType:i.weatherType,selectedMoods:i.selectedMoods||[],emotionsDetails:i.details||"",presenceLevel:i.presenceLevel||5,capacityLevel:i.capacityLevel||5,supportPerson:i.supportContact?.name||i.supportContactUserId?.name||"No Need",aiAnalysis:i.aiAnalysis,weatherReport:i.weatherType?`${i.weatherType} – AI analyzed`:"⛅ Partly Cloudy – Doing alright",weatherValue:i.weatherType||"partly-cloudy",emotions:i.selectedMoods||[]};if(r)return{name:r.userId?.name||r.name||"Staff Member",weatherType:r.weatherType,selectedMoods:r.selectedMoods,emotionsDetails:r.details,presenceLevel:r.presenceLevel,capacityLevel:r.capacityLevel,supportPerson:r.supportContact?.name||r.supportContactUserId?.name||"No Need",aiAnalysis:r.aiAnalysis,weatherReport:r.weatherType?`${r.weatherType} – AI analyzed`:"⛅ Partly Cloudy – Doing alright",weatherValue:r.weatherType||"partly-cloudy",emotions:r.selectedMoods||[]};const o=p.state?.checkInData;return o?{...o,name:o.name||"Staff Member",emotionsDetails:o.emotionsDetails||"",supportPerson:o.supportPerson||"No Need",emotions:o.selectedMoods||o.emotions||[],userReflection:o.userReflection||"",weatherReport:o.weatherReport||`${o.weatherType||"partly-cloudy"} – AI analyzed`,weatherType:o.weatherType||"partly-cloudy",weatherValue:o.weatherType||"partly-cloudy"}:W},[n,i,r,p.state]);console.log("RatingPage Debug:",{checkinResults:!!n,todayCheckin:!!i,currentCheckin:!!r,locationState:!!p.state,checkInData:t?{weatherType:t.weatherType,selectedMoods:t.selectedMoods?.length,hasAiAnalysis:!!t.aiAnalysis,aiAnalysisKeys:t.aiAnalysis?Object.keys(t.aiAnalysis):null}:null,isLoading:g,dataSource:n?"checkinResults":i?"todayCheckin":r?"currentCheckin":p.state?.checkInData?"locationState":"dummy"});const d=s.useMemo(()=>{if(t.aiAnalysis&&t.aiDetected){const o={emotionalState:t.aiAnalysis.emotionalState,presenceState:t.aiAnalysis.presenceState,capacityState:t.aiAnalysis.capacityState,needsSupport:t.aiAnalysis.needsSupport,confidence:t.aiAnalysis.confidence,psychologicalInsights:t.aiAnalysis.psychologicalInsights,motivationalMessage:t.aiAnalysis.motivationalMessage,weatherValue:t.weatherValue||t.weatherType,detectedEmotion:t.detectedEmotion,valence:t.valence,arousal:t.arousal,intensity:t.intensity,explanations:t.explanations,temporalAnalysis:t.temporalAnalysis};if(t.userReflection&&t.userReflection.trim()){const a=t.userReflection.toLowerCase(),l=t.detectedEmotion?.toLowerCase()||"neutral",P=()=>{if(a.includes("meeting")||a.includes("work")||a.includes("stress")||a.includes("deadline")){if(l.includes("anxious")||l.includes("stressed"))return"Remember that your dedication to excellence is what makes you so valuable. Take a moment to breathe and know that you've handled challenging situations before - you have the strength to navigate this too.";if(l.includes("tired")||l.includes("exhausted"))return"Your commitment to your work is truly admirable. In moments like these, remember that rest isn't weakness - it's the wisdom that allows you to bring your best self to everything you do."}if(a.includes("family")||a.includes("friend")||a.includes("relationship")||a.includes("partner")){if(l.includes("sad")||l.includes("lonely"))return"The depth of love and connection you feel for others is one of your greatest strengths. Even in difficult moments, this capacity for caring shows what a beautiful heart you have.";if(l.includes("happy")||l.includes("grateful"))return"The relationships that bring you joy are treasures worth celebrating. Your ability to connect deeply with others is a gift not just to them, but to your own soul as well."}if(a.includes("health")||a.includes("tired")||a.includes("sick")||a.includes("rest")){if(l.includes("anxious")||l.includes("worried"))return"Your awareness of your body's needs shows such self-compassion. Trust that you're capable of nurturing yourself through this. Your body and mind work together beautifully when given the care they deserve.";if(l.includes("calm")||l.includes("peaceful"))return"What a beautiful act of self-love it is to listen to your body's wisdom. This awareness and care you show yourself will serve you beautifully in all areas of your life."}if(a.includes("success")||a.includes("achievement")||a.includes("proud")||a.includes("accomplish")){if(l.includes("happy")||l.includes("excited"))return"Your ability to recognize and celebrate your achievements shows such healthy self-awareness. This joy in your accomplishments is well-earned and beautifully deserved.";if(l.includes("overwhelmed")||l.includes("anxious"))return"Even in moments of pressure, your drive for excellence shines through. Remember that your worth isn't measured by perfection, but by the beautiful effort you bring to everything you do."}return l.includes("happy")||l.includes("joy")?"Whatever is bringing this light to your eyes, may it continue to nourish your spirit. Your capacity for joy is a beautiful gift to yourself and everyone around you.":l.includes("sad")||l.includes("challenging")?"Your willingness to feel deeply, even when it brings sadness, shows what a beautifully sensitive soul you are. This emotional depth is a strength, not a weakness.":l.includes("anxious")||l.includes("worried")?"Your awareness of uncertainty shows how deeply you care about navigating life thoughtfully. This mindfulness, even when it brings anxiety, is a sign of your wisdom and care.":"Whatever you're experiencing right now, know that your feelings are valid and important. Your emotional awareness is a beautiful strength that helps you live authentically."},E=()=>{const D=t.aiAnalysis.psychologicalInsights,S=a.split(" ").filter(m=>m.length>3);let x=D;return S.some(m=>["meeting","presentation","deadline","work"].includes(m))?x+=" The professional demands you're navigating show your dedication and capability. Even when these responsibilities feel heavy, they also reflect the trust others place in your abilities.":S.some(m=>["family","children","partner","relationship"].includes(m))?x+=" The connections that matter to you speak to your capacity for deep, meaningful relationships. This emotional investment, while sometimes challenging, is also what makes life rich and beautiful.":S.some(m=>["tired","exhausted","rest","sleep"].includes(m))?x+=" Your body's signals for rest are wisdom speaking. In our achievement-oriented world, listening to these needs takes courage and shows true self-awareness.":S.some(m=>["grateful","thankful","blessed","appreciate"].includes(m))&&(x+=" Your ability to recognize and appreciate life's blessings, even amidst challenges, is a beautiful emotional strength that nourishes both you and those around you."),x};return{...o,motivationalMessage:P(),psychologicalInsights:E()}}return o}return $(t)},[t]),A=s.useMemo(()=>t.aiAnalysis?.recommendations?t.aiAnalysis.recommendations.map(o=>({title:o.title,description:o.description,priority:o.priority,category:o.category,icon:_(o.category),color:R(o.priority),borderColor:M(o.priority)})):q(d),[d,t]);function _(o){return{professional:"Target",social:"Heart",personal:"Brain",health:"Battery"}[o]||"Sparkles"}function R(o){return{high:"from-accent/20 to-accent/10",medium:"from-primary/20 to-primary/10",low:"from-emerald/20 to-emerald/10"}[o]||"from-primary/20 to-primary/10"}function M(o){return{high:"border-accent/30",medium:"border-primary/20",low:"border-emerald/20"}[o]||"border-primary/20"}return s.useEffect(()=>{console.log("RatingPage useEffect triggered:",{checkinId:b,checkinResults:!!n,todayCheckin:!!i,locationState:p.state});const o=b||p.state?.checkinId;o&&!n?(console.log("Fetching specific checkin results for ID:",o),f(B(o)).then(a=>{console.log("getCheckinResults result:",a),console.log("getCheckinResults payload:",a.payload),c(!1)}).catch(a=>{console.error("getCheckinResults error:",a),c(!1)})):!n&&!i?(console.log("No specific ID, fetching today's checkin"),f(H()).then(a=>{console.log("getTodayCheckin result:",a),console.log("getTodayCheckin payload:",a.payload),c(!1)}).catch(a=>{console.error("getTodayCheckin error:",a),c(!1)})):(console.log("Data already available, skipping API call"),c(!1))},[f,n,i,b,p.state]),g&&!n&&!i&&!r?e.jsx(F,{}):e.jsxs(G,{children:[e.jsxs(U,{children:[e.jsx("title",{children:"Emotional Wellness Results — Millennia World School"}),e.jsx("meta",{name:"description",content:"Your personalized emotional wellness analysis and recommendations"})]}),e.jsxs("div",{className:"relative min-h-screen text-foreground overflow-hidden",children:[e.jsx(j,{}),e.jsx(C,{}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-8 md:py-12 px-4 md:px-6",children:e.jsxs("div",{className:"w-full max-w-5xl space-y-6 md:space-y-8",children:[e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-32 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(K,{name:t.name,analysis:d})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-16 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(J,{analysis:d})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-40 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(Q,{data:t,analysis:d})}),e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.7},className:"space-y-4 md:space-y-6 px-2",children:[e.jsx(k.h2,{className:"text-lg md:text-2xl font-semibold text-foreground text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.75,duration:.5},children:"Personalized Recommendations"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-5",children:A.map((o,a)=>e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-32 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(X,{recommendation:o,index:a})},a))})]}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-32 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(Z,{insights:t.aiAnalysis?.psychologicalInsights||d.psychologicalInsights,confidence:t.aiAnalysis?.confidence||d.confidence})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-24 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(ee,{message:t.aiAnalysis?.motivationalMessage||d.motivationalMessage})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-24 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(te,{supportPerson:t.supportPerson,needsSupport:d.needsSupport,motivationalMessage:t.aiAnalysis?.motivationalMessage||d.motivationalMessage})}),e.jsx(s.Suspense,{fallback:e.jsx("div",{className:"h-16 animate-pulse bg-muted/20 rounded-lg"}),children:e.jsx(oe,{})})]})})]})]})});I.displayName="RatingPage";const re=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{re as R,ne as s};
