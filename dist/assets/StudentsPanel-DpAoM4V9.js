import{r,j as e,m as p,X as S,b as k,e as C}from"./index-D56Z1xl7.js";import{S as P}from"./StudentsTable-CLXDZWs2.js";import{F as T}from"./funnel-Dysww4mV.js";import{S as F}from"./search-CDICQghT.js";const c="px-4 py-3 rounded-2xl bg-white/80 dark:bg-white/10 border border-primary/20 text-sm text-foreground placeholder:text-muted-foreground/70 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent transition-all w-full",j=r.memo(({student:l,onClose:d,onSubmit:f})=>{const h=r.useMemo(()=>new Date().toISOString().split("T")[0],[]),[a,n]=r.useState({date:h,performed:"yes",score:"",notes:"",badge:"ðŸŒˆ Progress Party"});if(!l)return null;const o=(t,m)=>{n(u=>({...u,[t]:m}))},i=t=>{t.preventDefault(),f?.(l,a)};return e.jsxs("div",{className:"fixed inset-0 z-[90] flex items-center justify-center px-4 mtss-theme",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:d,"aria-hidden":"true"}),e.jsx(p.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl mtss-gradient-border overflow-hidden",children:e.jsxs("div",{className:"glass glass-card mtss-card-surface rounded-[26px] overflow-hidden mtss-liquid",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#34d399]/80 via-[#22d3ee]/80 to-[#60a5fa]/80 text-white p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs tracking-[0.4em] opacity-80",children:"Quick Update"}),e.jsx("h3",{className:"text-2xl font-bold",children:l.name}),e.jsx("p",{className:"text-sm opacity-90",children:"Share today's check-in and celebrations"})]}),e.jsx("button",{onClick:d,"aria-label":"Close",className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition",children:e.jsx(S,{className:"w-5 h-5"})})]}),e.jsxs("form",{className:"p-6 space-y-4",onSubmit:i,children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Date"}),e.jsx("input",{type:"date",className:c,value:a.date,onChange:t=>o("date",t.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Intervention Performed?"}),e.jsxs("select",{className:c,value:a.performed,onChange:t=>o("performed",t.target.value),children:[e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Status or Score"}),e.jsx("input",{type:"text",className:c,placeholder:"e.g. 78 wpm",value:a.score,onChange:t=>o("score",t.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Celebration emoji"}),e.jsxs("select",{className:c,value:a.badge||"ðŸŒˆ Progress Party",onChange:t=>o("badge",t.target.value),children:[e.jsx("option",{value:"ðŸŒˆ Progress Party",children:"ðŸŒˆ Progress Party"}),e.jsx("option",{value:"â­ Stellar Boost",children:"â­ Stellar Boost"}),e.jsx("option",{value:"ðŸŽ¯ Focus Mode",children:"ðŸŽ¯ Focus Mode"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Notes & Observations"}),e.jsx("textarea",{className:`${c} min-h-[120px]`,placeholder:"Describe the student's progress, challenges, or celebrations...",value:a.notes,onChange:t=>o("notes",t.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[e.jsx(p.button,{type:"submit",className:"px-5 py-3 rounded-full bg-gradient-to-r from-[#ff58c2] to-[#ffb347] text-white font-semibold shadow-[0_15px_40px_rgba(255,88,194,0.25)]",whileHover:{scale:1.03},whileTap:{scale:.97},children:"Save Update"}),e.jsx("button",{type:"button",onClick:d,className:"px-5 py-3 rounded-full bg-white/80 dark:bg-white/10 text-foreground font-semibold border border-border/60",children:"Cancel"})]})]})]})})]})});j.displayName="QuickUpdateModal";const M=["All","Tier 1","Tier 2","Tier 3"],Q=r.memo(({students:l,TierPill:d,ProgressBadge:f})=>{const h=k(),{toast:a}=C(),[n,o]=r.useState("All"),[i,t]=r.useState(""),[m,u]=r.useState({type:null,student:null}),g=r.useMemo(()=>l.filter(s=>{const x=n==="All"||s.tier===n,w=s.name.toLowerCase().includes(i.toLowerCase())||s.type.toLowerCase().includes(i.toLowerCase());return x&&w}),[l,n,i]),v=s=>{h(`/mtss/student/${s.slug}`)},y=(s,x)=>u({type:s,student:x}),b=()=>u({type:null,student:null}),N=(s,x)=>{a({title:"Progress update saved",description:`${s.name}'s update was recorded!`}),b()};return e.jsxs("div",{className:"space-y-6 mtss-theme",children:[e.jsxs(p.div,{className:"glass glass-card mtss-card-surface p-5 flex flex-col gap-4 border border-primary/10",initial:{opacity:0,y:12},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-muted-foreground",children:[e.jsx(T,{className:"w-4 h-4"}),"Quick filters"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(s=>e.jsx("button",{onClick:()=>o(s),className:`px-4 py-1.5 rounded-full text-sm font-semibold transition-all ${n===s?"bg-gradient-to-r from-[#ff58c2] to-[#ffb347] text-white shadow-[0_10px_25px_rgba(255,88,194,0.25)]":"border border-border text-muted-foreground hover:text-foreground"}`,children:s},s))}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"w-4 h-4 absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search kids or boost type...",value:i,onChange:s=>t(s.target.value),className:"w-full pl-11 pr-4 py-2.5 rounded-full bg-white/70 dark:bg-white/10 border border-primary/20 focus:ring-2 focus:ring-primary/40 focus:outline-none placeholder:text-muted-foreground/70"})]})]}),e.jsxs(p.section,{className:"glass glass-card mtss-card-surface p-6 space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-muted-foreground tracking-[0.4em]",children:"Crew Roster"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground dark:text-white",children:"Active boosts in motion"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.jsx("strong",{children:g.length})," of ",l.length," students"]})]}),e.jsx(P,{students:g,TierPill:d,ProgressBadge:f,showActions:!0,onView:v,onUpdate:s=>y("update",s)})]}),m.type==="update"&&e.jsx(j,{student:m.student,onClose:b,onSubmit:N})]})});Q.displayName="StudentsPanel";export{Q as default};
