import{c as v,r as a,j as e,m as $,q as E,I as K,p as P}from"./index-CNXoHGf6.js";import{S as U}from"./StudentsTable-C8psJJ68.js";import{C as B}from"./chevron-left-NBIzxpVt.js";import{R as D}from"./CategoricalChart-BWSlwQ-8.js";import{L as q}from"./LineChart-Bryn4cPE.js";import{C as F,X as G,T as H}from"./CartesianChart-JpI0LME0.js";import{L as N}from"./Line-E5___Q2U.js";import"./interventionUtils-Vcld4Os_.js";import"./ActivePoints-COg3E5LG.js";import"./ErrorBarContext-DDemRKiy.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q=v("clock-4",O);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M12 6v6l-4 2",key:"imc3wl"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],V=v("clock-8",X),z=({statCards:c})=>e.jsx("section",{className:"grid md:grid-cols-3 gap-6",children:c.map((t,d)=>e.jsxs("div",{className:"mtss-glass-stat transition transform hover:-translate-y-1 hover:scale-[1.01]","data-aos":"fade-up","data-aos-delay":50+d*40,"data-aos-duration":"500",children:[e.jsx("div",{className:"mtss-glass-stat__layer mtss-glass-stat__layer--blur"}),e.jsx("div",{className:"mtss-glass-stat__layer mtss-glass-stat__layer--glow"}),e.jsxs("div",{className:"relative flex items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs tracking-[0.4em] text-slate-800/80 dark:text-white/75",children:t.label}),e.jsx("p",{className:"text-4xl font-black mt-2 text-slate-900 dark:text-white drop-shadow-lg dark:drop-shadow-none",children:t.value}),e.jsx("p",{className:"text-sm text-slate-700/90 dark:text-white/80 mt-1",children:t.sub})]}),e.jsx("span",{className:`mtss-glass-stat__icon bg-gradient-to-br ${t.accent}`,children:e.jsx(t.icon,{className:"w-5 h-5"})})]})]},t.label))}),J=a.memo(z),p=10,Y=a.memo(({statCards:c,students:t,progressData:d,TierPill:g,ProgressBadge:S,onView:C,onUpdate:_})=>{const[u,o]=a.useState(0);a.useEffect(()=>{o(0)},[t.length]);const L=a.useCallback(()=>{o(s=>t.length?(s+1)%t.length:0)},[t.length]),T=a.useCallback(()=>{o(s=>t.length?(s-1+t.length)%t.length:0)},[t.length]),{spotlightStudent:l,spotlightProfile:i,progressUnit:x,spotlightStatus:b,weekLabel:M,chartSeries:A,history:f}=a.useMemo(()=>{const s=t?.[u]??t?.[0]??null,r=s?.profile||{},n=r.progressUnit||(s?.type==="Behavior"?"pts":s?.type==="Attendance"?"%":"wpm"),I=r.target?Math.round(r.current/r.target*100):0,m=parseInt(r.duration,10),k=r.chart?.length?r.chart:d?.length?d:[{label:"Start",date:"Start",reading:0,goal:100}],y=k.length,R=m&&y?`Week ${Math.min(y,m)} of ${m}`:r.duration||"Weekly check-in",W=r.history||[];return{spotlightStudent:s,spotlightProfile:r,progressUnit:n,spotlightStatus:I,weekLabel:R,chartSeries:k,history:W}},[t,d,u]),[j,w]=a.useState(p);a.useEffect(()=>{w(p)},[t.length]);const h=a.useMemo(()=>(t||[]).slice(0,Math.min(j,t.length)),[t,j]);return e.jsxs("div",{className:"space-y-8 mtss-theme",children:[e.jsx(J,{statCards:c}),e.jsxs("section",{className:"glass glass-card mtss-card-surface mtss-rainbow-shell p-6 md:p-8 space-y-6 border border-primary/10",children:[e.jsxs("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs text-muted-foreground tracking-[0.4em]",children:"Fresh Updates"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground dark:text-white",children:"Kids on your radar today"})]}),e.jsx($.button,{className:"mtss-rainbow-chip px-5 py-2 text-sm font-semibold",whileHover:{scale:1.04},whileTap:{scale:.96},children:"Quick Add"})]}),e.jsx("div",{"data-aos":"fade-up","data-aos-delay":"120",children:e.jsx(U,{students:h,TierPill:g,ProgressBadge:S,dense:!0,showActions:!0,onView:C,onUpdate:_})}),e.jsx("div",{className:"flex flex-col items-center gap-2 text-xs text-muted-foreground","data-aos":"fade-up","data-aos-delay":"180",children:h.length<t.length?e.jsxs("button",{type:"button",onClick:()=>w(s=>Math.min(t.length,s+p)),className:"px-4 py-2 rounded-full bg-white/80 dark:bg-white/10 border border-primary/30 text-sm font-semibold text-primary shadow-sm hover:-translate-y-0.5 transition",children:["Load 10 more kids (",h.length,"/",t.length,")"]}):e.jsx("span",{className:"px-3 py-1 rounded-full bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-200 border border-emerald-200/70 dark:border-emerald-500/30",children:"All kids loaded"})})]}),e.jsxs("section",{className:"mtss-liquid mtss-card-surface mtss-rainbow-shell p-6 space-y-6 border border-primary/10",children:[e.jsxs("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"uppercase text-xs tracking-[0.4em] text-muted-foreground",children:"Student Spotlight"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground dark:text-white",children:l?.name||"Featured Student"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Quickly scan assignment context, trends, and recent notes for this student."})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/75 dark:bg-white/10 border border-white/50 text-xs font-semibold text-foreground dark:text-white shadow-sm",children:[e.jsx(E,{className:"w-4 h-4 text-primary"}),t.length," in roster"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 dark:bg-white/10 border border-white/60 dark:border-white/20 shadow-sm hover:-translate-y-0.5 transition",onClick:T,"aria-label":"Previous student",children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("select",{className:"px-4 py-2 rounded-full bg-white/80 dark:bg-white/10 border border-white/60 dark:border-white/20 text-sm font-semibold text-foreground dark:text-white shadow-sm",value:l?.id||"",onChange:s=>{const r=t.findIndex(n=>(n.id||n._id)===s.target.value);o(r>=0?r:0)},children:t.map(s=>e.jsx("option",{value:s.id||s._id,children:s.name},s.id||s._id))}),e.jsx("button",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 dark:bg-white/10 border border-white/60 dark:border-white/20 shadow-sm hover:-translate-y-0.5 transition",onClick:L,"aria-label":"Next student",children:e.jsx(K,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mtss-rainbow-chip mtss-rainbow-chip--emerald text-xs font-semibold uppercase tracking-[0.3em]",children:[e.jsx(P,{className:"w-4 h-4"}),b||0,"% to target"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4","data-aos":"fade-up","data-aos-delay":"80",children:[e.jsxs("div",{className:"rounded-2xl border border-white/35 dark:border-white/10 bg-white/10 dark:bg-white/5 backdrop-blur p-4 space-y-3 shadow-inner",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-[0.35em] text-muted-foreground",children:"Student"}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/70 dark:bg-white/10 border border-white/30 text-[11px] font-semibold text-foreground dark:text-white",children:[e.jsx(V,{className:"w-3.5 h-3.5"}),M]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Grade"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:l?.grade??"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Teacher"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:i.teacher??"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Mentor"}),e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:i.mentor??"-"})]}),e.jsxs("div",{className:"flex items-center justify-between text-muted-foreground",children:[e.jsx("span",{children:"Tier"}),l?.tier?e.jsx(g,{tier:l.tier}):e.jsx("span",{className:"font-semibold text-foreground dark:text-white",children:"-"})]})]})]}),e.jsxs("div",{className:"mtss-rainbow-shell rounded-2xl border border-white/40 dark:border-white/10 p-4 space-y-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-[0.4em]",children:"Intervention"}),e.jsxs("ul",{className:"space-y-2 text-sm text-foreground dark:text-white",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Type:"})," ",i.type??"-"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strategy:"})," ",i.strategy??"-"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Started:"})," ",i.started??"-"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Duration:"})," ",i.duration??"-"]})]})]}),e.jsxs("div",{className:"mtss-rainbow-shell rounded-2xl border border-white/40 dark:border-white/10 p-4 space-y-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-[0.4em]",children:"Progress"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-foreground dark:text-white",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Baseline:"})," ",i.baseline??"-"," ",x]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Current:"})," ",i.current??"-"," ",x]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target:"})," ",i.target??"-"," ",x]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("strong",{children:"Status:"})," ",b,"% to target"]})]})]}),e.jsxs("div",{className:"mtss-rainbow-shell rounded-2xl border border-white/40 dark:border-white/10 p-4 space-y-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-[0.4em]",children:"Recent Notes"}),e.jsx("div",{className:"space-y-2 max-h-36 overflow-y-auto pr-1",children:f?.length?f.map((s,r)=>e.jsxs("div",{className:"rounded-xl bg-white/70 dark:bg-white/5 border border-white/20 px-3 py-2 text-xs text-foreground dark:text-white",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-semibold",children:s.date||"Recent"}),e.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-muted-foreground",children:[e.jsx(Q,{className:"w-3 h-3"}),s.score||s.value||""]})]}),e.jsx("p",{className:"mt-1 text-[12px] text-muted-foreground",children:s.notes||s.summary||s.description||"Check-in recorded"})]},`${s.date||r}-${r}`)):e.jsx("p",{className:"text-xs text-muted-foreground",children:"No recent notes."})})]})]}),e.jsx("div",{className:"mtss-rainbow-shell rounded-3xl p-4 border border-white/40 dark:border-white/10","data-aos":"fade-up","data-aos-delay":"140",children:e.jsx(D,{width:"100%",height:260,children:e.jsxs(q,{data:A,children:[e.jsx(F,{strokeDasharray:"3 3",stroke:"rgba(148,163,184,0.3)"}),e.jsx(G,{dataKey:"date",stroke:"rgba(209,213,219,0.85)",tick:{fill:"rgba(148,163,184,0.85)"}}),e.jsx(H,{cursor:{stroke:"rgba(99,102,241,0.4)",strokeWidth:2},contentStyle:{borderRadius:16,border:"1px solid rgba(148,163,184,0.3)",backgroundColor:"rgba(15,23,42,0.9)",color:"#f8fafc"}}),e.jsx(N,{type:"monotone",dataKey:"reading",stroke:"hsl(var(--primary))",strokeWidth:2.4,dot:!1}),e.jsx(N,{type:"monotone",dataKey:"goal",stroke:"hsl(var(--gold))",strokeDasharray:"4 4",strokeWidth:1.8,dot:!1})]})})})]})]})});Y.displayName="DashboardOverview";export{Y as default};
