import{n as S,r,j as e,H as C,L as h,o as m,A,M as D}from"./index-BCPYO0q9.js";import{B as n}from"./button-CfOjSlLb.js";import{C as T,b as B,c as z,a as M}from"./card-D9OwlOO6.js";import{I as L}from"./input-PLikSIeF.js";import{E as P}from"./EmptyState-BzZQqx54.js";import{A as $}from"./AnimatedPage-CEsc5BvP.js";import{A as q}from"./arrow-left-I9hWcI9Y.js";import{S as E}from"./search-WevG_vcc.js";import{C as _}from"./clock-B4oT_F4U.js";const b=[{id:"JOB-1001",title:"Antar kopi & pulsa",description:"Ambil 2 kopi di KopiKita, kirim ke kantor. Beli pulsa 20k.",status:"waiting",deadline:"2025-09-10T11:00:00Z",progress:0,client:{name:"Budi S.",id:"U-200"},attachments:[],requiresDelivery:!1,type:"micro"},{id:"JOB-1002",title:"Desain poster A3",description:"Desain poster promo 1 halaman A3. Sertakan 2 konsep.",status:"in_progress",deadline:"2025-09-12T18:00:00Z",progress:45,client:{name:"Citra L.",id:"U-201"},attachments:["brand-guideline.pdf"],requiresDelivery:!0,type:"project"},{id:"JOB-1003",title:"Bersih gudang kecil",description:"Butuh 2 orang, estimasi 3 jam. Bawa alat pembersih sendiri.",status:"completed",deadline:"2025-09-05T09:00:00Z",progress:100,client:{name:"Andi",id:"U-202"},attachments:[],requiresDelivery:!1,type:"onsite"}],u=(t="")=>String(t).replace(/<[^>]*>/g,"").replace(/\b(?:javascript:|data:|vbscript:)[^\s]*/gi,"").replace(/https?:\/\/[^\s]+/gi,"").trim().slice(0,1e3),j=t=>new Date(t).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"});function f({status:t}){const l={waiting:"Menunggu",in_progress:"Proses",completed:"Selesai"},o=t==="waiting"?"bg-amber-500/10 text-amber-400 ring-1 ring-amber-500/20":t==="in_progress"?"bg-primary/10 text-primary ring-1 ring-primary/20":"bg-emerald-500/10 text-emerald-400 ring-1 ring-emerald-500/20";return e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${o}`,children:l[t]})}function Q(){const t=S(),[l,o]=r.useState(b),[x,v]=r.useState(""),[d,N]=r.useState("all"),[i,p]=r.useState(null),g=r.useMemo(()=>{const s=x.trim().toLowerCase();return l.filter(a=>d==="all"?!0:a.status===d).filter(a=>s?`${a.title} ${a.description} ${a.client.name} ${a.id}`.toLowerCase().includes(s):!0)},[l,x,d]),y=r.useCallback((s,a)=>{o(w=>w.map(c=>c.id===s?{...c,status:a,progress:a==="completed"?100:c.progress}:c))},[]),k=t?{}:{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.32,ease:"easeOut"}};return e.jsxs($,{children:[e.jsx(C,{children:e.jsx("title",{children:"Tugas Saya — Kerjain"})}),e.jsxs("div",{className:"min-h-dvh px-4 py-5",children:[e.jsxs("div",{className:"mx-auto max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(h,{to:-1,className:"inline-flex items-center rounded-full p-2 bg-card/40 border border-border hover:bg-accent/10 transition-colors duration-300 backdrop-blur-xl",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Tugas Saya"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Daftar pekerjaan aktif"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 rounded-full border border-border bg-card/50 px-3 py-2 backdrop-blur-md",children:[e.jsx(E,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(L,{value:x,onChange:s=>v(s.target.value),sanitize:"strong",placeholder:"Cari judul, ID, atau client...",className:"w-full bg-transparent text-sm outline-none placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-accent/40"})]}),e.jsxs("select",{value:d,onChange:s=>N(s.target.value),className:"rounded-full border border-border bg-card/50 px-3 py-2 text-sm backdrop-blur-md transition-colors duration-300 hover:border-accent",children:[e.jsx("option",{value:"all",children:"Semua"}),e.jsx("option",{value:"waiting",children:"Menunggu"}),e.jsx("option",{value:"in_progress",children:"Proses"}),e.jsx("option",{value:"completed",children:"Selesai"})]})]}),e.jsx("div",{className:"space-y-3",children:g.length===0?e.jsx(P,{title:"Tidak ada tugas",subtitle:"Tugas akan muncul di sini.",action:e.jsx(n,{size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90 transition duration-300",onClick:()=>o(b),children:"Reset Demo"})}):g.map(s=>e.jsx(m.div,{...k,children:e.jsxs(T,{className:"rounded-xl border border-border/40 bg-card/60 p-4 backdrop-blur-xl hover:shadow-lg transition duration-300",children:[e.jsx(B,{className:"p-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"text-sm font-semibold truncate",children:u(s.title)}),e.jsx(f,{status:s.status})]}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground line-clamp-2",children:u(s.description)}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(_,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:j(s.deadline)}),e.jsxs("span",{children:["• ",s.client?.name]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("div",{className:"text-sm font-semibold text-foreground",children:[s.progress,"%"]}),e.jsx(n,{size:"sm",variant:"ghost",className:"rounded-full px-3 py-1 hover:bg-accent/10 transition duration-300",onClick:()=>p(s),children:"Detail"}),s.status==="waiting"&&e.jsx(n,{size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90 transition duration-300",onClick:()=>y(s.id,"in_progress"),children:"Mulai"})]})]})}),e.jsx(M,{className:"p-0 mt-3",children:e.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:e.jsx(m.div,{initial:{width:0},animate:{width:`${s.progress}%`},transition:{duration:.6},className:"h-2 bg-gradient-to-r from-primary to-accent"})})})]})},s.id))})]}),e.jsx(A,{children:i&&e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>p(null)}),e.jsxs(m.div,{initial:{y:20},animate:{y:0},exit:{y:20},transition:{duration:.32},className:"relative w-full max-w-lg rounded-xl bg-card/95 border border-border p-5 z-10 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:u(i.title)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.client?.name," • ",j(i.deadline)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{status:i.status}),e.jsx(n,{size:"sm",variant:"ghost",onClick:()=>p(null),className:"hover:text-accent transition",children:"Tutup"})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:u(i.description)}),e.jsx(h,{to:`/chat/${i.client.id}`,className:"block",children:e.jsxs(n,{size:"sm",variant:"outline",className:"w-full hover:border-accent transition-colors",children:[e.jsx(D,{className:"mr-2 h-4 w-4"})," Chat Client"]})})]})]})]},"detail")})]})]})}export{Q as default};
