import{r as s,a as f,u as b,E as j,G as v,j as e,H as y,m as r,L as N}from"./index-Cu1z75_R.js";import{B as d}from"./button-DWxbJQgD.js";import{C as w,a as k}from"./card-CcIMsU6h.js";import{A as S}from"./AnimatedPage-DLogkdEN.js";import{A as T}from"./arrow-left-D-aKEELJ.js";import{S as C}from"./star-dOoKW7km.js";import{S as A}from"./send-MX_9NEiw.js";const B=t=>String(t||"").replace(/<[^>]*>/g,"").replace(/https?:\/\/[^\s]+/gi,"").slice(0,500);function M(){const[t,m]=s.useState(0),[u,i]=s.useState(0),[x,p]=s.useState(""),{toast:n}=f(),h=b(),{id:E}=j(),o=v(),l=o.state?.role||"client",c=o.state?.target||{name:"User",jobTitle:"Tugas Anda"},g=a=>{if(a.preventDefault(),t===0){n({title:"Belum ada rating",description:"Silakan pilih bintang dulu ya.",variant:"destructive"});return}n({title:"Terima kasih!",description:"Ulasan berhasil dikirim."}),setTimeout(()=>{h(l==="client"?"/client/dashboard":"/worker/dashboard")},1200)};return e.jsxs(S,{children:[e.jsx(y,{children:e.jsx("title",{children:"Beri Ulasan â€” Kerjain"})}),e.jsxs("div",{className:"relative min-h-dvh w-full px-4 py-6 md:px-6 text-foreground",children:[e.jsxs(r.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"mb-6 flex items-center gap-3",children:[e.jsx(N,{to:-1,children:e.jsx(d,{variant:"ghost",size:"icon",className:"rounded-full bg-card/40 hover:bg-accent/20 transition-colors duration-300",children:e.jsx(T,{className:"h-5 w-5"})})}),e.jsx("h1",{className:"text-lg font-semibold",children:"Beri Ulasan"})]}),e.jsx(r.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},children:e.jsx(w,{className:"rounded-3xl border border-border/30 bg-background/50 shadow-lg backdrop-blur-xl",children:e.jsxs(k,{className:"p-6 text-center space-y-6",children:[e.jsxs("h2",{className:"text-base font-medium",children:["Nilai ",l==="client"?"Kinerja":"Klien"," ",e.jsx("span",{className:"text-primary font-semibold",children:c.name})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c.jobTitle}),e.jsx("div",{className:"flex justify-center gap-4",children:[1,2,3,4,5].map(a=>e.jsx(r.div,{whileHover:{scale:1.15},whileTap:{scale:.9},className:"transition-transform duration-300",children:e.jsx(C,{className:`h-9 w-9 cursor-pointer transition-colors duration-300 ${(u||t)>=a?"text-accent fill-accent":"text-muted-foreground"}`,onClick:()=>m(a),onMouseEnter:()=>i(a),onMouseLeave:()=>i(0)})},a))}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsx("textarea",{placeholder:"Tulis komentar singkat (opsional)...",rows:"3",value:x,onChange:a=>p(B(a.target.value)),className:"w-full rounded-2xl border border-border/40 bg-background/40 px-3 py-2 text-sm resize-none transition-colors duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40"}),e.jsxs(d,{type:"submit",size:"lg",className:"w-full rounded-2xl bg-gradient-to-r from-primary to-accent text-primary-foreground font-medium shadow transition-all duration-350 hover:opacity-90 group",children:["Kirim",e.jsx(A,{className:"ml-2 h-5 w-5 transition-transform duration-300 group-hover:translate-x-1"})]})]})]})})})]})]})}export{M as default};
