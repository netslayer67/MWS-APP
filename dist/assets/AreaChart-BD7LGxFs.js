import{r as n,aB as J}from"./index-BeQwOtyQ.js";import{c as B,l as K,bh as U,bi as Q,bj as pe,bo as z,bp as ve,bu as $,ar as G,bk as fe,w as q,aQ as Z,y as me,b8 as he,C as ye,b9 as xe,ba as ge,G as Ae,u as ee,au as be,av as Pe,A as Ie,aK as Ee,U as ae,bv as te,L as _,j as V,bw as X,O as w,D as Ce,J as ke,F as L,am as Se,bg as De,N as Oe,be as Ne,x as re,X as T,bt as W,a as Le}from"./CategoricalChart-BMqhUz2Q.js";import{A as F,D as we}from"./ActivePoints-hEmJ1Vin.js";import{u as je,G as _e,C as Re}from"./CartesianChart-BRX7XIZz.js";var ie=(a,e,t,r)=>U(a,"xAxis",e,r),ne=(a,e,t,r)=>Q(a,"xAxis",e,r),le=(a,e,t,r)=>U(a,"yAxis",t,r),se=(a,e,t,r)=>Q(a,"yAxis",t,r),We=B([K,ie,le,ne,se],(a,e,t,r,l)=>$(a,"xAxis")?G(e,r,!1):G(t,l,!1)),Me=(a,e,t,r,l)=>l,oe=B([fe,Me],(a,e)=>a.filter(t=>t.type==="area").find(t=>t.id===e)),Te=(a,e,t,r,l)=>{var i,c=oe(a,e,t,r,l);if(c!=null){var s=K(a),o=$(s,"xAxis"),u;if(o?u=z(a,"yAxis",t,r):u=z(a,"xAxis",e,r),u!=null){var{stackId:m}=c,h=ve(c);if(!(m==null||h==null)){var p=(i=u[m])===null||i===void 0?void 0:i.stackedData;return p?.find(f=>f.key===h)}}}},Be=B([K,ie,le,ne,se,Te,pe,We,oe],(a,e,t,r,l,i,c,s,o)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:h}=c;if(!(o==null||a!=="horizontal"&&a!=="vertical"||e==null||t==null||r==null||l==null||r.length===0||l.length===0||s==null)){var{data:p}=o,f;if(p&&p.length>0?f=p:f=u?.slice(m,h+1),f!=null){var x=void 0;return la({layout:a,xAxis:e,yAxis:t,xAxisTicks:r,yAxisTicks:l,dataStartIndex:m,areaSettings:o,stackedData:i,displayedData:f,chartBaseValue:x,bandSize:s})}}}),Ke=["id"],ze=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ce(a,e){if(a==null)return{};var t,r,l=Ge(a,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(l[t]=a[t])}return l}function Ge(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function Y(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),t.push.apply(t,r)}return t}function C(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y(Object(t),!0).forEach(function(r){Ve(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function Ve(a,e,t){return(e=Xe(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Xe(a){var e=Fe(a,"string");return typeof e=="symbol"?e:e+""}function Fe(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function k(){return k=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},k.apply(null,arguments)}function M(a,e){return a&&a!=="none"?a:e}var Ye=a=>{var{dataKey:e,name:t,stroke:r,fill:l,legendType:i,hide:c}=a;return[{inactive:c,dataKey:e,type:i,color:M(r,l),value:ee(t,e),payload:a}]};function He(a){var{dataKey:e,data:t,stroke:r,strokeWidth:l,fill:i,name:c,hide:s,unit:o}=a;return{dataDefinedOnItem:t,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:i,dataKey:e,nameKey:void 0,name:ee(c,e),hide:s,type:a.tooltipType,color:M(r,i),unit:o}}}var Je=(a,e)=>{var t;if(n.isValidElement(a))t=n.cloneElement(a,e);else if(typeof a=="function")t=a(e);else{var r=J("recharts-area-dot",typeof a!="boolean"?a.className:"");t=n.createElement(we,k({},e,{className:r}))}return t};function Ue(a,e){return a==null?!1:e?!0:a.length===1}function Qe(a){var{clipPathId:e,points:t,props:r}=a,{needClip:l,dot:i,dataKey:c}=r;if(!Ue(t,i))return null;var s=te(i),o=re(r),u=ae(i,!0),m=t.map((p,f)=>{var x=C(C(C({key:"dot-".concat(f),r:3},o),u),{},{index:f,cx:p.x,cy:p.y,dataKey:c,value:p.value,payload:p.payload,points:t});return Je(i,x)}),h={clipPath:l?"url(#clipPath-".concat(s?"":"dots-").concat(e,")"):void 0};return n.createElement(_,k({className:"recharts-area-dots"},h),m)}function $e(a){var{showLabels:e,children:t,points:r}=a,l=r.map(i=>{var c={x:i.x,y:i.y,width:0,height:0};return C(C({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return n.createElement(Ne,{value:e?l:null},t)}function H(a){var{points:e,baseLine:t,needClip:r,clipPathId:l,props:i}=a,{layout:c,type:s,stroke:o,connectNulls:u,isRange:m}=i,{id:h}=i,p=ce(i,Ke),f=re(p);return n.createElement(n.Fragment,null,e?.length>1&&n.createElement(_,{clipPath:r?"url(#clipPath-".concat(l,")"):void 0},n.createElement(T,k({},f,{id:h,points:e,connectNulls:u,type:s,baseLine:t,layout:c,stroke:"none",className:"recharts-area-area"})),o!=="none"&&n.createElement(T,k({},f,{className:"recharts-area-curve",layout:c,type:s,connectNulls:u,fill:"none",points:e})),o!=="none"&&m&&n.createElement(T,k({},f,{className:"recharts-area-curve",layout:c,type:s,connectNulls:u,fill:"none",points:t}))),n.createElement(Qe,{points:e,props:p,clipPathId:l}))}function qe(a){var{alpha:e,baseLine:t,points:r,strokeWidth:l}=a,i=r[0].y,c=r[r.length-1].y;if(!W(i)||!W(c))return null;var s=e*Math.abs(i-c),o=Math.max(...r.map(u=>u.x||0));return w(t)?o=Math.max(t,o):t&&Array.isArray(t)&&t.length&&(o=Math.max(...t.map(u=>u.x||0),o)),w(o)?n.createElement("rect",{x:0,y:i<c?i:i-s,width:o+(l?parseInt("".concat(l),10):1),height:Math.floor(s)}):null}function Ze(a){var{alpha:e,baseLine:t,points:r,strokeWidth:l}=a,i=r[0].x,c=r[r.length-1].x;if(!W(i)||!W(c))return null;var s=e*Math.abs(i-c),o=Math.max(...r.map(u=>u.y||0));return w(t)?o=Math.max(t,o):t&&Array.isArray(t)&&t.length&&(o=Math.max(...t.map(u=>u.y||0),o)),w(o)?n.createElement("rect",{x:i<c?i:i-s,y:0,width:s,height:Math.floor(o+(l?parseInt("".concat(l),10):1))}):null}function ea(a){var{alpha:e,layout:t,points:r,baseLine:l,strokeWidth:i}=a;return t==="vertical"?n.createElement(qe,{alpha:e,points:r,baseLine:l,strokeWidth:i}):n.createElement(Ze,{alpha:e,points:r,baseLine:l,strokeWidth:i})}function aa(a){var{needClip:e,clipPathId:t,props:r,previousPointsRef:l,previousBaselineRef:i}=a,{points:c,baseLine:s,isAnimationActive:o,animationBegin:u,animationDuration:m,animationEasing:h,onAnimationStart:p,onAnimationEnd:f}=r,x=Ce(r,"recharts-area-"),[A,g]=n.useState(!1),E=!A,P=n.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),I=n.useCallback(()=>{typeof p=="function"&&p(),g(!0)},[p]),d=l.current,y=i.current;return n.createElement($e,{showLabels:E,points:c},r.children,n.createElement(ke,{animationId:x,begin:u,duration:m,isActive:o,easing:h,onAnimationEnd:P,onAnimationStart:I,key:x},v=>{if(d){var D=d.length/c.length,R=v===1?c:c.map((b,j)=>{var O=Math.floor(j*D);if(d[O]){var N=d[O];return C(C({},b),{},{x:L(N.x,b.x,v),y:L(N.y,b.y,v)})}return b}),S;return w(s)?S=L(y,s,v):Se(s)||De(s)?S=L(y,0,v):S=s.map((b,j)=>{var O=Math.floor(j*D);if(Array.isArray(y)&&y[O]){var N=y[O];return C(C({},b),{},{x:L(N.x,b.x,v),y:L(N.y,b.y,v)})}return b}),v>0&&(l.current=R,i.current=S),n.createElement(H,{points:R,baseLine:S,needClip:e,clipPathId:t,props:r})}return v>0&&(l.current=c,i.current=s),n.createElement(_,null,o&&n.createElement("defs",null,n.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.createElement(ea,{alpha:v,points:c,baseLine:s,layout:r.layout,strokeWidth:r.strokeWidth}))),n.createElement(_,{clipPath:"url(#animationClipPath-".concat(t,")")},n.createElement(H,{points:c,baseLine:s,needClip:e,clipPathId:t,props:r})))}),n.createElement(Oe,{label:r.label}))}function ta(a){var{needClip:e,clipPathId:t,props:r}=a,l=n.useRef(null),i=n.useRef();return n.createElement(aa,{needClip:e,clipPathId:t,props:r,previousPointsRef:l,previousBaselineRef:i})}class ra extends n.PureComponent{render(){var e,{hide:t,dot:r,points:l,className:i,top:c,left:s,needClip:o,xAxisId:u,yAxisId:m,width:h,height:p,id:f,baseLine:x}=this.props;if(t)return null;var A=J("recharts-area",i),g=f,{r:E=3,strokeWidth:P=2}=(e=ae(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=te(r),d=E*2+P;return n.createElement(n.Fragment,null,n.createElement(_,{className:A},o&&n.createElement("defs",null,n.createElement(_e,{clipPathId:g,xAxisId:u,yAxisId:m}),!I&&n.createElement("clipPath",{id:"clipPath-dots-".concat(g)},n.createElement("rect",{x:s-d/2,y:c-d/2,width:h+d,height:p+d}))),n.createElement(ta,{needClip:o,clipPathId:g,props:this.props})),n.createElement(F,{points:l,mainColor:M(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(x)&&n.createElement(F,{points:x,mainColor:M(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var ue={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ae.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function ia(a){var e,t=q(a,ue),{activeDot:r,animationBegin:l,animationDuration:i,animationEasing:c,connectNulls:s,dot:o,fill:u,fillOpacity:m,hide:h,isAnimationActive:p,legendType:f,stroke:x,xAxisId:A,yAxisId:g}=t,E=ce(t,ze),P=be(),I=Pe(),{needClip:d}=je(A,g),y=Z(),{points:v,isRange:D,baseLine:R}=(e=Ie(de=>Be(de,A,g,y,a.id)))!==null&&e!==void 0?e:{},S=Ee();if(P!=="horizontal"&&P!=="vertical"||S==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:b,width:j,x:O,y:N}=S;return!v||!v.length?null:n.createElement(ra,k({},E,{activeDot:r,animationBegin:l,animationDuration:i,animationEasing:c,baseLine:R,connectNulls:s,dot:o,fill:u,fillOpacity:m,height:b,hide:h,layout:P,isAnimationActive:p,isRange:D,legendType:f,needClip:d,points:v,stroke:x,width:j,left:O,top:N,xAxisId:A,yAxisId:g}))}var na=(a,e,t,r,l)=>{var i=t??e;if(w(i))return i;var c=a==="horizontal"?l:r,s=c.scale.domain();if(c.type==="number"){var o=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return i==="dataMin"?u:i==="dataMax"||o<0?o:Math.max(Math.min(s[0],s[1]),0)}return i==="dataMin"?s[0]:i==="dataMax"?s[1]:s[0]};function la(a){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:r},stackedData:l,layout:i,chartBaseValue:c,xAxis:s,yAxis:o,displayedData:u,dataStartIndex:m,xAxisTicks:h,yAxisTicks:p,bandSize:f}=a,x=l&&l.length,A=na(i,c,t,s,o),g=i==="horizontal",E=!1,P=u.map((d,y)=>{var v;x?v=l[m+y]:(v=V(d,r),Array.isArray(v)?E=!0:v=[A,v]);var D=v[1]==null||x&&!e&&V(d,r)==null;return g?{x:X({axis:s,ticks:h,bandSize:f,entry:d,index:y}),y:D?null:o.scale(v[1]),value:v,payload:d}:{x:D?null:s.scale(v[1]),y:X({axis:o,ticks:p,bandSize:f,entry:d,index:y}),value:v,payload:d}}),I;return x||E?I=P.map(d=>{var y=Array.isArray(d.value)?d.value[0]:null;return g?{x:d.x,y:y!=null&&d.y!=null?o.scale(y):null,payload:d.payload}:{x:y!=null?s.scale(y):null,y:d.y,payload:d.payload}}):I=g?o.scale(A):s.scale(A),{points:P,baseLine:I,isRange:E}}function sa(a){var e=q(a,ue),t=Z();return n.createElement(me,{id:e.id,type:"area"},r=>n.createElement(n.Fragment,null,n.createElement(he,{legendPayload:Ye(e)}),n.createElement(ye,{fn:He,args:e}),n.createElement(xe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ge(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),n.createElement(ia,k({},e,{id:r}))))}var oa=n.memo(sa);oa.displayName="Area";var ca=["axis"],fa=n.forwardRef((a,e)=>n.createElement(Re,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ca,tooltipPayloadSearcher:Le,categoricalChartProps:a,ref:e}));export{fa as A,oa as a};
