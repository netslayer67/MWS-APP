import{r as o,j as e,aA as m,m as l}from"./index-CDbc_zXv.js";import{U as f}from"./users-KGmu_E7O.js";import{C as u}from"./crown-B5GjFC64.js";import{G as j}from"./graduation-cap-SYtRdAI4.js";import{U as x}from"./user-check-Bkjt5Xgo.js";import{B as p}from"./building-C8kgP8SH.js";const i=o.memo(({icon:n,title:d,value:c,subtitle:a,color:r="primary",delay:s=0})=>e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s,duration:.5},className:"glass glass-card p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${r}/10`,children:e.jsx(n,{className:`w-6 h-6 text-${r}`})}),e.jsx("span",{className:"text-2xl font-bold text-foreground",children:c})]}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:d}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a})]}));i.displayName="StatCard";const h=o.memo(({organizationStructure:n,totalUsers:d,lastUpdated:c})=>{const a=o.useMemo(()=>{const{stats:s}=n||{};return{totalUsers:d||s?.totalUsers||0,directorate:s?.byRole?.find(t=>t._id==="directorate")?.count||0,teachers:(s?.byRole?.find(t=>t._id==="teacher")?.count||0)+(s?.byRole?.find(t=>t._id==="se_teacher")?.count||0),staff:(s?.byRole?.find(t=>t._id==="staff")?.count||0)+(s?.byRole?.find(t=>t._id==="head_unit")?.count||0),supportStaff:s?.byRole?.find(t=>t._id==="support_staff")?.count||0,students:s?.byRole?.find(t=>t._id==="student")?.count||0,permanent:s?.byEmploymentStatus?.find(t=>t._id==="Permanent")?.count||0,contract:s?.byEmploymentStatus?.find(t=>t._id==="Contract")?.count||0,probation:s?.byEmploymentStatus?.find(t=>t._id==="Probation")?.count||0}},[n,d]),r=o.useMemo(()=>n?.directorate||[],[n]);return a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[e.jsx(i,{icon:f,title:"Total Users",value:a.totalUsers,subtitle:"All registered users",color:"primary",delay:0}),e.jsx(i,{icon:u,title:"Directorate",value:a.directorate,subtitle:"Leadership team",color:"gold",delay:.1}),e.jsx(i,{icon:j,title:"Teachers",value:a.teachers,subtitle:"Teaching staff",color:"blue",delay:.2}),e.jsx(i,{icon:m,title:"Staff",value:a.staff,subtitle:"Administrative staff",color:"green",delay:.3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[e.jsx(i,{icon:x,title:"Support Staff",value:a.supportStaff,subtitle:"Operational support",color:"orange",delay:.4}),e.jsx(i,{icon:p,title:"Students",value:a.students,subtitle:"Student accounts",color:"purple",delay:.5}),e.jsx(i,{icon:m,title:"Contract Staff",value:a.contract,subtitle:"Contract employees",color:"secondary",delay:.6}),e.jsx(i,{icon:x,title:"Permanent Staff",value:a.permanent,subtitle:"Full-time employees",color:"default",delay:.7})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[e.jsx("div",{className:"glass glass-card p-4 md:p-6",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Employment Status"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Permanent"}),e.jsx("span",{className:"font-medium",children:a.permanent})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Contract"}),e.jsx("span",{className:"font-medium",children:a.contract})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Probation"}),e.jsx("span",{className:"font-medium",children:a.probation})]})]})]})}),e.jsx("div",{className:"glass glass-card p-4 md:p-6",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.5},children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Department Distribution"]}),e.jsx("div",{className:"space-y-2 text-sm",children:n?.stats?.byDepartment?.map(s=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s._id||"No Department"}),e.jsx("span",{className:"font-medium",children:s.count})]},s._id))||e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{children:"Directorate"}),e.jsx("span",{children:"0"})]}),e.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{children:"Elementary"}),e.jsx("span",{children:"0"})]}),e.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{children:"Junior High"}),e.jsx("span",{children:"0"})]}),e.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{children:"Operational"}),e.jsx("span",{children:"0"})]}),e.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{children:"MAD Lab"}),e.jsx("span",{children:"0"})]}),e.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[e.jsx("span",{children:"Finance"}),e.jsx("span",{children:"0"})]})]})})]})}),e.jsx("div",{className:"glass glass-card p-4 md:p-6",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.5},children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-3 flex items-center",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Activity Status"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Active Users"}),e.jsx("span",{className:"font-medium text-green-600",children:a.totalUsers})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Inactive Users"}),e.jsx("span",{className:"font-medium text-red-600",children:"0"})]})]})]})})]}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5},className:"glass glass-card p-4 md:p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(u,{className:"w-5 h-5 mr-2 text-gold"}),"Directorate Members"]}),r&&r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((s,t)=>e.jsxs(l.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+t*.1,duration:.3},className:"p-4 bg-muted/30 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.jobPosition}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.department})]},s._id||t))}):e.jsx("p",{className:"text-muted-foreground",children:"No directorate members found"})]}),c&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},className:"text-center text-xs text-muted-foreground",children:["Last updated: ",new Date(c).toLocaleString()]})]}):e.jsx("div",{className:"glass glass-card p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-muted/30 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-muted/20 rounded w-1/2"})]})})});h.displayName="UserStatsOverview";export{h as default};
