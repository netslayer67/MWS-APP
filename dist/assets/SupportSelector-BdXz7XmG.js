import{r as t,a as j,d as p,o as k,j as e}from"./index-Z8dj6zX8.js";import{U as N}from"./users-CdpdZLFM.js";import{C as y}from"./chevron-down-D5tBNELb.js";import{U as v}from"./user-check-BgAI-Go4.js";import{C as w}from"./circle-check-BBuiTMoS.js";const S=r=>{if(!r)return"";const s=String(r).toLowerCase();return s==="f"||s==="female"?"Ms.":s==="m"||s==="male"?"Mr.":""},C=r=>{if(r?.displayName)return r.displayName;const s=S(r?.gender),n=r?.username||r?.name||"";return`${s?`${s} `:""}${n}`.trim()},A=t.memo(()=>e.jsxs("div",{className:"text-center space-y-3 sm:space-y-2 sm:text-left",children:[e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-14 sm:w-12 sm:h-12 rounded-2xl bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/40 dark:to-teal-900/40 border-2 border-emerald-300 dark:border-emerald-600 flex items-center justify-center shadow-lg",children:e.jsx(N,{className:"w-7 h-7 sm:w-6 sm:h-6 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{className:"flex-1 min-w-0 hidden sm:block",children:[e.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’š"})," Need Support?"]}),e.jsx("p",{className:"text-sm text-foreground/70",children:"Select someone to check in with you today"})]})]}),e.jsxs("div",{className:"sm:hidden",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground flex items-center justify-center gap-2",children:[e.jsx("span",{children:"ðŸ’š"})," Need Support?"]}),e.jsx("p",{className:"text-sm text-foreground/70 mt-2",children:"Select someone to check in with you today"})]})]})),U=t.memo(({internalSelection:r,onInternalChange:s,hasSelection:n,supportContacts:l,loading:i})=>e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r,onChange:m=>s(m.target.value),disabled:i||l.length===0,className:`w-full px-4 sm:px-4 py-4 sm:py-3.5 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800/50 dark:to-gray-900/50 border-2 rounded-2xl text-base sm:text-sm text-foreground appearance-none cursor-pointer transition-all duration-300 shadow-md ${n?"border-emerald-400 dark:border-emerald-600 bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 shadow-emerald-200 dark:shadow-emerald-900/50":"border-gray-300 dark:border-gray-600 hover:border-emerald-300 dark:hover:border-emerald-700 hover:shadow-lg"} focus:outline-none focus:border-emerald-500 dark:focus:border-emerald-500 focus:ring-2 focus:ring-emerald-300 dark:focus:ring-emerald-700 ${i||l.length===0?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:i?"â³ Loading...":l.length===0?"âŒ No contacts available":"ðŸ‘¥ Choose a team member..."}),l.map(m=>e.jsx("option",{value:m.value,children:m.displayValue},m.id))]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(y,{className:`w-5 h-5 sm:w-4 sm:h-4 transition-colors ${n?"text-emerald-600 dark:text-emerald-400":"text-foreground/50"}`})})]})),$=t.memo(({selectedPerson:r})=>e.jsx("div",{className:"p-5 sm:p-4 rounded-2xl bg-gradient-to-br from-emerald-100 via-teal-100 to-green-100 dark:from-emerald-900/40 dark:via-teal-900/40 dark:to-green-900/40 border-2 border-emerald-300 dark:border-emerald-600 shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-3 text-center sm:text-left",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 sm:w-12 sm:h-12 rounded-2xl bg-gradient-to-br from-emerald-200 to-teal-200 dark:from-emerald-700 dark:to-teal-700 flex items-center justify-center shadow-md border-2 border-emerald-400 dark:border-emerald-500",children:e.jsx("span",{className:"text-2xl sm:text-lg font-bold text-emerald-800 dark:text-emerald-100",children:r.avatar})}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2 sm:space-y-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 sm:w-4 sm:h-4 text-emerald-700 dark:text-emerald-300 flex-shrink-0"}),e.jsx("p",{className:"text-lg sm:text-base font-bold text-emerald-800 dark:text-emerald-200 truncate",children:r.displayValue||r.displayName||r.name})]}),e.jsxs("p",{className:"text-sm sm:text-xs text-emerald-700 dark:text-emerald-300 leading-relaxed",children:["âœ¨ We'll arrange for ",e.jsx("span",{className:"font-semibold",children:r.displayValue||r.displayName||r.name})," to connect with you today."]})]})]})})),E=t.memo(()=>e.jsx("div",{className:"p-5 sm:p-4 rounded-2xl bg-gradient-to-br from-green-100 via-emerald-100 to-teal-100 dark:from-green-900/40 dark:via-emerald-900/40 dark:to-teal-900/40 border-2 border-green-300 dark:border-green-600 shadow-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center text-center sm:text-left gap-4 sm:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-14 sm:w-10 sm:h-10 rounded-2xl bg-gradient-to-br from-green-200 to-emerald-200 dark:from-green-700 dark:to-emerald-700 flex items-center justify-center shadow-md border-2 border-green-400 dark:border-green-500",children:e.jsx(w,{className:"w-7 h-7 sm:w-5 sm:h-5 text-green-800 dark:text-green-100 flex-shrink-0"})}),e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-1",children:[e.jsxs("p",{className:"text-lg sm:text-base font-bold text-green-800 dark:text-green-200 flex items-center justify-center sm:justify-start gap-2",children:[e.jsx("span",{children:"ðŸŽ‰"})," Great! You're feeling supported"]}),e.jsx("p",{className:"text-sm sm:text-xs text-green-700 dark:text-green-300 leading-relaxed",children:"Remember, our team is always here when you need us."})]})]})})),V=t.memo(()=>e.jsx("div",{className:"p-5 sm:p-4 rounded-2xl bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-900/30 dark:via-indigo-900/30 dark:to-purple-900/30 border-2 border-blue-200 dark:border-blue-700 shadow-md",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start text-center sm:text-left gap-4 sm:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 sm:w-8 sm:h-8 rounded-2xl bg-gradient-to-br from-blue-200 to-indigo-200 dark:from-blue-700 dark:to-indigo-700 flex items-center justify-center mx-auto sm:mx-0 shadow-sm border-2 border-blue-300 dark:border-blue-600",children:e.jsx("span",{className:"text-2xl sm:text-base",children:"ðŸ’¬"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm sm:text-xs text-blue-800 dark:text-blue-200 leading-relaxed",children:[e.jsx("span",{className:"font-bold text-blue-900 dark:text-blue-100",children:"ðŸ’¡ Tip:"}),` Select a team member if you'd like someone to check in with you, or choose "No Need" if you're feeling well-supported today.`]})})]})})),D=t.memo(()=>e.jsxs("div",{className:"flex items-center justify-center gap-2.5 pt-3 sm:pt-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 sm:w-2 sm:h-2 rounded-full bg-emerald-500 dark:bg-emerald-400"}),e.jsx("p",{className:"text-sm sm:text-xs text-foreground/70 font-medium",children:"ðŸŒŸ Our support team is available today"})]})),M=t.memo(({supportContact:r,onSupportChange:s})=>{const n=j(),{contacts:l,loading:i}=p(a=>a.support),{isAuthenticated:m}=p(a=>a.auth),[d,x]=t.useState(r||"");t.useEffect(()=>{if(l.length===0&&m&&!i){const a=setTimeout(()=>{n(k())},100);return()=>clearTimeout(a)}},[n,l.length,m,i]);const c=t.useMemo(()=>(console.log("SupportSelector contacts:",l),l.length===0?[]:l.map(a=>{const o=C(a);return{...a,displayValue:o,value:o,avatar:a.avatar||o.charAt(0).toUpperCase()}})),[l]);t.useEffect(()=>{if(!r){x("");return}const a=c.find(o=>o.name===r||o.value===r);x(a?a.value:r)},[r,c]);const f=t.useMemo(()=>{const a=c.find(g=>g.value===d||g.name===d);if(a)return a;const o=d;return{name:d,displayValue:o,value:o,role:"Support Contact",department:"N/A",jobLevel:"N/A",unit:"N/A",jobPosition:"N/A",avatar:d?d.charAt(0).toUpperCase():"?"}},[d,c]),u=d==="No Need",h=!!d,b=a=>{x(a),s&&s(a)};return e.jsxs("div",{className:"bg-gradient-to-br from-white via-gray-50 to-blue-50 dark:from-gray-800/50 dark:via-gray-800/30 dark:to-blue-900/20 border-2 border-gray-200 dark:border-gray-700 rounded-3xl p-6 sm:p-5 space-y-5 sm:space-y-4 shadow-xl",children:[e.jsx(A,{}),e.jsx(U,{internalSelection:d,onInternalChange:b,hasSelection:h,supportContacts:c,loading:i}),h&&!u&&f&&f.id!=="no-need"&&e.jsx($,{selectedPerson:f}),u&&e.jsx(E,{}),!h&&e.jsx(V,{}),e.jsx(D,{})]})});M.displayName="SupportSelector";export{M as default};
