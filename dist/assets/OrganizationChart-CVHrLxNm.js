import{r as x,j as e,m as c,U as f,ap as j}from"./index-BOBGiIRK.js";import{B as g}from"./building-Deadh5vT.js";import{C as o}from"./crown-BD9VdpK2.js";import{G as p}from"./graduation-cap-B_f6DmCX.js";import{U as N}from"./users-Z1FAQkye.js";const u=x.memo(({organizationStructure:d,users:i})=>{const l=x.useMemo(()=>{if(!d?.stats)return null;const{stats:a}=d,s={},n=i?.filter(r=>r.role==="directorate")||[];return["Directorate","Elementary","Junior High","Kindergarten","Operational","MAD Lab","Finance","Pelangi"].forEach(r=>{const m=i?.filter(t=>t.role==="head_unit"&&t.department===r)||[];s[r]={name:r,directorate:n.filter(t=>t.department===r),headUnit:m,headUnitName:m.length>0?m[0].name:null,teachers:i?.filter(t=>(t.role==="teacher"||t.role==="se_teacher")&&t.department===r)||[],staff:i?.filter(t=>t.role==="staff"&&t.department===r)||[],supportStaff:i?.filter(t=>t.role==="support_staff"&&t.department===r)||[],students:i?.filter(t=>t.role==="student"&&t.department===r)||[]}}),{departments:s,directorateMembers:n,totalUsers:i?.length||0}},[d,i]),h=x.memo(({department:a,data:s})=>{const n=s.directorate.length+s.headUnit.length+s.teachers.length+s.staff.length+s.supportStaff.length;return e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass glass-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"w-5 h-5 mr-2 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:a})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[n," members"]})]}),e.jsxs("div",{className:"space-y-3",children:[s.directorate.length>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gold/10 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-4 h-4 mr-2 text-gold"}),e.jsx("span",{className:"text-sm font-medium",children:"Directorate"})]}),e.jsx("span",{className:"text-sm",children:s.directorate.length})]}),s.headUnit.length>0&&e.jsxs("div",{className:"p-3 bg-purple/10 rounded",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-2 text-purple"}),e.jsx("span",{className:"text-sm font-medium",children:"Head Unit"})]}),e.jsx("span",{className:"text-sm",children:s.headUnit.length})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Head:"})," ",s.headUnitName]})]}),s.teachers.length>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue/10 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2 text-blue"}),e.jsx("span",{className:"text-sm font-medium",children:"Teachers"})]}),e.jsx("span",{className:"text-sm",children:s.teachers.length})]}),s.staff.length>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green/10 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"w-4 h-4 mr-2 text-green"}),e.jsx("span",{className:"text-sm font-medium",children:"Staff"})]}),e.jsx("span",{className:"text-sm",children:s.staff.length})]}),s.supportStaff.length>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange/10 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"w-4 h-4 mr-2 text-orange"}),e.jsx("span",{className:"text-sm font-medium",children:"Support Staff"})]}),e.jsx("span",{className:"text-sm",children:s.supportStaff.length})]}),s.students.length>0&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray/10 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-2 text-gray"}),e.jsx("span",{className:"text-sm font-medium",children:"Students"})]}),e.jsx("span",{className:"text-sm",children:s.students.length})]})]})]})});return h.displayName="DepartmentCard",l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass glass-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-6 h-6 mr-3 text-gold"}),e.jsx("h2",{className:"text-xl font-bold",children:"Directorate Overview"})]}),e.jsxs("span",{className:"text-lg font-semibold text-gold",children:[l.directorateMembers.length," Members"]})]}),l.directorateMembers.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.directorateMembers.map((a,s)=>e.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:s*.1},className:"p-4 bg-gradient-to-r from-gold/10 to-gold/5 rounded-lg border border-gold/20",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(o,{className:"w-4 h-4 mr-2 text-gold"}),e.jsx("span",{className:"font-semibold text-foreground",children:a.name})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.jobPosition}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.department})]},a.id))}):e.jsx("p",{className:"text-muted-foreground",children:"No directorate members found"})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[e.jsx(g,{className:"w-6 h-6 mr-3 text-primary"}),"Department Structure"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(l.departments).map(([a,s],n)=>e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+n*.1},children:e.jsx(h,{department:a,data:s})},a))})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"glass glass-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Organization Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gold",children:l.directorateMembers.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Directorate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue",children:Object.values(l.departments).reduce((a,s)=>a+s.teachers.length,0)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Teachers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green",children:Object.values(l.departments).reduce((a,s)=>a+s.staff.length,0)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Staff"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:l.totalUsers}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]})]})]})]}):e.jsx("div",{className:"glass glass-card p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-muted/30 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-muted/20 rounded w-1/2"})]})})});u.displayName="OrganizationChart";export{u as default};
