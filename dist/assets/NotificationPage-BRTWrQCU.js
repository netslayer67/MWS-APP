import{c as p,r as c,W as f,F as k,b as N,j as e,H as v,L as h,m,A as y,R as w,X as C}from"./index-zefzTZ5i.js";import{B as o}from"./button-DfqIb62V.js";import{C as M,a as A}from"./card-DG0Wpfa9.js";import{A as z}from"./AnimatedPage-DGD4kKvc.js";import{E as R}from"./EmptyState-B9PUXvPX.js";import{S}from"./star-IWW7ryB_.js";import{M as E}from"./index-vwPoTbpB.js";import{A as T}from"./arrow-left-C-szwS9B.js";import{C as b}from"./check-FqaHjDsg.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],j=p("bell-ring",B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_=p("settings",P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],I=p("trash-2",H),$=[{id:1,icon:f,title:"Pembayaran berhasil",text:"Rp 150.000 dari Budi",time:"1 jam lalu",read:!1},{id:2,icon:S,title:"Rating baru",text:"Budi memberi Anda â˜…â˜…â˜…â˜…â˜…",time:"2 jam lalu",read:!1},{id:3,icon:k,title:"Promo spesial",text:"Diskon 20% pakai kode HEMAT",time:"1 hari lalu",read:!0},{id:4,icon:f,title:"Penarikan diproses",text:"Rp 200.000 sedang diproses",time:"2 hari lalu",read:!0}],g=(i="")=>String(i).replace(/<[^>]*>/g,"").replace(/https?:\/\/[^\s]+/gi,"").trim(),L=.32,D={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.04}}},O=i=>({hidden:{opacity:0,y:i?0:8},enter:{opacity:1,y:0,transition:{duration:L,ease:"easeOut"}},exit:{opacity:0,x:-60,transition:{duration:.28}}}),V=w.memo(function({n:a,onMarkRead:d,onDismiss:l,reduceMotion:x}){const u=a.icon||j,r=!!a.read;return e.jsx(m.div,{layout:!0,variants:O(x),initial:"hidden",animate:"enter",exit:"exit",className:"relative",children:e.jsx(m.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.12,onDragEnd:(t,n)=>{const s=n.offset.x;s>120?d(a.id):s<-120&&l(a.id)},children:e.jsx(M,{role:"article","aria-live":r?"polite":"assertive",className:`rounded-2xl border border-border/40 bg-card/60 backdrop-blur-xl transition-all duration-350 ease-[cubic-bezier(.2,.9,.2,1)]
            ${r?"opacity-90 hover:opacity-95":"ring-1 ring-primary/20 shadow-sm hover:shadow-md"}
          `,children:e.jsxs(A,{className:"flex items-start gap-3 p-3 sm:p-4",children:[e.jsx("div",{"aria-hidden":!0,className:`flex h-9 w-9 sm:h-10 sm:w-10 shrink-0 items-center justify-center rounded-full transition-colors duration-350
                ${r?"bg-secondary/20 text-muted-foreground":"bg-accent/10 text-accent"}
              `,children:e.jsx(u,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"truncate text-sm font-medium text-foreground",children:g(a.title)}),e.jsx("p",{className:"mt-0.5 sm:mt-1 truncate text-xs text-muted-foreground",children:g(a.text)})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("time",{className:"text-[10px] sm:text-[11px] text-muted-foreground","aria-hidden":!0,children:a.time}),!r&&e.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-accent ring-2 ring-card/40","aria-hidden":!0})]})]}),e.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:r?e.jsxs(o,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs rounded-full transition-colors duration-320 hover:text-destructive",onClick:()=>l(a.id),"aria-label":`Hapus notifikasi ${a.title}`,children:[e.jsx(C,{className:"mr-1 h-3.5 w-3.5"})," Hapus"]}):e.jsxs(o,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs rounded-full transition-colors duration-320 hover:bg-accent hover:text-accent-foreground",onClick:()=>d(a.id),"aria-label":`Tandai notifikasi ${a.title} sebagai dibaca`,children:[e.jsx(b,{className:"mr-1 h-3.5 w-3.5"})," Dibaca"]})})]})]})})})})});function Y(){const[i,a]=c.useState($),d=N(),l=c.useCallback(t=>{a(n=>n.filter(s=>s.id!==t))},[]),x=c.useCallback(t=>{a(n=>n.map(s=>s.id===t?{...s,read:!0}:s))},[]),u=c.useCallback(()=>{a(t=>t.map(n=>({...n,read:!0})))},[]),r=c.useCallback(()=>{i.length===0||!window.confirm("Hapus semua notifikasi? Tindakan ini tidak bisa dibatalkan.")||a([])},[i.length]);return c.useMemo(()=>i.filter(t=>!t.read).length,[i]),e.jsxs(z,{children:[e.jsx(v,{children:e.jsx("title",{children:"Notifikasi â€” Kerjain"})}),e.jsx(E,{reducedMotion:"user",children:e.jsxs("div",{className:"relative mx-auto max-w-lg px-3 sm:px-4 pb-16 pt-4 sm:pt-6",children:[e.jsxs("header",{className:"relative z-10 mb-4 sm:mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(h,{to:-1,"aria-label":"Kembali",children:e.jsx(o,{variant:"ghost",size:"icon",className:"rounded-full bg-card/30 backdrop-blur-md hover:bg-card/50 transition-colors duration-300",children:e.jsx(T,{className:"h-5 w-5 text-foreground"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Notifikasi"}),e.jsx("p",{className:"text-[11px] sm:text-xs text-muted-foreground",children:"Geser kartu untuk aksi cepat"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"ghost",size:"sm",className:"hidden sm:inline-flex items-center gap-1.5 rounded-full px-2 py-1 transition-colors duration-320 hover:bg-accent/10 hover:text-accent",onClick:u,"aria-label":"Tandai semua notifikasi sebagai dibaca",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Semua"})]}),e.jsx(h,{to:"/notifications/settings","aria-label":"Pengaturan notifikasi",children:e.jsx(o,{variant:"ghost",size:"icon",className:"rounded-full bg-card/30 backdrop-blur-md hover:bg-card/50 transition-colors duration-300",children:e.jsx(_,{className:"h-4 w-4 text-foreground"})})}),e.jsx(o,{variant:"ghost",size:"icon",className:"rounded-full bg-card/30 backdrop-blur-md hover:bg-card/50 transition-colors duration-300",onClick:r,"aria-label":"Bersihkan semua notifikasi",children:e.jsx(I,{className:"h-4 w-4 text-foreground"})})]})]}),e.jsx(m.section,{initial:"hidden",animate:"show",variants:D,className:"space-y-2 sm:space-y-3",children:e.jsx(y,{children:i.length>0?i.map(t=>e.jsx(V,{n:t,onMarkRead:x,onDismiss:l,reduceMotion:d},t.id)):e.jsx(m.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"mt-8",children:e.jsx(R,{icon:e.jsx(j,{className:"h-6 w-6"}),title:"Semua notifikasi sudah dibersihkan ðŸŽ‰",subtitle:"Tidak ada notifikasi terbaru.",action:e.jsx(h,{to:"/client/dashboard",children:e.jsx(o,{size:"sm",className:"rounded-full bg-primary px-3 sm:px-4 py-1.5 sm:py-2 text-primary-foreground hover:bg-primary/90 transition-colors duration-300",children:"Beranda"})})})},"empty")})})]})})]})}export{Y as default};
