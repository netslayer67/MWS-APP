import{c as l,j as e,A as H,m as h,X as K,W as v,L as k,r as i,a as F,b as O,R as W}from"./index-Cu1z75_R.js";import{K as q}from"./KYCStatusBanner-DF8TxPXP.js";import{E as J}from"./EmptyState-DRB4Aiso.js";import{B as g}from"./button-DWxbJQgD.js";import{A as w}from"./arrow-up-right-CBDfsWFo.js";import{A as Q}from"./arrow-left-D-aKEELJ.js";import{P as G}from"./plus-ANukP0Mv.js";import{S as X}from"./shuffle-DEWbyfWb.js";import"./shield-check-bc1bwhAc.js";import"./info-BQEjcWJ6.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],S=l("arrow-down-left",Y);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],T=l("download",Z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],te=l("link-2",ee);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ae=l("receipt",se);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],ne=l("scan-line",re);function ie({open:t,onOpenChange:r,tx:s={}}){const n=s?.type==="in",b=s?.method||"wallet",f=le(s?.amount||0);return e.jsx(H,{children:t&&e.jsxs(h.div,{className:"fixed inset-0 z-[85] flex items-end sm:items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>r?.(!1)}),e.jsxs(h.div,{initial:{y:24,opacity:0},animate:{y:0,opacity:1},exit:{y:24,opacity:0},transition:{duration:.28,ease:"easeOut"},className:"relative z-[86] w-full max-w-md rounded-t-2xl sm:rounded-2xl border border-border/60 bg-card/95 backdrop-blur-xl p-4 sm:p-5 shadow-xl",children:[e.jsx("button",{onClick:()=>r?.(!1),className:"absolute right-3 top-3 rounded-full p-1 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Tutup",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-start gap-3 pr-8",children:[e.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-xl ${n?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-rose-400"}`,"aria-hidden":!0,children:n?e.jsx(S,{className:"h-5 w-5"}):e.jsx(w,{className:"h-5 w-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-base font-semibold text-foreground",children:N(s?.title)}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:new Date(s?.date||Date.now()).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"})})]})]}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[e.jsx(c,{label:"Nominal",children:e.jsxs("span",{className:`font-semibold ${n?"text-emerald-400":"text-rose-400"}`,children:[n?"+":"-"," ",f]})}),e.jsx(c,{label:"Metode",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md border px-2 py-0.5 text-[11px]",children:[e.jsx(v,{className:"h-3.5 w-3.5"})," ",b==="cash"?"Tunai":"Wallet"]})}),e.jsx(c,{label:"ID Transaksi",children:e.jsx("code",{className:"text-xs text-muted-foreground",children:String(s?.id??"-")})}),s?.jobId?e.jsx(c,{label:"Terkait Pekerjaan",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs",children:[e.jsx(te,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["JOB-",N(String(s.jobId))]})]})}):null]}),e.jsxs("div",{className:"mt-5 grid gap-2 sm:grid-cols-2",children:[s?.jobId?e.jsx(k,{to:`/job/${s.jobId}/track`,onClick:()=>r?.(!1),children:e.jsx(g,{className:"w-full rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 transition-colors duration-320",children:"Lihat Pekerjaan"})}):null,e.jsx(g,{variant:"outline",onClick:()=>r?.(!1),className:"w-full rounded-xl hover:border-accent hover:text-accent transition-colors duration-320",children:"Tutup"})]}),e.jsx("p",{className:"mt-3 text-[11px] text-muted-foreground",children:"Catatan: Simpan bukti pembayaran. Hubungi support jika terjadi perbedaan data."})]})]})})}function c({label:t,children:r}){return e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t}),e.jsx("div",{className:"text-right",children:r})]})}function N(t=""){return String(t).replace(/<[^>]*>/g,"").replace(/https?:\/\/[^\s]+/gi,"").trim().slice(0,160)}function le(t=0){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(t)}catch{return`Rp ${Number(t||0).toLocaleString("id-ID")}`}}const D=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(t),p=[{id:1,type:"in",title:"Pembayaran Budi",amount:15e4,date:"2025-08-30"},{id:2,type:"out",title:"Biaya Platform",amount:16500,date:"2025-08-30"}],M=320;function ke(){const[t,r]=i.useState("semua"),[s,n]=i.useState(!0),[b,f]=i.useState("wallet"),[C,I]=i.useState("L1"),{toast:L}=F(),R=O(),[$,j]=i.useState(!1),[P,A]=i.useState(null);i.useEffect(()=>{const a=setTimeout(()=>n(!1),700);return()=>clearTimeout(a)},[]);const _=i.useMemo(()=>583500,[]),d=i.useMemo(()=>t==="masuk"?p.filter(a=>a.type==="in"):t==="keluar"?p.filter(a=>a.type==="out"):p,[t]),o=a=>L({title:a,duration:1800}),B=i.useCallback(()=>o("Top Up berhasil (dummy)"),[]),U=i.useCallback(()=>o("Tarik Dana berhasil (dummy)"),[]),z=()=>{const a=`Judul,Nominal,Tanggal
`,m=d.map(u=>`${u.title},${u.amount},${u.date}`).join(`
`),E=new Blob([a+m],{type:"text/csv"}),y=URL.createObjectURL(E),x=document.createElement("a");x.href=y,x.download="riwayat_transaksi.csv",x.click(),URL.revokeObjectURL(y),o("Download CSV dummy")},V=R?{}:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:M/1e3,ease:"easeOut"}};return e.jsxs("div",{className:"relative min-h-screen text-foreground",children:[e.jsxs("div",{className:"relative mx-auto max-w-lg px-4 pb-24 pt-6",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(k,{to:-1,className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-card/40 backdrop-blur-xl ring-1 ring-border text-muted-foreground hover:text-accent transition-colors duration-300","aria-label":"Kembali",children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-accent"}),e.jsx("h1",{className:"text-base font-semibold",children:"Dompet"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx(q,{tier:C,onVerify:()=>I("L2")})}),e.jsx("div",{className:"mb-3 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-xl p-3 text-xs",children:"Bank Dummy: BCA 123456789 a/n Nama Pengguna"}),e.jsx(h.div,{...V,children:e.jsx(ce,{isLoading:s,balance:_,onTopUp:B,onWithdraw:U})}),e.jsx("div",{className:"mt-4",children:e.jsx(de,{handleToast:o})}),e.jsxs("div",{className:"mt-5 space-y-3",children:[e.jsx("div",{className:"inline-flex w-full justify-center rounded-xl bg-card/40 backdrop-blur-xl p-1 ring-1 ring-border transition-colors duration-300",children:[{key:"semua",label:"Semua"},{key:"masuk",label:"Masuk"},{key:"keluar",label:"Keluar"}].map(a=>e.jsx("button",{onClick:()=>r(a.key),className:`flex-1 rounded-lg px-3 py-1.5 text-xs font-medium transition-all duration-300 ${t===a.key?"bg-accent text-accent-foreground shadow":"text-muted-foreground hover:text-foreground hover:bg-card/50"}`,"aria-pressed":t===a.key,children:a.label},a.key))}),e.jsxs(oe,{children:[e.jsxs("div",{className:"flex items-center justify-between pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 text-accent"}),e.jsx("h2",{className:"text-sm font-semibold",children:"Riwayat"})]}),e.jsx("button",{onClick:z,className:"rounded-lg px-2 py-1 text-xs text-muted-foreground hover:text-accent transition-colors duration-300",children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"divide-y divide-border",children:s?Array.from({length:3}).map((a,m)=>e.jsx(xe,{},m)):d.length===0?e.jsx("div",{className:"py-4",children:e.jsx(J,{title:"Belum ada transaksi",subtitle:"Transaksi akan muncul di sini."})}):d.map(a=>e.jsx(me,{tx:a,onClick:()=>{A(a),j(!0)}},a.id))})]})]})]}),e.jsx(ie,{open:$,onOpenChange:j,tx:P||void 0})]})}function oe({children:t}){return e.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/40 backdrop-blur-xl p-4 shadow-sm transition-all duration-300 hover:border-accent/50",children:t})}function ce({isLoading:t,balance:r,onTopUp:s,onWithdraw:n}){return e.jsx("div",{className:"overflow-hidden rounded-2xl border border-border/60 bg-gradient-to-br from-primary/90 to-primary backdrop-blur-xl p-4 text-primary-foreground shadow-md",style:{transition:`all ${M}ms ease-out`},children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase tracking-wide opacity-80",children:"Saldo"}),t?e.jsx("div",{className:"mt-1 h-6 w-28 animate-pulse rounded bg-primary-foreground/30"}):e.jsxs("div",{className:"mt-1 flex items-end gap-1",children:[e.jsx("h2",{className:"text-xl font-bold",children:D(r)}),e.jsx("span",{className:"mb-0.5 text-[10px] opacity-90",children:"tersedia"})]})]}),e.jsxs("div",{className:"flex w-full flex-col gap-1 sm:w-auto sm:flex-row",children:[e.jsxs("button",{onClick:s,className:"inline-flex items-center justify-center gap-1 rounded-xl bg-secondary px-3 py-1.5 text-xs font-semibold text-secondary-foreground shadow-sm hover:bg-accent hover:text-accent-foreground transition-all duration-300",children:[e.jsx(G,{className:"h-3 w-3"})," Top Up"]}),e.jsxs("button",{onClick:n,className:"inline-flex items-center justify-center gap-1 rounded-xl px-3 py-1.5 text-xs font-semibold text-primary-foreground ring-1 ring-inset ring-primary-foreground/40 hover:bg-accent hover:text-accent-foreground transition-all duration-300",children:[e.jsx(T,{className:"h-3 w-3"})," Tarik"]})]})]})})}function de({handleToast:t}){const r=[{icon:e.jsx(X,{className:"h-4 w-4"}),title:"Transfer",desc:"Kirim cepat",onClick:()=>t("Transfer")},{icon:e.jsx(ne,{className:"h-4 w-4"}),title:"Scan & Pay",desc:"Bayar QR",onClick:()=>t("Scan & Pay")}];return e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:r.map((s,n)=>e.jsxs("button",{onClick:s.onClick,className:"group flex items-center gap-3 rounded-2xl border border-border/60 bg-card/40 backdrop-blur-xl p-3 text-left transition-all duration-300 hover:border-accent/50","aria-label":s.title,children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-secondary/30 text-secondary-foreground",children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs font-semibold",children:s.title}),e.jsx("span",{className:"opacity-0 transition-opacity group-hover:opacity-100 text-accent",children:"→"})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:s.desc})]})]},n))})}const me=W.memo(function({tx:r,onClick:s}){const n=r.type==="in";return e.jsxs("button",{type:"button",onClick:s,className:"w-full text-left cursor-pointer flex items-center justify-between gap-2 py-3 transition-colors hover:bg-card/30 rounded-xl px-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-xl ${n?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-rose-400"}`,children:n?e.jsx(S,{className:"h-4 w-4"}):e.jsx(w,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium",children:r.title}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:new Date(r.date).toLocaleDateString("id-ID")})]})]}),e.jsxs("p",{className:`text-xs font-semibold ${n?"text-emerald-400":"text-rose-400"}`,children:[n?"+":"-"," ",D(r.amount)]})]})});function xe(){return e.jsxs("div",{className:"flex items-center justify-between gap-2 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-9 w-9 rounded-xl bg-muted animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-0.5 h-2 w-24 animate-pulse rounded bg-muted"}),e.jsx("div",{className:"h-2 w-16 animate-pulse rounded bg-muted/70"})]})]}),e.jsx("div",{className:"h-3 w-16 animate-pulse rounded bg-muted"})]})}export{ke as default};
