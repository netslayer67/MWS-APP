import{r as j,j as e}from"./index-By89xKr2.js";import{T as m}from"./EmotionalCheckinDashboard-CyLoJUZ-.js";import{C as x}from"./circle-check-big-6bGET3q7.js";import{C as b}from"./chart-column-D5JEwPks.js";import{T as N}from"./trending-up-zM5cQDrC.js";import{C as v}from"./clock-Lwcydpfn.js";import"./funnel-9gagQDpy.js";import"./users-DVOWKIDY.js";import"./building-XOT6oT02.js";const w=j.memo(({data:l={},period:y="week"})=>{const r=j.useMemo(()=>{if(!l?.recentActivity||l.recentActivity.length===0)return null;const s=l.recentActivity,a=s.length,o={},p={},d={total:0,supported:0};s.forEach(t=>{t.selectedMoods?.forEach(f=>{o[f]=(o[f]||0)+1});const i=t.weatherType;p[i]=(p[i]||0)+1,d.total++,t.needsSupport&&d.supported++});const n=d.total>0?d.supported/d.total*100:0,c=Object.entries(o).sort(([,t],[,i])=>i-t).slice(0,3).map(([t,i])=>({mood:t,count:i,percentage:Math.round(i/a*100)})),u=Object.entries(p).sort(([,t],[,i])=>i-t).slice(0,2).map(([t,i])=>({weather:t,count:i,percentage:Math.round(i/a*100)})),h=[];n>20&&h.push({type:"high",title:"High Support Need",message:`${n.toFixed(1)}% of users indicated they need support. Consider proactive outreach.`,icon:m,color:"text-red-500"}),c.some(t=>["sad","anxious","overwhelmed"].includes(t.mood))&&h.push({type:"medium",title:"Emotional Well-being Concerns",message:"Negative mood patterns detected. Monitor closely and consider additional support resources.",icon:m,color:"text-yellow-500"});const g=[];return n<10&&g.push({title:"Strong Team Resilience",message:"Low support requests indicate good overall team well-being.",icon:x,color:"text-green-500"}),c.some(t=>["happy","excited","calm"].includes(t.mood))&&g.push({title:"Positive Team Dynamics",message:"Strong presence of positive moods suggests healthy team environment.",icon:x,color:"text-green-500"}),{topMoods:c,topWeather:u,supportRate:n,riskFactors:h,positiveIndicators:g,totalActivities:a,predictions:{nextWeekMood:c[0]?.mood||"stable",nextWeekWeather:u[0]?.weather||"mixed",supportTrend:n>15?"increasing":"stable"}}},[l]);return r?e.jsxs("div",{className:"glass glass-card transition-all duration-300",children:[e.jsx("div",{className:"glass__refract"}),e.jsx("div",{className:"glass__noise"}),e.jsxs("div",{className:"relative z-10 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-4 h-4 text-primary"}),e.jsx("h2",{className:"text-base md:text-lg font-semibold text-foreground",children:"Predictive Analytics & Insights"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"glass glass-card p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Next Week Mood"})]}),e.jsx("p",{className:"text-lg font-bold text-foreground capitalize",children:r.predictions.nextWeekMood}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on current trends"})]}),e.jsxs("div",{className:"glass glass-card p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Weather Pattern"})]}),e.jsx("p",{className:"text-lg font-bold text-foreground capitalize",children:r.predictions.nextWeekWeather}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Predicted dominant weather"})]}),e.jsxs("div",{className:"glass glass-card p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(m,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Support Trend"})]}),e.jsx("p",{className:"text-lg font-bold text-foreground capitalize",children:r.predictions.supportTrend}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.supportRate.toFixed(1),"% need support"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-red-500"}),"Risk Factors"]}),e.jsx("div",{className:"space-y-3",children:r.riskFactors.length>0?r.riskFactors.map((s,a)=>{const o=s.icon;return e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:`w-4 h-4 mt-0.5 ${s.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.message})]})]})},a)}):e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-500"}),e.jsx("p",{className:"text-sm text-green-700",children:"No significant risk factors detected"})]})})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-green-500"}),"Positive Indicators"]}),e.jsx("div",{className:"space-y-3",children:r.positiveIndicators.length>0?r.positiveIndicators.map((s,a)=>{const o=s.icon;return e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:`w-4 h-4 mt-0.5 ${s.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.message})]})]})},a)}):e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-yellow-500"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Monitoring for positive indicators"})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Predicted Mood Distribution"}),e.jsx("div",{className:"space-y-2",children:r.topMoods.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-card/20 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-foreground capitalize",children:s.mood}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-muted/30 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${s.percentage}%`}})}),e.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[s.percentage,"%"]})]})]},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Predicted Weather Patterns"}),e.jsx("div",{className:"space-y-2",children:r.topWeather.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-card/20 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-foreground capitalize",children:s.weather}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-muted/30 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-secondary transition-all duration-500 ease-out",style:{width:`${s.percentage}%`}})}),e.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[s.percentage,"%"]})]})]},a))})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Recommendations"}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[r.supportRate>15&&e.jsx("li",{children:"• Consider scheduling team wellness check-ins for next week"}),r.topMoods.some(s=>["sad","anxious"].includes(s.mood))&&e.jsx("li",{children:"• Prepare additional mental health resources and support channels"}),r.topMoods.some(s=>["happy","excited"].includes(s.mood))&&e.jsx("li",{children:"• Leverage positive momentum to maintain team engagement"}),e.jsx("li",{children:"• Monitor weather patterns as they correlate with team well-being"}),e.jsx("li",{children:"• Continue tracking these metrics for more accurate predictions"})]})]})]})]}):e.jsxs("div",{className:"glass glass-card p-6 text-center",children:[e.jsx(b,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Insufficient data for predictive analysis"})]})});w.displayName="PredictiveAnalytics";export{w as default};
