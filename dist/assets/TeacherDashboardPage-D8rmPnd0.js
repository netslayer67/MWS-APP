const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardOverview-B6C3_lk9.js","assets/index-C2UXQ8jH.js","assets/index-DsfoYZKM.css","assets/StudentsTable-CvPrdVIu.js","assets/CategoricalChart-CP4MDiLD.js","assets/LineChart-e1YCWVH8.js","assets/ActivePoints-C6TYAKSc.js","assets/ErrorBarContext-Xice-nK7.js","assets/CartesianChart-C7hZ_1gU.js","assets/StudentsPanel-uJCHzEvt.js","assets/funnel-DRPBury1.js","assets/search-B6bavH_W.js","assets/InterventionFormPanel-BX2FVoBl.js","assets/StatusPills-GbhvPgSH.js","assets/users-round-DCUniJlR.js","assets/mtssService-BJ4S8av5.js","assets/teacherDashboardUtils-DNFyBDUf.js","assets/shield-check-CoGuFscD.js","assets/arrow-right-BNH1ZL2t.js","assets/ProgressFormPanel-DeLxKFGR.js"])))=>i.map(i=>d[i]);
import{c as T,e as A,B as F,r as s,j as e,x as L,m as I,L as $,_ as S}from"./index-C2UXQ8jH.js";import{P as N,T as w}from"./StatusPills-GbhvPgSH.js";import{C as H,U as R}from"./users-round-DCUniJlR.js";import{f as z}from"./mtssService-BJ4S8av5.js";import{g as O,b as _,m as U}from"./teacherDashboardUtils-DNFyBDUf.js";import{A as V}from"./arrow-right-BNH1ZL2t.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],B=T("circle-plus",q);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],Q=T("file-check-2",G),C=[{key:"dashboard",label:"Dashboard",icon:H},{key:"students",label:"My Students",icon:R},{key:"create",label:"Create Intervention",icon:B},{key:"submit",label:"Submit Progress",icon:Q}],y={base:"px-4 py-3 rounded-2xl bg-white/80 dark:bg-white/10 border border-primary/20 text-sm text-foreground dark:text-white placeholder:text-muted-foreground/70 dark:placeholder:text-white/50 focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-transparent transition-all"};y.textarea=`${y.base} min-h-[80px]`;y.notes=`${y.base} min-h-[120px]`;const W=()=>({studentName:"",grade:"",type:"",tier:"Tier 2",goal:"",strategy:"",startDate:"",duration:"",monitorFrequency:"",monitorMethod:"",baseline:"",target:""}),Y=()=>({studentName:"",date:"",performed:"yes",score:"",notes:""}),J=t=>{const{toast:a}=A(),r=F(),[c,l]=s.useState("dashboard"),[m,d]=s.useState(()=>W()),[u,v]=s.useState(()=>Y());s.useEffect(()=>{const i=new URLSearchParams(r.search).get("tab");i&&t.some(o=>o.key===i)&&l(i)},[r.search,t]);const g=s.useCallback((n,i)=>{d(o=>({...o,[n]:i}))},[]),b=s.useCallback((n,i)=>{v(o=>({...o,[n]:i}))},[]),p=s.useCallback(n=>{n.preventDefault(),a({title:"Intervention saved",description:"Student plan locked in-keep tracking their joyful progress."})},[a]),x=s.useCallback(n=>{n.preventDefault(),a({title:"Progress submitted",description:"Your monitoring update is live on the MTSS dashboard."})},[a]);return{activeTab:c,setActiveTab:l,interventionForm:m,progressForm:u,handleInterventionChange:g,handleProgressChange:b,handleSavePlan:p,handleSubmitProgress:x}},K={male:"Mr.",female:"Ms."},X=t=>K[t?.toLowerCase?.()]||"",Z=t=>{const a=["Hey %NAME%, let's light up today's boosts.","Morning %NAME%, ready to spark joyful wins?","%NAME%, today's plan is setâ€”let's uplift every student.","Cheers %NAME%, another day to glow-up kids' progress.","Let's dive in %NAME%, the boost studio is humming."],r=new Date,c=(r.getDate()+r.getMonth())%a.length;return a[c].replace("%NAME%",t)},ee=t=>{const a=t?.username||t?.name||"MTSS Mentor",r=X(t?.gender),c=r?`${r} ${a}`:a;return{teacher:c,school:t?.jobPosition||t?.unit||"Millennia21 Schools",tierFocus:"Personalized supports",greeting:Z(c)}},se=()=>{const t=s.useMemo(()=>O(),[]),a=s.useMemo(()=>ee(t),[t]),[r,c]=s.useState(()=>_()),[l,m]=s.useState([]),[d,u]=s.useState([]),[v,g]=s.useState(a),[b,p]=s.useState(!0),[x,n]=s.useState(null),i=s.useCallback(async o=>{p(!0),n(null);try{const{assignments:h=[]}=await z({},o?{signal:o}:{}),f=_(h),{students:j,spotlightChart:D,focusLabel:E}=U(h,a.teacher);c(f),m(j),u(D),g(k=>({...k,...a,tierFocus:E||k.tierFocus||"Tiered Supports"}))}catch(h){h?.name!=="CanceledError"&&h?.name!=="AbortError"&&n(h?.response?.data?.message||h?.message||"Failed to load MTSS data")}finally{p(!1)}},[a]);return s.useEffect(()=>{const o=new AbortController;return i(o.signal),()=>o.abort()},[i]),{statCards:r,students:l,progressData:d.length?d:[{label:"Start",date:"Start",reading:0,goal:100,value:0}],heroBadge:v,loading:b,error:x,refresh:()=>i()}},P=({heroBadge:t,tabs:a,activeTab:r,onTabChange:c})=>e.jsxs("div",{className:"glass glass-strong overflow-hidden mtss-liquid relative",children:[e.jsx("div",{className:"absolute inset-0 mtss-hero-gradient opacity-95 dark:opacity-80 pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 mtss-hero-aurora pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 mtss-hero-pulse pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 mtss-hero-orbit pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 mtss-hero-shine pointer-events-none"}),e.jsx("div",{className:"glass__noise"}),e.jsxs("div",{className:"relative mtss-hero-panel p-5 sm:p-8 text-foreground dark:text-white",children:[e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"mtss-hero-badge mb-1 flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-sky-300 drop-shadow"}),"MTSS Studio"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-semibold",children:[e.jsx("span",{className:"mtss-rainbow-chip px-3 py-1 tracking-[0.35em] uppercase",children:t.school}),e.jsxs("span",{className:"mtss-rainbow-chip mtss-rainbow-chip--soft px-3 py-1",children:["Focus: ",t.tierFocus]})]}),e.jsx("h1",{className:"text-2xl sm:text-4xl font-black leading-tight",children:e.jsx("span",{className:"mtss-gradient-text mtss-heading-rainbow",children:t.greeting||`Hey ${t.teacher}, let's light up today's boosts.`})}),e.jsx("p",{className:"mtss-ink-soft dark:text-white/80 mt-2 leading-relaxed text-sm sm:text-base",children:"Quick wins, bright notes, and speedy nudges- all in one playful dashboard."})]})}),e.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 items-stretch",children:a.map(l=>{const m=l.icon,d=r===l.key;return e.jsxs("button",{onClick:()=>c(l.key),className:`mtss-tab ${d?"mtss-tab--active":"mtss-tab--inactive"}`,"aria-pressed":d,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`mtss-tab__icon ${d?"mtss-tab__icon--active":""}`,children:e.jsx(m,{className:"w-4 h-4"})}),l.label]}),e.jsx(V,{className:`w-4 h-4 transition-transform ${d?"translate-x-1":""}`})]},l.key)})})]})]});P.displayName="TeacherHeroSection";const te=s.memo(P),ae=s.lazy(()=>S(()=>import("./DashboardOverview-B6C3_lk9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),re=s.lazy(()=>S(()=>import("./StudentsPanel-uJCHzEvt.js"),__vite__mapDeps([9,1,2,3,10,11]))),oe=s.lazy(()=>S(()=>import("./InterventionFormPanel-BX2FVoBl.js"),__vite__mapDeps([12,1,2,13,14,15,16,17,18]))),ne=s.lazy(()=>S(()=>import("./ProgressFormPanel-DeLxKFGR.js"),__vite__mapDeps([19,1,2,16,17]))),ie=()=>e.jsx("div",{className:"glass glass-card p-8 text-center text-muted-foreground animate-pulse",children:"Loading panel..."}),M=s.memo(()=>{const{statCards:t,students:a,progressData:r,heroBadge:c,loading:l,error:m,refresh:d}=se(),{activeTab:u,setActiveTab:v,interventionForm:g,progressForm:b,handleInterventionChange:p,handleProgressChange:x,handleSavePlan:n,handleSubmitProgress:i}=J(C),{base:o,textarea:h,notes:f}=y,j=s.useMemo(()=>{switch(u){case"dashboard":return e.jsx(ae,{statCards:t,students:a,progressData:r,TierPill:w,ProgressBadge:N});case"students":return e.jsx(re,{students:a,TierPill:w,ProgressBadge:N});case"create":return e.jsx(oe,{formState:g,onChange:p,onSubmit:n,baseFieldClass:o,textareaClass:h});case"submit":return e.jsx(ne,{formState:b,onChange:x,onSubmit:i,baseFieldClass:o,textareaClass:f,students:a});default:return null}},[u,g,b,p,x,n,i,o,h,f,t,a,r]);return e.jsxs("div",{className:"mtss-theme mtss-animated-bg min-h-screen relative overflow-hidden text-foreground dark:text-white transition-colors",children:[e.jsx("div",{className:"mtss-bg-overlay"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-64 bg-gradient-to-b from-white/70 to-transparent dark:from-white/10"}),e.jsx("div",{className:"absolute -bottom-24 left-12 w-[28rem] h-[28rem] bg-primary/30 dark:bg-primary/25 blur-[200px]"})]}),e.jsxs("div",{className:"relative z-20 container-tight px-4 sm:px-6 py-8 lg:py-14 space-y-8 lg:space-y-10",children:[e.jsx(I.section,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mtss-gradient-border overflow-hidden rounded-3xl border border-white/40 dark:border-white/10 shadow-[0_25px_60px_rgba(148,163,184,0.25)]",children:e.jsx(te,{heroBadge:c,tabs:C,activeTab:u,onTabChange:v})}),(l||m)&&e.jsxs("div",{className:"rounded-2xl border border-border/50 bg-white/60 dark:bg-white/5 px-4 py-3 flex items-center justify-between gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsx($,{className:"w-4 h-4 animate-spin text-primary"}),e.jsx("span",{children:m||"Syncing live MTSS data..."})]}),m&&e.jsx("button",{onClick:d,className:"text-primary font-semibold hover:underline",children:"Retry"})]}),e.jsx(s.Suspense,{fallback:e.jsx(ie,{}),children:j})]})]})});M.displayName="TeacherDashboardPage";const pe=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{B as C,pe as T};
