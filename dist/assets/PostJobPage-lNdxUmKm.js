import{c as D,j as e,e as w,u as A,a as F,b as I,r as o,h as p,k as V,t as U,L as _,R as K,A as E,m as S,f as O}from"./index-Cu1z75_R.js";import{B as P}from"./button-DWxbJQgD.js";import{D as Z,a as G,b as W,c as Q,d as X}from"./dialog-eEUHSbZR.js";import{T as Y}from"./tag-BT1B1ATe.js";import{C as ee}from"./clock-3-ob79xEav.js";import{C as ae}from"./calendar-Dtf1lJrb.js";import{M as te}from"./map-pin-CrNCoSos.js";import{A as se}from"./arrow-left-D-aKEELJ.js";import{Z as ie}from"./zap-C3pYG-v1.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],re=D("file-text",ne);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],L=D("hand-coins",le);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],z=D("wallet-minimal",oe);function de({value:i,onChange:s,options:r,className:l="",size:g="md"}){const x=r||[{key:"cash",label:"Tunai",icon:L},{key:"wallet",label:"Saldo",icon:z}],b=g==="sm";return e.jsx("div",{className:w("inline-flex w-full gap-2 rounded-xl bg-card/40 p-1 backdrop-blur-xl ring-1 ring-border",l),role:"tablist","aria-label":"Metode Pembayaran",children:x.map(d=>{const f=d.icon,j=i===d.key;return e.jsx("button",{type:"button",role:"tab","aria-selected":j,onClick:()=>s?.(d.key),className:w("flex-1 rounded-lg transition-colors duration-300 hover:text-foreground hover:bg-card/60",j?"bg-accent text-accent-foreground shadow":"text-muted-foreground"),children:e.jsxs("span",{className:"inline-flex items-center justify-center gap-1.5 px-2 py-1.5",children:[e.jsx(f,{className:w(b?"h-3.5 w-3.5":"h-4 w-4")}),e.jsx("span",{className:w("font-medium",b?"text-xs":"text-sm"),children:d.label})]})},d.key)})})}function ce({open:i,onOpenChange:s,data:r={},onConfirm:l}){const{title:g="",description:x="",category:b="",skills:d="",budget:f="",duration:j="",payment:k="",deadline:a="",location:y=""}=r,v=k==="cash"?L:z;return e.jsx(Z,{open:i,onOpenChange:s,children:e.jsxs(G,{className:"max-w-lg rounded-3xl glass-strong p-0 overflow-hidden",children:[e.jsxs(W,{className:"p-4 sm:p-5 border-b border-border/50 bg-card/40 backdrop-blur-xl",children:[e.jsx(Q,{className:"text-base sm:text-lg font-semibold",children:"Konfirmasi Posting"}),e.jsx(X,{className:"text-xs sm:text-sm text-muted-foreground",children:"Periksa detail singkat sebelum dipasang."})]}),e.jsxs("div",{className:"p-4 sm:p-5 space-y-3",children:[e.jsx(m,{label:"Judul",children:e.jsx("p",{className:"text-sm font-medium text-foreground line-clamp-2",children:g||"-"})}),e.jsx(m,{label:"Deskripsi",children:e.jsx("p",{className:"text-xs sm:text-sm text-foreground/90 line-clamp-4",children:x||"-"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(m,{label:"Kategori",icon:e.jsx(Y,{className:"h-4 w-4 text-primary"}),children:e.jsx("p",{className:"text-xs sm:text-sm",children:b||"-"})}),e.jsx(m,{label:"Skill",children:e.jsx("p",{className:"text-xs sm:text-sm truncate",children:d||"-"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(m,{label:"Budget",children:e.jsx("p",{className:"text-sm font-semibold",children:f||"-"})}),e.jsx(m,{label:"Durasi",icon:e.jsx(ee,{className:"h-4 w-4 text-accent"}),children:e.jsx("p",{className:"text-xs sm:text-sm",children:j||"-"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(m,{label:"Pembayaran",icon:e.jsx(v,{className:"h-4 w-4 text-secondary-foreground"}),children:e.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-medium ${k==="cash"?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"}`,children:k==="cash"?"Tunai":"Saldo"})}),e.jsx(m,{label:"Deadline",icon:e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"}),children:e.jsx("p",{className:"text-xs sm:text-sm",children:a||"-"})})]}),e.jsx(m,{label:"Lokasi",icon:e.jsx(te,{className:"h-4 w-4 text-accent"}),children:e.jsx("p",{className:"text-xs sm:text-sm truncate",children:y||"-"})}),e.jsx("div",{className:"mt-1 rounded-xl border border-border/50 bg-card/40 p-2.5",children:e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Untuk nilai tinggi, pertimbangkan pembayaran terlindungi (escrow) atau deposit kecil."})})]}),e.jsxs("div",{className:"px-4 sm:px-5 pb-4 sm:pb-5 pt-2 flex items-center justify-end gap-2 border-t border-border/50 bg-card/40 backdrop-blur-xl",children:[e.jsx(P,{variant:"outline",size:"sm",className:"rounded-xl",onClick:()=>s(!1),children:"Edit"}),e.jsx(P,{size:"sm",className:"rounded-xl bg-gradient-to-r from-primary to-accent text-primary-foreground",onClick:()=>{l?.(),s(!1)},children:"Pasang"})]})]})})}function m({label:i,children:s,icon:r=null}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground",children:[r,e.jsx("span",{className:"uppercase",children:i})]}),e.jsx("div",{className:"mt-1",children:s})]})}const T=i=>({hidden:{opacity:i?1:0,y:i?0:12},show:{opacity:1,y:0,transition:{duration:.33,ease:"easeOut"}},exit:{opacity:0,y:-8,transition:{duration:.22}}}),H="w-full rounded-lg border border-border/40 bg-card/60 px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-320";function ke(){const i=A(),{toast:s}=F(),r=I(),[l,g]=o.useState("quick"),[x,b]=o.useState("cash"),[d,f]=o.useState(!1),[j,k]=o.useState(!1),[a,y]=o.useState({title:"",description:"",budgetRaw:"",budget:"",durationValue:"",durationUnit:"jam",category:"",skills:"",deadline:"",location:""}),v=o.useRef(!1),N=o.useMemo(()=>{const t=a.title.trim().length>=3,n=a.description.trim().length>=(l==="quick"?8:20);return t&&n&&!d},[a.title,a.description,l,d]),c=o.useCallback((t,n)=>{v.current=!0,y(C=>({...C,[t]:p(String(n))}))},[]),M=o.useMemo(()=>V(t=>{y(n=>({...n,budget:t?O(Number(t)):""}))},220),[]),u=o.useCallback(t=>{try{const n=(t.clipboardData||window.clipboardData).getData("text");(/https?:\/\//i.test(n)||/<script/i.test(n)||/javascript:/i.test(n)||/\b(data:|vbscript:)/i.test(n))&&(t.preventDefault(),s({title:"Isi tidak valid",description:"Tautan/script diblokir."}))}catch{}},[s]),R=o.useCallback(t=>{const n=U(t);y(C=>({...C,budgetRaw:n})),M(n)},[M]),J=o.useCallback(async()=>{if(!N){s({title:"Periksa formulir",description:"Judul dan deskripsi perlu diisi."});return}f(!0);try{const t={title:p(a.title),description:p(a.description),budget:Number(a.budgetRaw)||0,duration:`${p(a.durationValue||"")} ${p(a.durationUnit)}`.trim(),category:p(a.category),skills:p(a.skills),deadline:a.deadline||null,location:p(a.location),payment:x,mode:l};await new Promise(n=>setTimeout(n,600)),s({title:"Berhasil",description:"Pekerjaan diposting (demo)."}),v.current=!1,i(l==="quick"?"/":"/history")}catch{s({title:"Gagal",description:"Terjadi kesalahan. Coba lagi.",variant:"destructive"})}finally{f(!1)}},[N,a,l,i,x,s]),$=o.useCallback(t=>{if(t?.preventDefault?.(),!N){s({title:"Periksa formulir",description:"Judul dan deskripsi perlu diisi."});return}k(!0)},[N,s]);return e.jsx("div",{className:"min-h-screen p-3 sm:p-6 text-foreground",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs("header",{className:"flex items-center gap-3 mb-3",children:[e.jsx(_,{to:-1,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-border/30 bg-card/50 hover:bg-accent/10 transition-all duration-320","aria-label":"Kembali",children:e.jsx(se,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-semibold",children:"Buat Pekerjaan"}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Ringkas & aman."})]})]}),e.jsxs("section",{className:"glass-strong rounded-xl p-3 shadow-md",children:[e.jsxs("div",{className:"inline-flex w-full rounded-xl border border-border/30 bg-card/40 p-1 mb-3",children:[e.jsx(B,{active:l==="quick",onClick:()=>g("quick"),icon:e.jsx(ie,{className:"h-4 w-4"}),label:"Cepat"}),e.jsx(B,{active:l==="detail",onClick:()=>g("detail"),icon:e.jsx(re,{className:"h-4 w-4"}),label:"Detail"})]}),e.jsxs("form",{onSubmit:$,className:"space-y-3",children:[e.jsx(E,{mode:"wait",children:l==="quick"?e.jsxs(S.div,{variants:T(r),initial:"hidden",animate:"show",exit:"exit",className:"space-y-3",children:[e.jsx(h,{label:"Judul",value:a.title,onChange:t=>c("title",t),onPaste:u,placeholder:"Contoh: Antar kopi ke kantor",required:!0}),e.jsx(q,{label:"Deskripsi singkat",value:a.description,onChange:t=>c("description",t),onPaste:u,placeholder:"Tuliskan kebutuhan (min 8 karakter)",rows:3}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{"aria-label":"Durasi",type:"number",value:a.durationValue,onChange:t=>c("durationValue",t.target.value),onPaste:u,placeholder:"2",min:0,className:"w-20 rounded-lg border border-border/40 bg-card/60 px-2 py-2 text-sm focus:ring-2 focus:ring-accent transition-all duration-320"}),e.jsxs("select",{value:a.durationUnit,onChange:t=>c("durationUnit",t.target.value),className:"flex-1 rounded-lg border border-border/40 bg-card/60 px-2 py-2 text-sm focus:ring-2 focus:ring-accent transition-all duration-320",children:[e.jsx("option",{value:"menit",children:"Menit"}),e.jsx("option",{value:"jam",children:"Jam"}),e.jsx("option",{value:"hari",children:"Hari"})]})]}),e.jsx(h,{label:"Budget (opsional)",value:a.budget,onChange:R,onPaste:u,placeholder:"Rp 100.000",inputMode:"numeric"})]},"quick"):e.jsxs(S.div,{variants:T(r),initial:"hidden",animate:"show",exit:"exit",className:"space-y-3",children:[e.jsx(h,{label:"Judul",value:a.title,onChange:t=>c("title",t),onPaste:u,placeholder:"Contoh: Desain Logo Brand",required:!0}),e.jsx(q,{label:"Deskripsi",value:a.description,onChange:t=>c("description",t),onPaste:u,placeholder:"Ceritakan detail pekerjaanmu",rows:4}),e.jsx(h,{label:"Kategori",value:a.category,onChange:t=>c("category",t),onPaste:u,placeholder:"Design, IT, dll"}),e.jsx(h,{label:"Skill (comma)",value:a.skills,onChange:t=>c("skills",t),onPaste:u,placeholder:"React, Figma"}),e.jsx(h,{label:"Budget",value:a.budget,onChange:R,onPaste:u,placeholder:"Rp 1.000.000",inputMode:"numeric"}),e.jsx(h,{label:"Deadline",type:"date",value:a.deadline,onChange:t=>c("deadline",t)}),e.jsx(h,{label:"Lokasi (opsional)",value:a.location,onChange:t=>c("location",t),onPaste:u,placeholder:"Jakarta Selatan"})]},"detail")}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-foreground/85",children:"Metode Pembayaran"}),e.jsx(de,{value:x,onChange:b,size:"sm"})]}),e.jsx(P,{type:"submit",className:"w-full rounded-xl bg-gradient-to-r from-primary to-accent text-primary-foreground shadow hover:scale-[1.01] active:scale-[0.99] transition-all duration-320",disabled:!N||d,children:d?"Mengirim...":"Tinjau & Pasang"}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:["Dengan memposting, Anda menyetujui"," ",e.jsx("span",{className:"text-accent font-medium",children:"Syarat & Ketentuan"}),"."]})]}),e.jsx(ce,{open:j,onOpenChange:k,data:{title:a.title,description:a.description,category:a.category,skills:a.skills,budget:a.budget,duration:`${a.durationValue||""} ${a.durationUnit}`,payment:x,deadline:a.deadline,location:a.location},onConfirm:J})]})]})})}const h=({label:i,type:s="text",...r})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium mb-1 text-foreground/85",children:i}),e.jsx("input",{type:s,...r,className:H})]}),q=({label:i,rows:s=3,...r})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium mb-1 text-foreground/85",children:i}),e.jsx("textarea",{rows:s,...r,className:H+" resize-none"})]}),B=K.memo(({active:i,onClick:s,icon:r,label:l})=>e.jsxs("button",{type:"button",onClick:s,className:`flex-1 flex items-center justify-center gap-1 rounded-lg px-2 py-1.5 text-xs font-medium hover-card ${i?"bg-accent text-accent-foreground shadow":"text-muted-foreground hover:text-foreground hover:bg-secondary/40"}`,"aria-pressed":i,children:[r,e.jsx("span",{children:l})]}));export{ke as default};
