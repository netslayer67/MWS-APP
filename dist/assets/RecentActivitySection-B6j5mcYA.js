import{r as l,b as g,j as s,aa as i,a4 as h}from"./index-BN59IPuR.js";import{U as f}from"./UserDetailModal-Dcf_NFtO.js";import{E as j}from"./eye-D1xVv0HE.js";import{C as N}from"./clock-DhNh1aMV.js";import"./triangle-alert-BiLwPYAF.js";import"./CategoricalChart-CzuH2uZD.js";import"./LineChart-PTTZ-EsJ.js";import"./CartesianChart-ZQlXXoYZ.js";import"./Line-DNdpdA0Y.js";import"./ActivePoints-4jvxxq2L.js";import"./ErrorBarContext-BsywKOhW.js";const b=l.memo(({activities:r=[]})=>{const a=g(),[o,n]=l.useState(null),[m,t]=l.useState(!1);if(!r||r.length===0)return null;const x=e=>{n({id:e.userId,name:e.userName,role:e.role,department:e.department,weatherType:e.weatherType,presenceLevel:e.presenceLevel,capacityLevel:e.capacityLevel,selectedMoods:e.selectedMoods,submittedAt:e.submittedAt}),t(!0)},c=e=>({sunny:"â˜€ï¸",cloudy:"â˜ï¸",rain:"ðŸŒ§ï¸",storm:"â›ˆï¸",tornado:"ðŸŒªï¸",snow:"â„ï¸"})[e]||"ðŸŒ¤ï¸";return s.jsxs("div",{className:"glass glass-card transition-all duration-300",children:[s.jsx("div",{className:"glass__refract"}),s.jsx("div",{className:"glass__noise"}),s.jsxs("div",{className:"relative z-10 p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(i,{className:"w-4 h-4 text-primary"}),s.jsxs("h2",{className:"text-base md:text-lg font-semibold text-foreground",children:["Recent Activity (",r.length,")"]})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:r.map((e,d)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-card/20 border border-border/20 hover:bg-card/40 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(h,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("button",{onClick:()=>a(`/emotional-wellness/${e.userId}`),className:"font-medium text-foreground text-sm hover:text-primary hover:underline transition-colors text-left cursor-pointer",children:e.userName}),s.jsx("span",{className:"text-xs text-muted-foreground capitalize px-2 py-1 rounded-full bg-muted/50",children:e.role}),s.jsx("span",{className:"text-lg",children:c(e.weatherType)}),s.jsx("button",{onClick:()=>x(e),className:"ml-auto p-1 hover:bg-muted/50 rounded transition-colors",title:"View details",children:s.jsx(j,{className:"w-3 h-3 text-muted-foreground"})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[s.jsxs("span",{children:["Presence: ",e.presenceLevel,"/10"]}),s.jsxs("span",{children:["Capacity: ",e.capacityLevel,"/10"]}),e.department&&s.jsx("span",{className:"capitalize",children:e.department}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="handled"?"bg-green-100 text-green-800":e.status==="acknowledged"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:e.status==="handled"?"Handled":e.status==="acknowledged"?"Acknowledged":"Pending"})]}),e.status!=="pending"&&s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"font-medium text-foreground",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.status==="handled"?"bg-green-100 text-green-800":e.status==="acknowledged"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:e.status==="handled"?"âœ… Handled":e.status==="acknowledged"?"ðŸ‘ï¸ Acknowledged":"â³ Pending"}),e.respondedAt&&s.jsx("span",{className:"text-muted-foreground",children:new Date(e.respondedAt).toLocaleDateString()})]}),e.responseDetails&&s.jsxs("div",{className:"mt-1 p-2 bg-muted/20 rounded text-xs text-muted-foreground",children:[s.jsx("strong",{children:"Follow-up:"})," ",e.responseDetails]})]}),e.status!=="pending"&&e.responseDetails&&s.jsxs("div",{className:"mt-2 p-2 bg-muted/20 rounded text-xs text-muted-foreground",children:[s.jsx("strong",{children:"Follow-up:"})," ",e.responseDetails]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(N,{className:"w-3 h-3"}),s.jsx("span",{children:new Date(e.submittedAt).toLocaleString()})]}),e.selectedMoods&&e.selectedMoods.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.selectedMoods.slice(0,3).map((p,u)=>s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary capitalize",children:p},u)),e.selectedMoods.length>3&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",e.selectedMoods.length-3," more"]})]})]})]},e.id||d))})]}),s.jsx(f,{user:o,isOpen:m,onClose:()=>{t(!1),n(null)}})]})});b.displayName="RecentActivitySection";export{b as default};
