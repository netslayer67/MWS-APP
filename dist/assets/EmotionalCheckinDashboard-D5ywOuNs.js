const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PrimaryNavButtons-B4OUy3_L.js","assets/index-C84qGWMf.js","assets/index-DM8HD4bI.css","assets/target-B1xD7K8H.js","assets/activity-Bi4WUt3j.js","assets/DashboardHeader-DN7trkNb.js","assets/calendar-CBv3xboG.js","assets/funnel-BZcXGKOV.js","assets/users-CjeQhNyl.js","assets/building-CbIy44d5.js","assets/circle-check-big-0a8sB_2g.js","assets/StatsGrid-Dxmucx-a.js","assets/trending-up-Da0La0b8.js","assets/ContentSections-3saVKHOZ.js","assets/DecorativeElements-DnX31uKp.js","assets/PerformanceMonitor-Du1cpgbB.js"])))=>i.map(i=>d[i]);
import{c as Te,r as u,j as r,X as fe,B as Oe,u as Pe,b as H,C as P,D as je,E as Be,_ as E}from"./index-C84qGWMf.js";import{F as De}from"./funnel-BZcXGKOV.js";import{U as Le}from"./users-CjeQhNyl.js";import{B as Fe}from"./building-CbIy44d5.js";import{C as oe}from"./circle-check-big-0a8sB_2g.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ie=Te("triangle-alert",qe),S=Object.create(null);S.open="0";S.close="1";S.ping="2";S.pong="3";S.message="4";S.upgrade="5";S.noop="6";const D=Object.create(null);Object.keys(S).forEach(i=>{D[S[i]]=i});const W={type:"error",data:"parser error"},pe=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",me=typeof ArrayBuffer=="function",ge=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Q=({type:i,data:e},t,s)=>pe&&e instanceof Blob?t?s(e):ae(e,s):me&&(e instanceof ArrayBuffer||ge(e))?t?s(e):ae(new Blob([e]),s):s(S[i]+(e||"")),ae=(i,e)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];e("b"+(s||""))},t.readAsDataURL(i)};function ce(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let z;function Me(i,e){if(pe&&i.data instanceof Blob)return i.data.arrayBuffer().then(ce).then(e);if(me&&(i.data instanceof ArrayBuffer||ge(i.data)))return e(ce(i.data));Q(i,!1,t=>{z||(z=new TextEncoder),e(z.encode(t))})}const he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<he.length;i++)O[he.charCodeAt(i)]=i;const Ue=i=>{let e=i.length*.75,t=i.length,s,n=0,o,a,c,l;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);const p=new ArrayBuffer(e),f=new Uint8Array(p);for(s=0;s<t;s+=4)o=O[i.charCodeAt(s)],a=O[i.charCodeAt(s+1)],c=O[i.charCodeAt(s+2)],l=O[i.charCodeAt(s+3)],f[n++]=o<<2|a>>4,f[n++]=(a&15)<<4|c>>2,f[n++]=(c&3)<<6|l&63;return p},He=typeof ArrayBuffer=="function",Z=(i,e)=>{if(typeof i!="string")return{type:"message",data:ye(i,e)};const t=i.charAt(0);return t==="b"?{type:"message",data:ze(i.substring(1),e)}:D[t]?i.length>1?{type:D[t],data:i.substring(1)}:{type:D[t]}:W},ze=(i,e)=>{if(He){const t=Ue(i);return ye(t,e)}else return{base64:!0,data:i}},ye=(i,e)=>{switch(e){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},be="",Ve=(i,e)=>{const t=i.length,s=new Array(t);let n=0;i.forEach((o,a)=>{Q(o,!1,c=>{s[a]=c,++n===t&&e(s.join(be))})})},Ke=(i,e)=>{const t=i.split(be),s=[];for(let n=0;n<t.length;n++){const o=Z(t[n],e);if(s.push(o),o.type==="error")break}return s};function We(){return new TransformStream({transform(i,e){Me(i,t=>{const s=t.length;let n;if(s<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,s);else if(s<65536){n=new Uint8Array(3);const o=new DataView(n.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{n=new Uint8Array(9);const o=new DataView(n.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}i.data&&typeof i.data!="string"&&(n[0]|=128),e.enqueue(n),e.enqueue(t)})}})}let V;function j(i){return i.reduce((e,t)=>e+t.length,0)}function B(i,e){if(i[0].length===e)return i.shift();const t=new Uint8Array(e);let s=0;for(let n=0;n<e;n++)t[n]=i[0][s++],s===i[0].length&&(i.shift(),s=0);return i.length&&s<i[0].length&&(i[0]=i[0].slice(s)),t}function $e(i,e){V||(V=new TextDecoder);const t=[];let s=0,n=-1,o=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(s===0){if(j(t)<1)break;const l=B(t,1);o=(l[0]&128)===128,n=l[0]&127,n<126?s=3:n===126?s=1:s=2}else if(s===1){if(j(t)<2)break;const l=B(t,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),s=3}else if(s===2){if(j(t)<8)break;const l=B(t,8),p=new DataView(l.buffer,l.byteOffset,l.length),f=p.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(W);break}n=f*Math.pow(2,32)+p.getUint32(4),s=3}else{if(j(t)<n)break;const l=B(t,n);c.enqueue(Z(o?l:V.decode(l),e)),s=0}if(n===0||n>i){c.enqueue(W);break}}}})}const _e=4;function m(i){if(i)return Ye(i)}function Ye(i){for(var e in m.prototype)i[e]=m.prototype[e];return i}m.prototype.on=m.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};m.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};m.prototype.off=m.prototype.removeListener=m.prototype.removeAllListeners=m.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,n=0;n<t.length;n++)if(s=t[n],s===e||s.fn===e){t.splice(n,1);break}return t.length===0&&delete this._callbacks["$"+i],this};m.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,n=t.length;s<n;++s)t[s].apply(this,e)}return this};m.prototype.emitReserved=m.prototype.emit;m.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};m.prototype.hasListeners=function(i){return!!this.listeners(i).length};const I=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),x=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Je="arraybuffer";function xe(i,...e){return e.reduce((t,s)=>(i.hasOwnProperty(s)&&(t[s]=i[s]),t),{})}const Xe=x.setTimeout,Ge=x.clearTimeout;function M(i,e){e.useNativeTimers?(i.setTimeoutFn=Xe.bind(x),i.clearTimeoutFn=Ge.bind(x)):(i.setTimeoutFn=x.setTimeout.bind(x),i.clearTimeoutFn=x.clearTimeout.bind(x))}const Qe=1.33;function Ze(i){return typeof i=="string"?et(i):Math.ceil((i.byteLength||i.size)*Qe)}function et(i){let e=0,t=0;for(let s=0,n=i.length;s<n;s++)e=i.charCodeAt(s),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(s++,t+=4);return t}function ve(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function tt(i){let e="";for(let t in i)i.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(i[t]));return e}function st(i){let e={},t=i.split("&");for(let s=0,n=t.length;s<n;s++){let o=t[s].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class it extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class ee extends m{constructor(e){super(),this.writable=!1,M(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,s){return super.emitReserved("error",new it(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Z(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=tt(e);return t.length?"?"+t:""}}class nt extends ee{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Ke(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ve(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ve()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let we=!1;try{we=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const rt=we;function ot(){}class at extends nt{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(n,o)=>{this.onError("xhr post error",n,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=e}}class k extends m{constructor(e,t,s){super(),this.createRequest=e,M(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const t=xe(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&s.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var n;s.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=k.requestsCount++,k.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ot,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete k.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}k.requestsCount=0;k.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",le);else if(typeof addEventListener=="function"){const i="onpagehide"in x?"pagehide":"unload";addEventListener(i,le,!1)}}function le(){for(let i in k.requests)k.requests.hasOwnProperty(i)&&k.requests[i].abort()}const ct=(function(){const i=ke({xdomain:!1});return i&&i.responseType!==null})();class ht extends at{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ct&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new k(ke,this.uri(),e)}}function ke(i){const e=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||rt))return new XMLHttpRequest}catch{}if(!e)try{return new x[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Se=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class lt extends ee{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,s=Se?{}:xe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,s)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],n=t===e.length-1;Q(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}n&&I(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ve()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const K=x.WebSocket||x.MozWebSocket;class dt extends lt{createSocket(e,t,s){return Se?new K(e,t,s):t?new K(e,t):new K(e)}doWrite(e,t){this.ws.send(t)}}class ut extends ee{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=$e(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),n=We();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const o=()=>{s.read().then(({done:c,value:l})=>{c||(this.onPacket(l),o())}).catch(c=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],n=t===e.length-1;this._writer.write(s).then(()=>{n&&I(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const ft={websocket:dt,webtransport:ut,polling:ht},pt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $(i){if(i.length>8e3)throw"URI too long";const e=i,t=i.indexOf("["),s=i.indexOf("]");t!=-1&&s!=-1&&(i=i.substring(0,t)+i.substring(t,s).replace(/:/g,";")+i.substring(s,i.length));let n=pt.exec(i||""),o={},a=14;for(;a--;)o[mt[a]]=n[a]||"";return t!=-1&&s!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=gt(o,o.path),o.queryKey=yt(o,o.query),o}function gt(i,e){const t=/\/{2,9}/g,s=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function yt(i,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,n,o){n&&(t[n]=o)}),t}const Y=typeof addEventListener=="function"&&typeof removeEventListener=="function",L=[];Y&&addEventListener("offline",()=>{L.forEach(i=>i())},!1);class N extends m{constructor(e,t){if(super(),this.binaryType=Je,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const s=$(e);t.hostname=s.host,t.secure=s.protocol==="https"||s.protocol==="wss",t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=$(t.host).host);M(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(s=>{const n=s.prototype.name;this.transports.push(n),this._transportsByName[n]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=st(this.opts.query)),Y&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},L.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=_e,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&N.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",N.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+=Ze(n)),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,I(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,s){return this._sendPacket("message",e,t,s),this}send(e,t,s){return this._sendPacket("message",e,t,s),this}_sendPacket(e,t,s,n){if(typeof t=="function"&&(n=t,t=void 0),typeof s=="function"&&(n=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:e,data:t,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(N.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Y&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=L.indexOf(this._offlineEventListener);s!==-1&&L.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}N.protocol=_e;class bt extends N{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),s=!1;N.priorWebsocketSuccess=!1;const n=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;N.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function o(){s||(s=!0,f(),t.close(),t=null)}const a=g=>{const y=new Error("probe error: "+g);y.transport=t.name,o(),this.emitReserved("upgradeError",y)};function c(){a("transport closed")}function l(){a("socket closed")}function p(g){t&&g.name!==t.name&&o()}const f=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",c),this.off("close",l),this.off("upgrading",p)};t.once("open",n),t.once("error",a),t.once("close",c),this.once("close",l),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}let _t=class extends bt{constructor(e,t={}){const s=typeof e=="object"?e:t;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(n=>ft[n]).filter(n=>!!n)),super(e,s)}};function xt(i,e="",t){let s=i;t=t||typeof location<"u"&&location,i==null&&(i=t.protocol+"//"+t.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=t.protocol+i:i=t.host+i),/^(https?|wss?):\/\//.test(i)||(typeof t<"u"?i=t.protocol+"//"+i:i="https://"+i),s=$(i)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+e,s.href=s.protocol+"://"+o+(t&&t.port===s.port?"":":"+s.port),s}const vt=typeof ArrayBuffer=="function",wt=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Ne=Object.prototype.toString,kt=typeof Blob=="function"||typeof Blob<"u"&&Ne.call(Blob)==="[object BlobConstructor]",St=typeof File=="function"||typeof File<"u"&&Ne.call(File)==="[object FileConstructor]";function te(i){return vt&&(i instanceof ArrayBuffer||wt(i))||kt&&i instanceof Blob||St&&i instanceof File}function F(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,s=i.length;t<s;t++)if(F(i[t]))return!0;return!1}if(te(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return F(i.toJSON(),!0);for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&F(i[t]))return!0;return!1}function Nt(i){const e=[],t=i.data,s=i;return s.data=J(t,e),s.attachments=e.length,{packet:s,buffers:e}}function J(i,e){if(!i)return i;if(te(i)){const t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){const t=new Array(i.length);for(let s=0;s<i.length;s++)t[s]=J(i[s],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){const t={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=J(i[s],e));return t}return i}function At(i,e){return i.data=X(i.data,e),delete i.attachments,i}function X(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=X(i[t],e);else if(typeof i=="object")for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=X(i[t],e));return i}const Et=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ct=5;var d;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(d||(d={}));class Rt{constructor(e){this.replacer=e}encode(e){return(e.type===d.EVENT||e.type===d.ACK)&&F(e)?this.encodeAsBinary({type:e.type===d.EVENT?d.BINARY_EVENT:d.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===d.BINARY_EVENT||e.type===d.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Nt(e),s=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(s),n}}function de(i){return Object.prototype.toString.call(i)==="[object Object]"}class se extends m{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===d.BINARY_EVENT;s||t.type===d.BINARY_ACK?(t.type=s?d.EVENT:d.ACK,this.reconstructor=new Tt(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(te(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(d[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===d.BINARY_EVENT||s.type===d.BINARY_ACK){const o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(o,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(e.charAt(t+1)==="/"){const o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(o,t)}else s.nsp="/";const n=e.charAt(t+1);if(n!==""&&Number(n)==n){const o=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}s.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){const o=this.tryParse(e.substr(t));if(se.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case d.CONNECT:return de(t);case d.DISCONNECT:return t===void 0;case d.CONNECT_ERROR:return typeof t=="string"||de(t);case d.EVENT:case d.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Et.indexOf(t[0])===-1);case d.ACK:case d.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Tt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=At(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ot=Object.freeze(Object.defineProperty({__proto__:null,Decoder:se,Encoder:Rt,get PacketType(){return d},protocol:Ct},Symbol.toStringTag,{value:"Module"}));function v(i,e,t){return i.on(e,t),function(){i.off(e,t)}}const Pt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ae extends m{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[v(e,"open",this.onopen.bind(this)),v(e,"packet",this.onpacket.bind(this)),v(e,"error",this.onerror.bind(this)),v(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var s,n,o;if(Pt.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:d.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const f=this.ids++,g=t.pop();this._registerAckCallback(f,g),a.id=f}const c=(n=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||n===void 0?void 0:n.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var s;const n=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(n===void 0){this.acks[e]=t;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},n),a=(...c)=>{this.io.clearTimeoutFn(o),t.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((s,n)=>{const o=(a,c)=>a?n(a):s(c);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...o)=>s!==this._queue[0]?void 0:(n!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:d.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case d.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case d.EVENT:case d.BINARY_EVENT:this.onevent(e);break;case d.ACK:case d.BINARY_ACK:this.onack(e);break;case d.DISCONNECT:this.ondisconnect();break;case d.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...n){s||(s=!0,t.packet({type:d.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:d.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function C(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}C.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*i);i=(Math.floor(e*10)&1)==0?i-t:i+t}return Math.min(i,this.max)|0};C.prototype.reset=function(){this.attempts=0};C.prototype.setMin=function(i){this.ms=i};C.prototype.setMax=function(i){this.max=i};C.prototype.setJitter=function(i){this.jitter=i};class G extends m{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,M(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new C({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||Ot;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new _t(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=v(t,"open",function(){s.onopen(),e&&e()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=v(t,"error",o);if(this._timeout!==!1){const c=this._timeout,l=this.setTimeoutFn(()=>{n(),o(new Error("timeout")),t.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(v(e,"ping",this.onping.bind(this)),v(e,"data",this.ondata.bind(this)),v(e,"error",this.onerror.bind(this)),v(e,"close",this.onclose.bind(this)),v(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){I(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Ae(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const T={};function q(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};const t=xt(i,e.path||"/socket.io"),s=t.source,n=t.id,o=t.path,a=T[n]&&o in T[n].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return c?l=new G(s,e):(T[n]||(T[n]=new G(s,e)),l=T[n]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(q,{Manager:G,Socket:Ae,io:q,connect:q});class jt{constructor(){this.socket=null,this.isConnected=!1}connect(){if(this.socket&&this.isConnected)return this.socket;const e="https://bemws-production.up.railway.app";return this.socket=q(e,{transports:["websocket","polling"],timeout:2e4}),this.socket.on("connect",()=>{console.log("Connected to Socket.io server"),this.isConnected=!0}),this.socket.on("disconnect",()=>{console.log("Disconnected from Socket.io server"),this.isConnected=!1}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t),this.isConnected=!1}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1)}joinDashboard(e){this.socket&&this.isConnected&&this.socket.emit("join-dashboard",e)}leaveDashboard(){this.socket&&this.isConnected&&this.socket.emit("leave-dashboard")}onDashboardUpdate(e){this.socket&&this.socket.on("dashboard:update",e)}onNewCheckin(e){this.socket&&this.socket.on("dashboard:new-checkin",e)}onUserFlagged(e){this.socket&&this.socket.on("user:flagged",e)}offDashboardUpdate(e){this.socket&&this.socket.off("dashboard:update",e)}offNewCheckin(e){this.socket&&this.socket.off("dashboard:new-checkin",e)}offUserFlagged(e){this.socket&&this.socket.off("user:flagged",e)}get isSocketConnected(){return this.isConnected}getSocket(){return this.socket}}const w=new jt,ue={today:{totalCheckins:65,averagePresence:7.1,averageCapacity:6.7,moodDistribution:{happy:18,excited:16,calm:12,hopeful:8,sad:2,anxious:8,angry:0,fear:1,tired:15,hungry:9,lonely:5,bored:0,overwhelmed:1,scattered:3},moodLists:{overwhelmed:["Nayandra Hasan Sudra"],fear:["Kholida Widyawati, S.Sos, MA","Nayandra Hasan Sudra"],hungry:["Fadholi Akbar","Reza Rizky Prayudha","Iis Asifah","belum sarapan","Tri Ayu Lestari","Bela Kartika Sari","Robby Noer Abjuny","Ika Rahayu","Chantika Nur Febryanti, S.Pd.","Derry Parmanto, S.S"],excited:["Muhammad Rayhan Ananta","Abdullah, SE, MM","Nur Muhamad Ismail","Alifananda Dhaffa Hanif Musyafa, S.Pd","Novia Syifaputri Ramadhan","Rifqi Satria Permana, S.Pd","Faisal Nur Hidayat","Galen Rasendriya","Ari Wibowo","Adiya Herisa","Mukron","Tria Fadilla","Tiastiningrum Nugrahanti, S.Pd","Hana Nuzula Fajria, S.Pd","Ferlyna Balqis","Irawan","Andrean Hadinata, S.Sos","Derry Parmanto, S.S"],happy:["Muhammad Rayhan Ananta","Tien Hadiningsih, S.S","Romasta Oryza Sativa Siagian, S.Pd","Reza Rizky Prayudha","Abdullah, SE, MM","Novia Syifaputri Ramadhan","Nazmi Kusumawantari","Rifqi Satria Permana, S.Pd","Faisal Nur Hidayat","Risma Galuh Pitaloka Fahdin","Nanda Citra Ryani, S.IP","Ari Wibowo","Adiya Herisa","Hana Nuzula Fajria, S.Pd","Abu Bakar Ali, S.Sos I"],anxious:["Adibah Hana Widjaya","Farhah Alya Nabilah","Prisy Dewanti","Annisa Fitri Tanjung","Maria Rosa Apriliana Jaftoran","Ferlyna Balqis","Nayandra Hasan Sudra","Hadi"],sad:["Almia Ester Kristiyany Sinabang, S.Pd","Himawan Rizky Syaputra"],hopeful:["Azalia Magdalena Septianti Tambi","Zavier Cloudya Mashareen, S.Psi","Bela Kartika Sari","Ari Wibowo","Muhammad Fathan Qorib","Tiastiningrum Nugrahanti, S.Pd","Hana Nuzula Fajria, S.Pd","Ferlyna Balqis","Vicki Aprinando"],lonely:["Fayza Julia Pramesti Hapsari Prayoga","Tri Ayu Lestari","Nadia","Nathasya Christine Prabowo, S.Si"],scattered:["Fayza Julia Pramesti Hapsari Prayoga","Kholida Widyawati, S.Sos, MA","Nayandra Hasan Sudra"],tired:["Adibah Hana Widjaya","Ratna Merlangen","Farhah Alya Nabilah","Novan Syaiful Rahman","Fadholi Akbar","Fayza Julia Pramesti Hapsari Prayoga","Dien Islami","Robby Noer Abjuny","Rizki Nurul Hayati,","Robby Anggara","Muhammad Farhan Sholeh Ramadhika","Faqiha Salma Achmada S.Psi.","Shahrani Fatimah Azzahrah","Nayandra Hasan Sudra","Krisalyssa Esna Rehulina Tarigan, S.K.Pm","Nathasya Christine Prabowo, S.Si"],calm:["Sarah Yuliana, SE","Muhammad Rayhan Ananta","Himawan Rizky Syaputra","Ni Made Ayu Juwitasari","Abdullah, SE, MM","Diya Pratiwi, S.S","Faisal Nur Hidayat","Aria Wisnuwardana, S.TP","Nanda Citra Ryani, S.IP","Faqiha Salma Achmada S.Psi.","Shahrani Fatimah Azzahrah","Muhammad Gibran Al Wali","Hana Nuzula Fajria, S.Pd","Susantika Nilasari","Anggie Ayu Setya Pradini, S.Pd"]},internalWeather:{sunny:25,cloudy:15,rain:12,storm:8,tornado:3,snow:2},checkInRequests:[{contact:"Pak Faisal",requestedBy:"Muhammad Rayhan Ananta"},{contact:"Ms. Kholida",requestedBy:"Abdullah, SE, MM"}],notSubmitted:["Aaliyah Haider Awesi","Abdul Mansyur","Afiyanti Hardiansari","Ahmad Haikal","Ardiansyah","Auliya Hasanatin Suwisto, S.IKom","Ayunda Primaputri","Berliana Gustina Siregar","Dara Kinanti, A.Md,OT","Delfiana Salsabila Komara","Devi Agriani, S.Pd.","Devi Larasati","Dina","Dini Meilani Pramesti","Dona","Erickson, SM","Fransiska Evasari, S.Pd","Gundah Basiswi, S.Pd","Khairul Anwar","Krisalyssa Esna Rehulina Tarigan, S.K.P.M.","Kurnia Sandi","Latifah Nur Restiningtyas, S.Pd","Mahrukh Bashir","Nilam Kusuma Wardani","Nopi Puji Astuti","Nurul Widyaningtyas Agustin","Pipiet Anggreiny, S.TP","Pricilla Cecil Leander, S.Pd","Putri Fitriyani, S.Pd","Raisa Ramadhani","Restia Widiasari","Rico Pratama Putra, Ph.D.","Rike Rahmawati S.Pd","Risma Ayu Angelita","Rizki Nurul Hayati","Robiatul Adawiah","Rohmatulloh","Salsabila Dhiyaussyifa Laela","Sendy Herdiansyah, S.S","Syawaludin","Udom Anatapong","Usep Saefurohman","Vinka Erawati, S.Pd","Yohana Setia Risli, S.S","Yosafat Imanuel Parlindungan, S.Sn","Zolla Firmalia Rossa, S.Pd."],thoughts:[{author:"Muhammad Rayhan Ananta",timestamp:"2 hours ago",content:"Feeling energized today! The team meeting went really well and I'm excited about the new projects coming up."},{author:"Abdullah, SE, MM",timestamp:"4 hours ago",content:"Had a challenging meeting this morning but feeling supported by the team. Grateful for the collaborative environment."},{author:"Hana Nuzula Fajria, S.Pd",timestamp:"6 hours ago",content:"A bit overwhelmed with the workload today, but taking it one step at a time. The support from colleagues helps a lot."},{author:"Tiastiningrum Nugrahanti, S.Pd",timestamp:"8 hours ago",content:"Reflecting on a productive week. Feeling hopeful about the positive changes we're implementing for our students."}]},weekly:[{day:"Mon",checkins:25,flagged:2},{day:"Tue",checkins:28,flagged:1},{day:"Wed",checkins:22,flagged:4},{day:"Thu",checkins:30,flagged:2},{day:"Fri",checkins:26,flagged:3},{day:"Sat",checkins:15,flagged:1},{day:"Sun",checkins:18,flagged:2}]},Kt={happy:{Icon:null,color:"emerald"},excited:{Icon:null,color:"gold"},okay:{Icon:null,color:"muted"},sad:{Icon:null,color:"primary"}},Wt=[{id:"today",label:"Today"},{id:"week",label:"Week"},{id:"month",label:"Month"},{id:"semester",label:"Semester"}],Ee=u.memo(({onFiltersChange:i,currentFilters:e={}})=>{const[t,s]=u.useState(!1),[n,o]=u.useState(e),a=[{value:"student",label:"Students"},{value:"staff",label:"Staff"},{value:"teacher",label:"Teachers"},{value:"admin",label:"Admins"},{value:"directorate",label:"Directorate"}],c=[{value:"Academic",label:"Academic"},{value:"Student Affairs",label:"Student Affairs"},{value:"Finance",label:"Finance"},{value:"HR",label:"Human Resources"},{value:"IT",label:"Information Technology"},{value:"Operations",label:"Operations"}],l=[{value:"happy",label:"Happy"},{value:"excited",label:"Excited"},{value:"calm",label:"Calm"},{value:"hopeful",label:"Hopeful"},{value:"tired",label:"Tired"},{value:"anxious",label:"Anxious"},{value:"sad",label:"Sad"},{value:"overwhelmed",label:"Overwhelmed"}],p=[{value:"sunny",label:"Sunny"},{value:"cloudy",label:"Cloudy"},{value:"rain",label:"Rain"},{value:"storm",label:"Storm"},{value:"tornado",label:"Tornado"},{value:"snow",label:"Snow"}],f=(h,A)=>{const b={...n};b[h]||(b[h]=[]),b[h].includes(A)?b[h]=b[h].filter(U=>U!==A):b[h].push(A),b[h].length===0&&delete b[h],o(b),i(b)},g=()=>{o({}),i({})},y=Object.values(n).reduce((h,A)=>h+A.length,0);return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>s(!t),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${y>0?"bg-primary text-primary-foreground border-primary":"bg-card text-foreground border-border hover:bg-card/80"}`,children:[r.jsx(De,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Advanced Filters"}),y>0&&r.jsx("span",{className:"bg-destructive text-destructive-foreground text-xs px-2 py-1 rounded-full",children:y})]}),t&&r.jsxs("div",{className:"absolute top-full mt-2 right-0 z-50 w-96 bg-card border border-border rounded-xl shadow-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Filter Dashboard Data"}),r.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-muted rounded",children:r.jsx(fe,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Le,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Role"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(h=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.role?.includes(h.value)||!1,onChange:()=>f("role",h.value),className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-foreground",children:h.label})]},h.value))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Fe,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Department"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.map(h=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.department?.includes(h.value)||!1,onChange:()=>f("department",h.value),className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-foreground",children:h.label})]},h.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2 mb-3",children:r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Moods"})}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(h=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.mood?.includes(h.value)||!1,onChange:()=>f("mood",h.value),className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-foreground",children:h.label})]},h.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2 mb-3",children:r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Weather Types"})}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(h=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.weather?.includes(h.value)||!1,onChange:()=>f("weather",h.value),className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-foreground",children:h.label})]},h.value))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2 mb-3",children:r.jsx("span",{className:"text-sm font-medium text-foreground",children:"Support Status"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.needsSupport?.includes("true")||!1,onChange:()=>f("needsSupport","true"),className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-foreground",children:"Needs Support"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.needsSupport?.includes("false")||!1,onChange:()=>f("needsSupport","false"),className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-foreground",children:"No Support Needed"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border",children:[r.jsx("button",{onClick:g,className:"px-4 py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Clear All"}),r.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Apply Filters"})]})]})]})});Ee.displayName="AdvancedFilters";const Ce=u.memo(({socketService:i,user:e})=>{const[t,s]=u.useState([]),[n,o]=u.useState(!1);u.useEffect(()=>{if(!i||!e)return;const p=y=>{const h={id:Date.now(),type:"info",title:"New Check-in Submitted",message:`${y.userName||"Someone"} just submitted their emotional check-in`,timestamp:new Date,icon:oe,color:"text-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200"};a(h)},f=y=>{const h={id:Date.now(),type:"warning",title:"Support Needed",message:`${y.userName} has indicated they need support`,timestamp:new Date,icon:Ie,color:"text-red-500",bgColor:"bg-red-50",borderColor:"border-red-200"};a(h)},g=y=>{const h={id:Date.now(),type:"success",title:"Dashboard Updated",message:"New data has been added to the dashboard",timestamp:new Date,icon:oe,color:"text-green-500",bgColor:"bg-green-50",borderColor:"border-green-200"};a(h)};return i.onNewCheckin(p),i.onUserFlagged(f),i.onDashboardUpdate(g),()=>{i.offNewCheckin(p),i.offUserFlagged(f),i.offDashboardUpdate(g)}},[i,e]);const a=p=>{s(f=>[p,...f].slice(0,10)),o(!0),setTimeout(()=>{o(!1)},5e3)},c=p=>{s(f=>f.filter(g=>g.id!==p)),t.length<=1&&o(!1)},l=()=>{s([]),o(!1)};return t.length===0?null:r.jsxs("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full",children:[r.jsx("div",{className:"flex justify-end mb-2",children:r.jsxs("button",{onClick:()=>o(!n),className:"relative p-2 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 transition-colors",children:[r.jsx(Oe,{className:"w-4 h-4"}),t.length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:t.length})]})}),n&&r.jsxs("div",{className:"glass glass-card shadow-2xl max-h-96 overflow-hidden",children:[r.jsx("div",{className:"glass__refract"}),r.jsx("div",{className:"glass__noise"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[r.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Notifications"}),r.jsx("button",{onClick:l,className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Clear all"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:t.map(p=>{const f=p.icon;return r.jsx("div",{className:`p-4 border-b border-border/50 last:border-b-0 ${p.bgColor} transition-all duration-300`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(f,{className:`w-4 h-4 mt-0.5 ${p.color}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h4",{className:"text-sm font-medium text-foreground",children:p.title}),r.jsx("button",{onClick:()=>c(p.id),className:"ml-2 p-1 hover:bg-black/10 rounded transition-colors",children:r.jsx(fe,{className:"w-3 h-3 text-muted-foreground"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:p.timestamp.toLocaleTimeString()})]})]})},p.id)})}),r.jsx("div",{className:"p-3 bg-muted/20 border-t border-border",children:r.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Real-time updates active"})})]})]})]})});Ce.displayName="RealTimeNotifications";u.lazy(()=>E(()=>import("./PrimaryNavButtons-B4OUy3_L.js"),__vite__mapDeps([0,1,2,3,4])));const Bt=u.lazy(()=>E(()=>import("./DashboardHeader-DN7trkNb.js"),__vite__mapDeps([5,1,2,6,7,8,9,10]))),Dt=u.lazy(()=>E(()=>import("./StatsGrid-Dxmucx-a.js"),__vite__mapDeps([11,1,2,8,12,7,9,10]))),Lt=u.lazy(()=>E(()=>import("./ContentSections-3saVKHOZ.js"),__vite__mapDeps([13,1,2]))),Ft=u.lazy(()=>E(()=>import("./DecorativeElements-DnX31uKp.js"),__vite__mapDeps([14,1,2]))),qt=u.lazy(()=>E(()=>import("./PerformanceMonitor-Du1cpgbB.js"),__vite__mapDeps([15,1,2]))),Re=u.memo(function(){const e=Pe(),{user:t}=H(_=>_.auth),{stats:s,loading:n,error:o}=H(_=>_.dashboard),{selectedPeriod:a,selectedDate:c}=H(_=>_.dashboard),[l,p]=u.useState(!1),[f,g]=u.useState({});u.useEffect(()=>{const _=setTimeout(()=>p(!0),100);return()=>clearTimeout(_)},[]),u.useEffect(()=>{if(t&&(t.role==="directorate"||t.role==="superadmin"||t.role==="admin")){console.log("Fetching dashboard stats for period:",a,"User:",t),e(P({period:a})),w.connect(),w.joinDashboard(t.id);const ie=R=>{console.log("Real-time dashboard update:",R),e(P({period:a}))},ne=R=>{console.log("New check-in received:",R),e(P({period:a,force:!0})),console.log("Dashboard updated with new check-in data")},re=R=>{console.log("User flagged for support:",R)};return w.onDashboardUpdate(ie),w.onNewCheckin(ne),w.onUserFlagged(re),()=>{w.offDashboardUpdate(ie),w.offNewCheckin(ne),w.offUserFlagged(re),w.leaveDashboard()}}else console.log("User not authorized for dashboard:",{user:t})},[e,t,a]);const y=u.useCallback(_=>{e(je(_))},[e]),h=u.useCallback(_=>{e(Be(_))},[e]),A=u.useCallback(_=>{g(_),e(P({period:a,filters:_}))},[e,a]);u.useCallback(()=>{console.log("Navigate to MTSS")},[]),u.useCallback(()=>{console.log("Navigate to Daily Check-in")},[]);const b=u.memo(()=>r.jsxs("div",{className:"glass glass-card",children:[r.jsx("div",{className:"glass__noise"}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"h-4 bg-muted/30 rounded w-1/3"}),r.jsx("div",{className:"h-3 bg-muted/20 rounded w-1/2"}),r.jsx("div",{className:"h-3 bg-muted/20 rounded w-2/3"})]})]}));b.displayName="LoadingFallback";const U=u.useMemo(()=>typeof window<"u"?window.innerWidth<768:!1,[]);return r.jsxs("div",{className:"min-h-screen text-foreground relative overflow-hidden",children:[r.jsx(u.Suspense,{fallback:null,children:r.jsx(Ft,{isMobile:U})}),r.jsxs("div",{className:"relative z-10 container-tight py-4 md:py-6",children:[r.jsx(u.Suspense,{fallback:r.jsx(b,{}),children:r.jsx(Bt,{selectedPeriod:a,onPeriodChange:y,selectedDate:c,onDateChange:h})}),r.jsx("div",{className:"flex justify-end mb-4",children:r.jsx(Ee,{onFiltersChange:A,currentFilters:f})}),r.jsx(u.Suspense,{fallback:r.jsx(b,{})}),"Optimized Stats Grid",r.jsx(u.Suspense,{fallback:r.jsx(b,{}),children:r.jsx(Dt,{mockData:ue,realData:s?.stats,loading:n})}),r.jsx(u.Suspense,{fallback:r.jsx(b,{}),children:r.jsx(Lt,{mockData:ue,realData:s?.stats,loading:n,selectedPeriod:a})})]}),r.jsx(Ce,{socketService:w,user:t}),r.jsx(u.Suspense,{fallback:null,children:r.jsx(qt,{})})]})});Re.displayName="EmotionalCheckinDashboard";const $t=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));export{$t as E,Ie as T,Kt as m,Wt as p};
