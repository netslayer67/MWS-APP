import{r,j as e}from"./index-BeQwOtyQ.js";import{M as c}from"./MoodIcon-DhEBdupp.js";import{T as x}from"./EmotionalCheckinDashboard-DbEewALQ.js";import{U as p}from"./users-BVc-u3T_.js";import"./frown-D5EpuXn-.js";import"./meh-Bb69F4_i.js";import"./smile-DJldyzQg.js";import"./socketService-CrK7Ga1g.js";import"./funnel-JNZh20hC.js";import"./building-DZs_ogcB.js";const d=r.memo(({users:t=[],title:n="Users Needing Support",icon:m=x,userType:h="users",showMood:l=!0,showMetrics:i=!0})=>{const a=t?.map(s=>({id:s.id||s._id,name:s.name,mood:s.mood||"sad",lastCheckin:s.lastCheckin||new Date(s.submittedAt).toLocaleDateString(),notes:s.notes||(i?`Presence: ${s.presenceLevel}/10, Capacity: ${s.capacityLevel}/10`:""),role:s.role,department:s.department,email:s.email}))||[];return a.length?e.jsxs("div",{className:"glass glass-card transition-all duration-300",children:[e.jsx("div",{className:"glass__refract"}),e.jsx("div",{className:"glass__refract--soft"}),e.jsx("div",{className:"glass__noise"}),e.jsxs("div",{className:"relative z-10 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-primary"}),e.jsx("h2",{className:"text-base md:text-lg font-semibold text-foreground",children:n})]}),e.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-primary/15 border border-primary/30 flex items-center justify-center",children:e.jsx("span",{className:"text-xs md:text-sm font-bold text-primary",children:a.length})})]}),e.jsx("div",{className:"space-y-2 md:space-y-3",children:a.map((s,o)=>e.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-card/40 border border-border/40 backdrop-blur-sm transition-all duration-300 hover:border-primary/40 hover:bg-card/60 cursor-pointer",style:{transitionDelay:`${o*50}ms`},children:e.jsxs("div",{className:"flex items-start gap-3",children:[l&&e.jsx(c,{mood:s.mood,size:"w-4 h-4 md:w-5 md:h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-foreground text-sm md:text-base truncate",children:s.name}),e.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 px-2 py-1 rounded-full bg-muted/50",children:s.lastCheckin})]}),s.role&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:s.role}),s.department&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"â€¢"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.department})]})]}),s.notes&&e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground leading-relaxed line-clamp-2",children:s.notes}),s.supportContact&&e.jsxs("div",{className:"mt-2 p-2 bg-primary/5 border border-primary/20 rounded text-xs",children:[e.jsx("span",{className:"font-medium text-primary",children:"Requested contact: "}),e.jsx("span",{className:"text-foreground",children:s.supportContact.name}),e.jsxs("span",{className:"text-muted-foreground",children:[" (",s.supportContact.role,")"]})]})]})]})},s.id||s.name))})]})]}):null});d.displayName="FlaggedUsers";const g=r.memo(t=>e.jsx(d,{...t,title:"Students Needing Support",userType:"students",icon:p}));g.displayName="FlaggedStudents";export{g as FlaggedStudents,d as default};
