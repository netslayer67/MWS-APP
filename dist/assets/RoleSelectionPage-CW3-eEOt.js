import{r as h,b as v,d as N,i as w,h as k,q as D,s as C,R,j as e,t as A,m as i,v as g,C as p,w as _,x as S}from"./index-Z8dj6zX8.js";import{B as M}from"./brain-CzpqYowh.js";const f=h.memo(({className:s,delay:a=0})=>e.jsx(i.div,{className:`absolute rounded-full blur-3xl pointer-events-none ${s}`,initial:{scale:.9,opacity:0},animate:{scale:[1,1.05,1],opacity:[.03,.06,.03]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:a}})),E=h.memo(()=>e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none opacity-[0.01]",children:e.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"24",height:"24",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 24 0 L 0 0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"0.3"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)",className:"text-foreground"})]})})),l=h.memo(({icon:s,title:a,desc:o,features:d,isPremium:t,onClick:c})=>e.jsxs(i.button,{onClick:c,className:"group relative w-full text-left glass glass--frosted p-4 md:p-5 rounded-xl md:rounded-2xl transition-all duration-300",whileHover:{scale:1.008,y:-2},whileTap:{scale:.995},children:[e.jsx("div",{className:"glass__refract"}),e.jsx("div",{className:"glass__noise"}),e.jsxs("div",{className:"relative space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 md:p-2.5 rounded-lg md:rounded-xl flex-shrink-0 ${t?"bg-primary shadow-md shadow-primary/15":"bg-surface border border-border"}`,children:e.jsx(s,{className:`w-5 h-5 md:w-6 md:h-6 ${t?"text-primary-foreground":"text-primary"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base md:text-lg font-bold text-foreground mb-0.5",children:a}),e.jsx("p",{className:"text-[11px] md:text-xs text-muted-foreground leading-snug",children:o})]}),t&&e.jsxs("div",{className:"hidden md:flex items-center gap-1 px-2 py-0.5 rounded-full bg-primary/10 border border-primary/25 flex-shrink-0",children:[e.jsx(_,{className:"w-2.5 h-2.5 text-primary"}),e.jsx("span",{className:"text-[9px] font-semibold text-primary uppercase tracking-wide",children:"AI"})]})]}),e.jsx("div",{className:"space-y-1.5",children:d.map((r,m)=>e.jsxs(i.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:m*.06},className:"flex items-start gap-2 text-[10px] md:text-[11px]",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-primary mt-1.5 flex-shrink-0"}),e.jsx("span",{className:"text-foreground leading-snug",children:r})]},m))}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/30",children:[e.jsx("span",{className:"text-[9px] md:text-[10px] text-muted-foreground",children:t?"Advanced analysis":"Traditional method"}),e.jsx(S,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-primary transition-transform duration-300 group-hover:translate-x-1"})]})]}),e.jsx("div",{className:"absolute inset-0 rounded-xl md:rounded-2xl opacity-0 transition-opacity duration-300 group-hover:opacity-100 pointer-events-none",children:e.jsx("div",{className:"absolute inset-0 rounded-xl md:rounded-2xl bg-gradient-to-br from-primary/4 to-transparent"})})]})),U=h.memo(()=>{const s=v(),{user:a,loading:o}=N(n=>n.auth),d=a&&w(a),t=k(a),c=D(a),r=C(a),m=["Monitor unit staff wellness","Handle support requests from your team","Unit-specific emotional analytics","Real-time team support tracking"],u=["All employees emotional wellness overview","Comprehensive staff analytics & insights","Organization-wide support tracking","Cross-department mood & weather patterns","Individual employee deep-dive analysis","Period-based reporting (daily/weekly/monthly/semesterly)"];c&&r&&u.unshift(`Mirrors ${r.delegatedFromName||r.delegatedFromEmail||"directorate"} dashboard access`);const y=t==="head_unit"?"Monitor your team's emotional wellness and support requests":c&&r?`Access the organization-wide dashboard entrusted to ${r.delegatedFromName||r.delegatedFromEmail}`:"Access comprehensive emotional wellness data for all employees",b=t==="head_unit"?m:u,j=a&&["teacher","se_teacher"].includes(a.role);R.useEffect(()=>{console.log("RoleSelection - User state:",a),console.log("RoleSelection - Loading state:",o),a&&(console.log("User role:",a.role),console.log("Is head_unit:",a.role==="head_unit"),console.log("Is directorate:",a.role==="directorate"))},[a,o]);const x=n=>{n==="manual"?s("/emotional-checkin/staff"):n==="ai"?s("/emotional-checkin/face-scan"):n==="dashboard"?s("/emotional-checkin/dashboard"):n==="teacher-dashboard"&&s("/emotional-checkin/teacher-dashboard")};return e.jsxs("div",{className:"relative min-h-screen text-foreground overflow-hidden",children:[e.jsx("div",{className:"absolute top-6 left-6 z-30",children:e.jsxs("button",{onClick:()=>s("/support-hub"),className:"inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold text-primary bg-white/80 border border-white/60 shadow-[0_10px_30px_rgba(0,0,0,0.08)] backdrop-blur-xl relative z-40",type:"button",children:[e.jsx(A,{className:"w-4 h-4"}),"Support Hub"]})}),e.jsx(f,{className:"top-0 left-0 w-80 h-80 md:w-96 md:h-96 bg-primary/8",delay:0}),e.jsx(f,{className:"bottom-0 right-0 w-72 h-72 md:w-80 md:h-80 bg-primary/6",delay:.8}),e.jsx(E,{}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-3 md:p-5",children:e.jsxs(i.div,{initial:{opacity:0,y:15},animate:{opacity:o?.7:1,y:0},transition:{duration:.4,ease:[.22,1,.36,1]},className:"w-full max-w-2xl",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center mb-6 md:mb-8",children:[e.jsx(i.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.8,delay:.15},className:"w-12 h-12 md:w-14 md:h-14 mx-auto rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/15 mb-4",children:e.jsx(g,{className:"w-6 h-6 md:w-7 md:h-7 text-primary-foreground"})}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-foreground mb-2",children:"Choose Check-in Method"}),e.jsx("p",{className:"text-[11px] md:text-xs text-muted-foreground max-w-md mx-auto leading-relaxed px-4",children:"Select your preferred emotional check-in method. Both are confidential and support your wellbeing."})]}),e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsx(l,{icon:g,title:"Manual Check-in",desc:"Traditional form-based assessment with weather metaphors and detailed reflection",features:["Weather-based mood selection","Detailed emotional reflection","Presence & capacity ratings","Support contact selection"],isPremium:!1,onClick:()=>x("manual")}),e.jsx(l,{icon:M,title:"AI Emotional Analysis",desc:"Face scan technology detects authentic micro-expressions beyond conscious control",features:["Real-time facial expression analysis","43 landmark micro-expression detection","AI psychologist insights & recommendations","Detects concealed emotions accurately"],isPremium:!0,onClick:()=>x("ai")}),j&&e.jsx(l,{icon:p,title:"Student Daily Check-in Dashboard",desc:"Review daily check-ins for your assigned class and track support needs.",features:["Class-scoped student check-ins","Daily submission tracking","Needs support highlights","Quick search by student"],isPremium:!1,onClick:()=>x("teacher-dashboard")}),d&&e.jsx(l,{icon:p,title:t==="head_unit"?"Unit Dashboard":"Emotional Checkin Dashboard",desc:y,features:b,isPremium:!1,onClick:()=>x("dashboard")}),a&&a.role&&!d&&e.jsxs("div",{className:"glass rounded-lg md:rounded-xl p-3 md:p-4 text-center",children:[e.jsxs("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:["Role: ",e.jsx("span",{className:"font-semibold text-foreground",children:a.role})]}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-muted-foreground/70 mt-1",children:"Dashboard access is available for Directorate, Head Unit, or approved delegated accounts."})]}),a&&(a.role==="directorate"||a.role==="admin"||a.role==="superadmin")&&e.jsx(l,{icon:p,title:"User Management",desc:"Manage users, roles, and organizational structure",features:["User account management","Role and permission settings","Organizational hierarchy","Advanced user analytics"],isPremium:!1,onClick:()=>s("/user-management")}),o&&e.jsxs("div",{className:"glass rounded-lg md:rounded-xl p-4 text-center",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:"Loading user data..."})]}),!o&&!a&&e.jsx("div",{className:"glass rounded-lg md:rounded-xl p-4 text-center",children:e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:"No user data available. Please try logging in again."})})]}),e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"mt-6 md:mt-8",children:e.jsx("div",{className:"glass rounded-lg md:rounded-xl p-3 md:p-4",children:e.jsx("p",{className:"text-[9px] md:text-[10px] text-muted-foreground leading-relaxed text-center",children:"Your emotional wellbeing is our priority. All check-ins are confidential, processed securely, and designed to support your mental health journey."})})}),e.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-3 text-center text-[8px] md:text-[9px] text-muted-foreground/70",children:"Millennia World School â€¢ Emotional wellness platform"})]})})]})});U.displayName="RoleSelection";export{U as default};
